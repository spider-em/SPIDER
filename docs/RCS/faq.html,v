head	1.66;
access;
symbols;
locks;
comment	@# @;


1.66
date	2017.01.20.15.35.13;	author leith;	state Exp;
branches;
next	1.65;

1.65
date	2010.01.21.13.50.12;	author leith;	state Exp;
branches;
next	1.64;

1.64
date	2010.01.21.13.47.23;	author leith;	state Exp;
branches;
next	1.63;

1.63
date	2009.01.05.20.41.46;	author leith;	state Exp;
branches;
next	1.62;

1.62
date	2008.05.16.18.23.29;	author leith;	state Exp;
branches;
next	1.61;

1.61
date	2006.09.20.16.15.42;	author leith;	state Exp;
branches;
next	1.60;

1.60
date	2006.09.12.19.19.20;	author leith;	state Exp;
branches;
next	1.59;

1.59
date	2006.02.24.20.26.59;	author leith;	state Exp;
branches;
next	1.58;

1.58
date	2006.02.24.20.19.56;	author leith;	state Exp;
branches;
next	1.57;

1.57
date	2005.12.30.20.07.30;	author leith;	state Exp;
branches;
next	1.56;

1.56
date	2005.10.26.20.44.39;	author leith;	state Exp;
branches;
next	1.55;

1.55
date	2005.10.26.20.33.28;	author leith;	state Exp;
branches;
next	1.54;

1.54
date	2005.10.26.14.50.39;	author leith;	state Exp;
branches;
next	1.53;

1.53
date	2004.08.05.18.06.30;	author bbaxter;	state Exp;
branches;
next	1.52;

1.52
date	2004.07.29.13.42.42;	author leith;	state Exp;
branches;
next	1.51;

1.51
date	2004.07.21.18.20.07;	author leith;	state Exp;
branches;
next	1.50;

1.50
date	2004.07.14.17.43.30;	author leith;	state Exp;
branches;
next	1.49;

1.49
date	2004.07.09.17.40.32;	author leith;	state Exp;
branches;
next	1.48;

1.48
date	2003.02.05.16.03.28;	author leith;	state Exp;
branches;
next	1.47;

1.47
date	2002.10.29.16.51.05;	author leith;	state Exp;
branches;
next	1.46;

1.46
date	2002.08.02.17.55.09;	author leith;	state Exp;
branches;
next	1.45;

1.45
date	2002.06.21.12.56.41;	author leith;	state Exp;
branches;
next	1.44;

1.44
date	2002.06.19.15.09.17;	author leith;	state Exp;
branches;
next	1.43;

1.43
date	2002.03.05.14.57.29;	author leith;	state Exp;
branches;
next	1.42;

1.42
date	2002.02.22.21.10.54;	author leith;	state Exp;
branches;
next	1.41;

1.41
date	2002.02.22.20.53.24;	author leith;	state Exp;
branches;
next	1.40;

1.40
date	2002.02.12.15.11.01;	author leith;	state Exp;
branches;
next	1.39;

1.39
date	2002.01.14.18.28.28;	author leith;	state Exp;
branches;
next	1.38;

1.38
date	2002.01.14.18.14.58;	author leith;	state Exp;
branches;
next	1.37;

1.37
date	2002.01.10.15.19.31;	author leith;	state Exp;
branches;
next	1.36;

1.36
date	2001.10.31.16.17.56;	author leith;	state Exp;
branches;
next	1.35;

1.35
date	2001.09.17.14.00.24;	author leith;	state Exp;
branches;
next	1.34;

1.34
date	2001.09.05.17.29.45;	author leith;	state Exp;
branches;
next	1.33;

1.33
date	2001.05.02.15.41.16;	author leith;	state Exp;
branches;
next	1.32;

1.32
date	2001.03.30.14.08.47;	author leith;	state Exp;
branches;
next	1.31;

1.31
date	2001.02.08.19.32.51;	author leith;	state Exp;
branches;
next	1.30;

1.30
date	2001.02.02.16.44.17;	author leith;	state Exp;
branches;
next	1.29;

1.29
date	2000.11.03.20.23.40;	author leith;	state Exp;
branches;
next	1.28;

1.28
date	2000.10.30.18.43.00;	author leith;	state Exp;
branches;
next	1.27;

1.27
date	2000.09.13.14.30.27;	author leith;	state Exp;
branches;
next	1.26;

1.26
date	2000.09.05.18.00.17;	author leith;	state Exp;
branches;
next	1.25;

1.25
date	2000.08.22.17.44.40;	author leith;	state Exp;
branches;
next	1.24;

1.24
date	2000.08.22.15.35.31;	author leith;	state Exp;
branches;
next	1.23;

1.23
date	2000.03.14.17.22.20;	author leith;	state Exp;
branches;
next	1.22;

1.22
date	2000.02.18.16.22.54;	author leith;	state Exp;
branches;
next	1.21;

1.21
date	99.11.04.18.00.37;	author leith;	state Exp;
branches;
next	1.20;

1.20
date	99.09.13.15.56.18;	author leith;	state Exp;
branches;
next	1.19;

1.19
date	99.08.25.17.37.44;	author leith;	state Exp;
branches;
next	1.18;

1.18
date	99.08.05.16.17.04;	author leith;	state Exp;
branches;
next	1.17;

1.17
date	99.07.06.18.05.48;	author leith;	state Exp;
branches;
next	1.16;

1.16
date	99.04.27.19.32.24;	author leith;	state Exp;
branches;
next	1.15;

1.15
date	99.04.27.18.42.59;	author leith;	state Exp;
branches;
next	1.14;

1.14
date	99.03.30.17.28.22;	author leith;	state Exp;
branches;
next	1.13;

1.13
date	99.03.15.18.49.55;	author leith;	state Exp;
branches;
next	1.12;

1.12
date	99.03.10.14.07.58;	author leith;	state Exp;
branches;
next	1.11;

1.11
date	99.03.03.16.36.02;	author leith;	state Exp;
branches;
next	1.10;

1.10
date	98.09.15.16.24.45;	author leith;	state Exp;
branches;
next	1.9;

1.9
date	98.08.21.13.56.24;	author leith;	state Exp;
branches;
next	1.8;

1.8
date	98.07.24.12.56.40;	author leith;	state Exp;
branches;
next	1.7;

1.7
date	98.06.10.13.58.39;	author leith;	state Exp;
branches;
next	1.6;

1.6
date	98.06.10.13.55.07;	author leith;	state Exp;
branches;
next	1.5;

1.5
date	97.08.04.18.26.12;	author leith;	state Exp;
branches;
next	1.4;

1.4
date	97.07.22.18.06.38;	author leith;	state Exp;
branches;
next	1.3;

1.3
date	97.07.22.17.46.22;	author leith;	state Exp;
branches;
next	1.2;

1.2
date	97.07.22.13.45.32;	author leith;	state Exp;
branches;
next	1.1;

1.1
date	97.05.29.20.13.35;	author leith;	state Exp;
branches;
next	;


desc
@@


1.66
log
@no agl
@
text
@<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
   <title>FAQ : SPIDER &amp; WEB</title>
   <style type="text/css">
      code { font-weight:normal; }
      pre  { font-weight:normal; }
      kbd  {font-family:Courier,"Courier New",monospace;}
   </style>

</head>
<body>

<h1 align="center">FAQ : SPIDER &amp; WEB</h1>

<hr />
<h3 align="center">Contents</h3>

<ul>

<li><big>Why is <a href="#toomany"> SPIDER slow when accessing lots of windowed images</a>/
    </big></li>

<li><big>Howto <a href="#contour"> generate a contour plot of an image?</a>
    </big></li>

<li><big>Howto  
    <a href="#protocol"> prevent poll: protocol failure</a> when using PubSub?
    </big></li>

<li><big>What <a href="#2gb">about large (>2GB) stacks in SPIDER</a>
   ?</big></li>

<li><big>Howto <a href="#vol">obtain the volume of a density map
   displayed with a given threshold</a> ?</big></li>

<li><big>Howto <a href="./fftw.html">use FFTW (Fastest Fourier
   Transform in the West)</a> with SPIDER?</big></li>

<li><big>Howto <a href="#processors">set number of processors
   SPIDER uses</a> on OMP machines?</big></li>

<li><big>Howto <a href="#GATAN">import images from GATAN CCD
   camera</a> into SPIDER?</big></li>

<li><big>Howto <a href="#import">import TIFF images</a> into
   SPIDER?</big></li>

<li><big>Howto <a href="#use">use a reference to align my 2-D
   images?</a></big></li>

<li><big>Howto <a href="#compare">compare a simple 3-D model for my
   molecule</a> with my SPIDER model?</big></li>

<li><big>Howto <a href="#determine">determine the resolution of a
   reconstruction?</a></big></li>

<li><big>Howto <a href="#correct">correct averaged images from two
   different defoci?</a></big></li>

<li><big>Why <a href="#rt3d">doesn't 'RT 3D' rotate boundary
   areas?</a></big></li>

<li><big>Why does <a href="#rt3da">'RT SQ' produce an
   "artefact"</a> in slices for some angles.</big></li>

<li><big>Howto <a href="#surface">create surface models of SPIDER
   volumes?</a></big></li>

<li><big>Howto <a href="#shadow">improve shadowed
   images?</a></big></li>

<li><big>Is there a problem with <a href="#contrast">differential
   contrast</a> of DNA and protein in SPIDER
   reconstructions?</big></li>

<li><big>Howto <a href="#ccp4">convert CCP4</a> files to SPIDER
   format?</big></li>

<li><big>Is SPIDER useful in image averaging and <a href=
   "#afm1">3-D reconstruction for AFM?</a></big></li>

<li><big>What are <a href="#definitions">definitions of astigmatism
   and azimuth</a> in the 'TF' operation?</big></li>

<li><big>Is there any operation which <a href=
   "#normalized">normalizes images at slightly different
   magnifications</a> before image averaging?</big></li>

<li><big>How does <a href="#align">alignment with 'AP SH' or 
   'AP MD' work with negative pixel values?</a></big></li>

<li><big>Howto <a href="#ar">rescale an image's range to 0 - 255
   using 'AR'?</a></big></li>

<li><big>Howto <a href="#drift">correct for drift in images</a> by
   Wiener filtering for example?</big></li>

<li><big>Howto <a href="#missing">deal with missing markers when
   using the 'MK' operation</a> for alignment in tomographic
   reconstructions?</big></li>

<li><big>Howto <a href="#x">use WEB to represent surfaces from
   crystallographic maps?</a></big></li>

<li><big>What is <a href="#pdb">position of a location in a SPIDER
   volume made from a PDB map?</a></big></li>

<li><big>What does <a href="#casi">CA SI do?</a></big></li>

<li><big>Howto <a href="#color">set color of the menu text and
   background in WEB?</a></big></li>

<li><big>Howto <a href="#pick">pick particles in
   SPIDER/WEB?</a></big></li>

<li><big>Howto <a href="#view">view particles from low defocus
   micrographs using WEB?</a></big></li>

<li><big>Howto <a href="#work">use 8 bit WEB on Linux</a> without
   permanently switching your only display to 8 bit mode?</big></li>

<li><big>Howto <a href="#viewimg">view SPIDER images</a> without
   using <i>Web</i>?</big></li>
</ul>

<hr />

<dl>



<p><a name="toomany"></a></p>
</dd>
<dt>QUESTION</dt>
<dd>Why is SPIDER slow with lots of windowed images?</dd>
<dt>ANSWER</dt>

<dd>If you have over a few thousand windowed images then you <b>SHOULD</b>
    always place the images in a 
    <a href="./user_doc.html#file_stack">SPIDER stack file</a>. 
    <br />
    otherwise there will be severe thrashing of the file system leading
    to very poor performance of <b>any</b> system operation, e.g. <i>ls</i>, 
    and poor performance of SPIDER.  This is not a SPIDER issue, it it a
    filesystem isssue.
</dd>

<p><a name="contour"></a></p>
<dt>QUESTION</dt>
<dd>Howto generate a contour plot?</dd>
<dt>ANSWER</dt>

<dd>Using the operation <a href="./man/co.html">CO</a> you choose
levels and increments according to the information you are trying to
get.  The smaller the increments, the more finely you get a sense of
the density distribution in your image.  Contouring raw,
noisy images makes no sense -- you should only apply contouring to
average images or highly low-pass-filtered images.  You want to pick
start and end level normally as the lowest and highest value occurring
in the image, so the contour diagram will give you information about
the entire value range, unless you want to suppress some of that
range. Note also that there is an option to create contouring directly
overlayed on the image -- the <a href="./man/fc.html">FC</a> operation.
This produces more informative and esthetically pleasing contour maps.  
To use this option, you must first create a large version of the image 
using the <a href="./man/ip.html">IP</a>IP
operation, otherwise the contours will look very pixelated.</dd> 

<p><a name="2gb"></a></p>
<dt>QUESTION</dt>
<dd>What about large (>2GB) stacks or voumes in SPIDER</dd>
<dt>ANSWER</dt>

<dd>With most compilations, SPIDER can create and
    access disk based files > 2GB.  Some compilations on a 32 bit OS
    may be limited to these small volumes.  I suggest you switch to a
    64 bit OS if you are having troubles. </dd> 
   

<p><a name="vol"></a></p>
<dt>QUESTION</dt>
<dd>Howto obtain the volume of a density map displayed with a given
   threshold?</dd>
<dt>ANSWER</dt>
<dd>Use the <a href="./man/hir.html">HI R</a> operation and set
   lower range desired threshold THRESH and upper range byond the file
   maximum. The number of PIXELS IN HISTOGRAM is the volume VOLP in
   units of pixel**3. To obtain the actual volume, multiply VOLP with
   the volume of a voxel, which is the (Angstroms per pixel)**3. Note
   that everytime you change the theshold THRESH, you have to repeat
   this analysis.</dd>




<p><a name="processors"></a></p>
</dd>
<dt>QUESTION</dt>
<dd>How do I set the number of processors SPIDER uses on a
    SMP multiprocessor machine using OMP?</dd>
<dt>ANSWER</dt>

<dd>Number of processors is set before (or during) a run. There are
    two methods you can use to control this.<br />
   <ul>
   <li>The Environment variables: MP_SET-NUMTHREADS and 
   MP-SUGNUMTHD can be used to control number of processors. </li>
   <li>SPIDER
   has suboption to the <a href="./man/md.html">MD</a> operation
   called:. "SET MP" to allow fine control of number of processors
   during the run. See Unix man for <i>mp_set_numthreads</i> for more
   info.</li>
   </ul></dd>

<p><a name="GATAN"></a></p>
<dt>QUESTION</dt>
<dd>How to import images from GATAN CCD camera into SPIDER?</dd>
<dt>ANSWER</dt>

<dd>
; -- Procedure to import images from GATAN to SPIDER 
<table>
<tr><td>DO  [num]=1,7</td>                   <td> ; LOOPs over the micrograph number </td></tr>
<tr><td>&nbsp;&nbsp CP FROM RAW </td>        <td> ; Copy operation </td></tr>
<tr><td>&nbsp;&nbsp;  (16) </td>             <td> ; How many bits </td></tr>
<tr><td>&nbsp;&nbsp;  mic/mic{***[num]}</td> <td> ; Input file name, indexed by counter </td></tr>
<tr><td>&nbsp;&nbsp;  (1024 1024) </td>      <td> ; Input file dimensions </td></tr>
<tr><td>&nbsp;&nbsp;  (8)  </td>             <td> ; Skip header bytes </td></tr>
<tr><td>&nbsp;&nbsp;  (1) </td>              <td> ; Most significant byte </td></tr>                                 
<tr><td>&nbsp;&nbsp;  N   </td>              <td> ; Do not fold negatives  </td></tr>             
<tr><td>&nbsp;&nbsp;  mic/spi{***[num]} </td><td> ; Output file name, indexed by counter </td></tr>
<tr><td>ENDDO</td>                           <td> ; End of LOOP</td></tr>
<tr><td>EN</td>                              <td> ; End of procedure </td></tr>
</table>
</dd>


<p><a name="use"></a>/p>
<dt>QUESTION</dt>
<dd>How do I use a single reference to align my 2-D images?</dd>
<dt>ANSWER</dt>

<dd>There are two operations in SPIDER that can be used for a
   reference-based alignment. Their original purpose was
   multi-reference alignment, but by limiting the number of reference
   images to one one can perform a reference-based alignment of 2D
   data. The operations are called <a href="./man/apsh.html">AP SH</a>
   and <a href="./man/apmr.html">OR SH</a>. 
   Both operations are very simple and
   they do not require any procedure programs. The alignment
   parameters found can be applied to the data using procedure
   programs included in the respective manual chapters.</dd>


<p><a name="compare"></a></p>
<dt>QUESTION</dt>
<dd>I have a simple 3-D model for my molecule. How can I compare
   this model with my SPIDER model?</dd>
<dt>ANSWER</dt>

<dd>This is done using a 3D projection alignment procedure. It is
   based on operation <a href="./man/apmd.html">AP MD</a>. The
   corresponding manual chapter contains an example of the whole
   procedure. It assumes that a SPIDER volume containing a reference
   structure is available.</dd>


<p><a name="determine"></a></p>
<dt>QUESTION</dt>
<dd>How to Determine the resolution of a reconstruction.</dd>
<dt>ANSWER</dt>

<dd>Using operation <a href="./man/asr.html">AS R</a> one can
   obtain averages corresponding to odd- and even-numbered images.
   (sample procedure file:)   <br />
   <dl><kbd>
   <dd>AS R</dd>
   <dd>data/my_images****</dd>
   <dd>1-2200</dd>
   <dd>O</dd>
   <dd>aveodd001</dd>
   <dd>varodd001</dd>
   <dd>aveven001</dd>
   <dd>vaeven001</dd>
   <dd>EN</dd>
   <kbd></dl>

  The averages can be compared using operation <a href="./man/rf.html">"RF"</a>.
  This operation will produce a document file with R-factor, 
  phase residual, and Fourier ring correlation measures.

<p>Alternatively, operation <a href="./man/rfsn.html">"RF SN"</a> can be used 
   on the image series
   to obtain spectral-signal-to-noise-ratio measure of the resolution
   (sample procedure file:)  <br />
   <dl><kbd>
   <dd>RF SN               </dd>
   <dd>ddata/my_images**** </dd>
   <dd>select &nbsp;&nbsp;  ; Selection document file, see the manual file</dd>
   <dd>mask   &nbsp;&nbsp;  ; Mask image fine defining region of interest</dd>
   <dd>0.5        </dd>
   <dd>ssnr_doc   </dd>
   <kbd></dl>
</p>
</dd>

<p><a name="correct"></a></p>
<dt>QUESTION</dt>
<dd>I have two averaged images that are at two different defoci.
    How do I correct one to match the other?</dd>
<dt>ANSWER</dt>

<dd>Due to a low SNR in 2D image data we do not apply CTF
   correction on these images. Instead, we correct for the CTF final
   3D reconstructions. This is done (for any number of volumes) using
   <a href="./man/tfctf.html">TF CTF</a> operation. Fourier volumes
   containing CTFs for all the defocus sets are needed and they can be
   created using operation: <a href="./man/tfc3.html">TF C3</a>. Other
   CTF operations are grouped under operation "TF".</dd>


<p><a name="rt3d"></a></p>
<dt>QUESTION</dt>
<dd>When the <a href="./man/rt3d.html">RT 3D</a> operation rotates
   a volume by 45,0,0 degrees (phi, theta, psi), why isn't the last
   Z-slice rotated?</dd>

<dt>ANSWER</dt>

<dd>This is not an error, it is supposed to work this way. To
   rotate the volume one has to interpolate it. The 'tri-linear'
   interpolation requires that for a voxel (i,j,k) the neighbouring
   voxels are available as well, i.e., voxels (i+1,j,k), (i,j+1,k),...
   ,(i+1,j+1,k+1). If the neighbouring voxels are unavailable (they
   are outside of the field or in the corners) the current voxel is
   left unchanged. Thus, to rotate last slice, k=NSLICE, one would
   need values at NSLICE+1, which are unavailable. Thus, the last
   slice is left without change.<br />
   If you want to rotate volume around Z axis (angles=(psi,0,0)) you
   can use the operation <a href="./man/rt3q.html">RT 3Q</a>, which
   will rotate all the slices by the same angle around Z axis.</dd>


<p><a name="rt3da"></a></p>
<dt>QUESTION</dt>
<dd>Why does <a href="./man/rtsq.html">RT SQ</a> produce an
   "artifact" in slices for some angles.</dd>
<dt>ANSWER</dt>

<dd>The 'RT SQ' operation assumes that the 2D image (in your case
   it is a volume, but 'RT SQ' operates on Z-slices independently, so
   we can discuss 2D case only) is "circularly closed", or "wrapped
   around". Assume that pixels are numbered from -N to N (this you can
   always do by subtracting image center). Thus, according to RT SQ
   pixels number -N-1 is equivalent to pixel +N. In case of corner
   pixels and rotation angles close to 45 degrees the corners upon
   rotation will end up close to the center (if you rotate point (N,N)
   by 45 degrees it will have coordinates (1.41*N,0), and according to
   the rule described (-0.41*N,0) - close to the center).

<p>Command "RT SQ" was designed to work for objects that are
   surrounded by noise. In this case it makes sense to put noise in
   the corners. For model objects, such as yours, it will create
   "artifacts". Since upon rotation the corners always stick out
   beyond the image frame one is free to decide what should be put
   there.</p>

<p>In the manual, each rotation operation has a remark stating
   which convention was used. <a href="./man/rt3d.html">RT 3D</a>, for
   example, leaves corners intact and will work better for your
   object. <a href="./man/rtb.html">RT B</a> leaves you a possibility
   to supply your own value that will fill the corners. Please note
   that only "RT SQ" uses quadratic interpolation.</p>
</dd>


<p><a name="shadow"></a></p>
<dt>QUESTION</dt>
<dd>I have a collection of high-resolution rotary shadowed images
   of various proteins. Can I use SPIDER image processing and analysis
   to improve the data gained from these images?.</dd>
<dt>ANSWER</dt>

<dd>On the basis of the fact that all images represent equally and
   isotropically treated particles, it should be possible to use
   alignment algorithms provided in SPIDER, and obtain a 2D average.
   However, 3D information cannot be retrieved -- the retrieval of the
   3D profile would require unidirectional shadowing and the use of a
   filter that Smith and Kistler developed several years ago. This
   filter is not implemented in SPIDER, but it could be added. <br />
   <p>Other than that, SPIDER could be used for all kinds of more or
   less cosmetic operations such as contrast enhancement and high- or
   low-pass filtration.</p>
</dd>

<p><a name="contrast"></a></p>
<dt>QUESTION</dt>
<dd>We have come across a curious phenomenon in imaging nucleosomes
   using cryo-EM. Images of unstained frozen hydrated nucleosomes are
   dominated by contrast from the peripheral (~100KDa) DNA component,
   while the central protein assembly (also ~100KDa, but occupying a
   smaller volume) has a density very close to the background ice. CTF
   correction has little effect on the contrast.   
 
<p>I had assumed that the differential contrast was related to the
   high <i>P</i> content of the DNA, but have now used the nucleosome
   X-ray coordinates and SPIDER's <a href="./man/cpfrompdb.html">'CP
   from PDB'</a> to simulate projection images. These show strong, and
   approximately equal, contrast from both the DNA and protein
   components, in other words, no differential contrast is
   observed.</p>
</dd>
<dt>ANSWER</dt>
<dd>Currently SPIDER uses only the phase contrast component,
   transferred with sin(gamma), for simulations of EM images from
   atomic coordinates. The differential contrast between DNA and
   protein core in nucleosomes that you see with cryo-EM is produced
   by the increased amplitude contrast ("anomalous scattering") of the
   P atoms. When we have a chance to incorporate both amplitude and
   phase contrast in the modeling procedure, I'm sure you will find a
   close match between theory and experiment.</dd>


<p><a name="ccp4"></a></p>
<dt>QUESTION</dt>
<dd>How to convert CCP4 files to SPIDER format?</dd>
<dt>ANSWER</dt>
<dd>Use <a href="./man/cpfromccp4.html">COPY FROM CCP4</a>.</dd>

<p><a name="afm1"></a></p>
<dt>QUESTION</dt>
<dd>Is SPIDER useful in image averaging and 3-D reconstruction for
   AFM? If I imaged molecules in different orientations on a surface
   and I could deconvolute the effect of my AFM tip from the image,
   can I use SPIDER in any way to help to 3-D average or reconstruct
   the imaged molecules?</dd>
<dt>ANSWER</dt>

<dd>There are operations in SPIDER that you can use for averaging
   or deconvolution. What you get from AFM is surface topology; i.e.,
   a segment of the molecular surface. At best, you can put the entire
   molecular surface back together from such segments, if you 1) have
   copies of the same molecule lying in different orientations and 2)
   have a way to quantitatively determine these orientations. This
   would be a process similar to putting the shell of an Easter egg
   together from its pieces. (I'm saying Easter egg, since the normal
   egg is quite symmetric, but the Easter egg fits the analogy better
   since it is painted with a hopefully asymmetric pattern).<br />
<br />
   But you should note that all operations in SPIDER that are related
   to the determination of orientations or 3D reconstruction address
   an entirely different problem, namely to interpret and make use of
   2D projections of a 3D density distribution.<br />
<br />
   Therefore, the answer to your question is: yes, you will find
   SPIDER quite useful in helping you to analyze and process images,
   but no, it will not help you with the specific problem of Easter
   egg-type 3D reconstruction.</dd>


<p><a name="definitions"></a></p>
<dt>QUESTION</dt>
<dd>I want to make astigmatic CTF functions, and am confused by
   your definitions of "astigmatism and azimuth". The definition of
   astigmatism that I know has a long and a short axis which define
   the ellipse, and an angle that defines the orientation of the long
   dimension of the ellipse relative to your X and Y axes. I don't
   understand how this relates to the azimuth in your operations which
   is defined as "the angle, in degrees, that characterizes the
   direction of astigmatism. The angle defines the origin direction
   where the astigmatism has no effect."<br />
   What are definitions of astigmatism and azimuth in the <a href=
   "./man/tf.html">TF</a> operation?.</dd>

<dt>ANSWER</dt>

   <dd>In the SPIDER operation, the zero azimuth points into the
   direction where the astigmatic focus difference has no effect;
   i.e., 45 degrees away from your definition. This is practical as a
   definition , since in this case the astigmatism term simply adds to
   the mean defocus.</dd>


<p><a name="align"></a></p>
<dt>QUESTION</dt>
<dd>I am aligning particles using either <a href=
   "./man/apmd.html">AP MD</a> or <a href="./man/apsh.html">AP SH</a>.
   The protein is "white" and there are nanogold labels on the protein
   that are "black" (essential negative pixel values). My
   understanding is that SPIDER alignments only pay attention to the
   white or positive pixel values and not the black negative pixel
   values? As long as I normalize the images (avg=0, sd=1), is this
   truly the case? Will I have alignment difficulties from alignment
   of the small nanogold dots to each other?</dd>
<dt>ANSWER</dt>

<dd>That's incorrect. Alignment algorithms take into account the
   whole density range, without paying attention to the (arbitrary)
   polarity. Such dots would tend to align to each other, compromising
   the overall alignment of the protein part.</dd>


<p><a name="normalized"></a></p>
<dt>QUESTION</dt>
<dd>Is there any operation in SPIDER which allows images at
   slightly different magnifications to be normalized with respect to
   each other before image averaging?</dd>
<dt>ANSWER</dt>

<dd>Operation <a href="./man/ip.html">'IP'</a> will re-interpolate
   an image onto a new grid, so it will help re-scale to make up for a
   magnification change. Combine it with either <a href=
   "./man/pd.html">'PD'</a> (pad) or <a href="./man/wi.html">'WI'</a>
   (window) to get back to the same dimensions. However, we don't have
   a single operation that will let you <b>DETERMINE</b> the
   magnification change. The corresponding mathematical operation is
   the Mellon transform, which is not implemented. You can however
   write a simple procedure with a do-loop trying out different scale
   changes (using 'IP', etc. as explained above) followed by a 'CC C'
   operation, taking care that you keep the images centered, and that
   you only compare non-padded portions of the images.</dd>


<p><a name="import"></a></p>
<dt>QUESTION</dt>
<dd>How to import TIFF images into SPIDER?</dd>
<dt>ANSWER</dt>

<dd>Many black and white TIFF files consist of 8 or 16 bit raw data
   preceeded by a fixed length (often 1024 byte) header. They can
   sometimes be converted to SPIDER format using the 
   <a href= "./man/cpfromraw.html">CP FROM RAW</a> operation. 

   <table><kbd>
   <tr><td>CP FROM RAW</td>  <td> ; Copy operation</td></tr> 
   <tr><td>8</td>            <td> ; How many bits </td></tr>
   <tr><td>imgin</td>        <td> ; Input file name </td></tr>
   <tr><td>512 512</td>      <td> ; Input file dimensions </td></tr>
   <tr><td>1024</td>         <td> ; Skip header bytes </td></tr>
   <tr><td>imgout</td>       <td> ; Output file name </td></tr>
</kbd></table>
</dd>


<p><a name="ar"></a></p>
<dt>QUESTION</dt>
<dd>How to rescale an image's range to 0 - 255 using 
<a href="./man/ar.html">AR</a>?</dd>
<dt>ANSWER</dt>
<dd>Use <a href="./man/arsca.html">AR SCA</a> instead.</dd>

<p><a name="casi"></a></p>
<dt>QUESTION</dt>
<dd>What did <a href="./man/cas.html">'CA SI'</a> do?</dd>
<dt>ANSWER</dt>

<dd>CA SI read in the images and passed them through the mask -- it
   put the passed pixels into one single array (lexicographically
   ordered), which becomes one record of a sequential file. This
   sequential file is subsequently used by <a href=
   "./man/cas.html">'CA S'</a> to do the analysis. As of SPIDER
   version 10.0 this is all done within: <a href="./man/cas.html">'CA
   S'</a> and 'CA SI' is no longer used.</dd>


<p><a name="drift"></a></p>
<dt>QUESTION</dt>
<dd>Howto correct for drift in images by Wiener filtering for
   example?</dd>
<dt>ANSWER</dt>

<dd>It isn't worth the effort. The zeros mean that parts of the
   transform are completely lost. One could of course think of
   combining pictures that have undergone different amounts (and
   directions) of drift, to cover all zeros, but it is much easier to
   do the experiment right and discard the images affected by
   drift.<br />
    I'm not aware of any efforts in the EM field, for the reasons
   stated. However, I've seen literature on successful drift
   correction in general image processing applications, but note that
   in those applications the SNR is normally much higher than in EM
   images, meaning that more info can be recovered in the vicinity of
   the zeros.</dd>



<p><a name="missing"></a></p>
<dt>QUESTION</dt>
<dd>When using SPIDER marker <a href="./man/mk.html">MK</a>
   operation as part of a tomographic reconstruction proceedure, how
   do I deal with a marker that is not visible in a given projection?
   Can one just not enter data for that particular marker in the
   offending projection?</dd>
<dt>ANSWER</dt>

<dd>Sometimes it is OK to leave a marker out on one or two images,
   but in that case you must edit the marker document files so that
   the key number for the markers correspond to same gold particles on
   all the images. Either renumber the keys or pick a "dummy" for the
   missing marker, then delete that line.<br />
    It is better not to try and get by with missing markers,
   however.</dd>


<p><a name="protocol"></a></p>
<dt>QUESTION</dt>
<dd>When using PubSub I sometimes get following message and it
   quits running:<br />
<i>poll: protocol failure during circuit creation</i> What can I
   do to prevent this?</dd>
<dt>ANSWER</dt>

<dd>You may see this
   message if you attempt to run too many rsh processes. Depending on
   the particular Linux distribution, there may be a limit
   of as few as 40 processes per minute. It is possible to exceed this
   limit.<br />
    To fix this, you can do one of the following: 
    <p>
    1. Wait a few seconds between running parallel jobs. You may need
      to wait up to a minute. 
    </p>
    <p>
   2. If your system uses:/etc/inetd.conf,  modify /etc/inetd.conf to allow more
     processes per minute for rsh. For example, change: <br />
     <i>shell stream tcp nowait root /etc/tcpd2 in.rshd</i><br />
   to:<br />
    <i>shell stream tcp nowait.200 root /etc/tcpd2 in.rshd</i><br />
    </p>
    <p>
   3. If your system uses xinetd, you probably need to set the "cps" 
    field of:&nbsp;&nbsp;&nbsp;/etc/xinetd.d/rsh &nbsp;&nbsp;&nbsp; 
    to a large value such as "200 5" for xinet to handle the 
    expected traffic. We haven't tested this, but here's 
    two fields that: &nbsp;&nbsp;&nbsp;/etc/xinetd.d/rsh &nbsp;&nbsp;&nbsp; 
    should contain:<br />

   <br />
   service shell <br />
   { <br />
   cps    &nbsp; &nbsp;     = 1000 10<br />
   disable  &nbsp; &nbsp;    = no<br />
   }<br />
   <br />

After modifying this file, you'll need to restart <i>xinetd</i>
   using <i>"/etc/rc.d/init.d/xinetd restart"</i>.    
</p>
</dd>


<p><a name="x"></a></p>
<dt>QUESTION</dt>
<dd>I'am trying to fit a high-resolution X-ray model into a low
   resolution EM map. It appears that SPIDER'S WEB is capable of
   representing surfaces from maps? If so, what kind of map formats
   does WEB accept? Do you provide software for map conversion, etc?
   My maps are in 'crystallographer-friendly' formats such as CCP4 and
   XPLOR.</dd>
<dt>ANSWER</dt>

<dd>Yes, but WEB doesn't allow you to do interactive fits. You'd be
   better off using the package "O", which we use all the time. What
   we do is make preliminary displays using WEB, then prepare the
   volume using low-pass filtration as appropriate, then use an
   operation in SPIDER that makes a "map" file out of it compatible
   with "O", then display the map in "O" along with structures
   directly imported from "pdb". We also routinely import "pdb"
   structures into SPIDER and convert them to densities, then low-pass
   filter (and, if applicable, apply "CTF") them, and go the same
   route as for the cryo-volume into "O", if we want to simulate the
   appearance of the structure as seen in the microscope, and compare
   it with what we see as extra density.<br />
   Yes, both CCP4 and XPLOR data can be imported.</dd>


<p><a name="surface"></a></p>
<dt>QUESTION</dt>
<dd>How can I create a surface model from a SPIDER volume.</dd>
<dt>ANSWER</dt>

<dd>One way of visualizing surfaces contained in a SPIDER volume is
   to use the <a href= "../../web/docs/web.html#OPERATION">WEB-Surface</a> 
   operation. This allows the user to generate a shaded rendering at a 
   particular threshold level within the volume.<br />

<p>To make a surface model our usual procedure is to use 
   <a href= "http://www.nag.com">NAG's Iris Explorer</a> to read SPIDER
   volumes, threshold the volume, and create a surface model in
   Inventor format. We then use a rendering viewer available in Iris
   Explorer to render the surface models. This method requires the
   Explorer module for reading SPIDER images which is free from us. It
   also requires that you purchase Iris Explorer from NAG.</p>

<p>Another user suggests converting the SPIDER volume to SGI-RGB
   images with the SPIDER operations <a href="./man/psz.html">PS Z</a>
   and <a href="./man/psz.html">CP TO SGI</a> and then importing the
   volumes images into  
   <a href=" http://www-ncmir.ucsd.edu/index.html#SP ">SYNU</a> for surface
   rendering.</p>
</dd>


<p><a name="pick"></a></p>
<dt>QUESTION</dt>
<dd>How to pick particles in SPIDER/WEB?</dd>
<dt>ANSWER</dt>
<p><dd>See: <a href="partpick.html">particle picking</a> techniques page for
    recent info.  The following older info may also be of some interest:
</dd></p>

<ol>
<li> Low pass filter the particles beforehand, with pfilt.spi</li>
<p></p>

<li>
Make sure you have previously run pnums.spi and have the doc file <b>order</b> handy. 
It lists the number of particles in each micrograph:
<kbd style="font-weight:normal;">
 ;spi/hcc   05-AUG-2004 AT 13:08:03   order.hcc  <br />
 ; / &nbsp; CUM.TOTAL, &nbsp; # PART, &nbsp; MICROGRAPH &nbsp;FIRST &nbsp; LAST   <br /> 
    1 &nbsp; 5 &nbsp; 1659.0 &nbsp; &nbsp; 1659.0  &nbsp; &nbsp;  1.0000 &nbsp; 1.0000 &nbsp; 1659.0  <br />   
    2 &nbsp; 5 &nbsp; 3585.0 &nbsp; &nbsp; 1926.0  &nbsp; &nbsp;  3.0000 &nbsp; 1660.0 &nbsp; 3585.0  <br />    
    3 &nbsp; 5 &nbsp; 5233.0 &nbsp; &nbsp; 1648.0  &nbsp; &nbsp;  4.0000 &nbsp; 3586.0 &nbsp; 5233.0  <br />    
    4 &nbsp; 5 &nbsp; 6903.0 &nbsp; &nbsp; 1670.0  &nbsp; &nbsp;  6.0000 &nbsp; 5234.0 &nbsp; 6903.0  <br />    
</kbds>
</li>

<p></p>
<li> Create the directory /Particles/good</li> 

<p></p>
<li>run <b>WEB</b>

<ol type="a">
    <p></p>
    <li><i>Command/Categorize from sequential montage</i><br />
    input file: <b>Don't use the filter!</b> It will try to read in 
    tens of thousands of filenames. Instead, go to the bottom line and type
    in the file name: <code>....../Particles/win/ser00001.acn</code><br />
    last file: should be the first file number + about 50 (a screenful of particles).
    </li>
    <li>(then the particles load)</li>

    <li>
    When it asks for a document file, enter <code>"good/good015"</code>,
    where 015 is the micrograph number.
    </li>

    <li>
    For each new good doc file (i.e. when you start the next micrograph), 
    the particle number starts at 1.
    </li>


    <li>
    Then pick particles by clicking. If you make a mistake you have to later
    edit the good*** document file.
    </li>

    <li>When you're done : click the right mouse button.</li>
</ol>
<p>
some useful options:<br />
Options/Image/size reduction x2 <br />
Options/Color/Foreground = green <br />
Options/Contrast - adjust to see particles better <br />
<p>
Then for the next set of 50 particles,
<ol start=7 type="a">
    <li><i>Command/Clear</i></li>
    <li><i>Command/Categorize from sequential montage</i></li>
    <li>Add 1 to the start number</li>
    <li>Add 50 to the last number</li>
</ol>
Keep going until you reach the number of particles in that doc file 
(e.g. 1659 in the first micrograph above). Then start a new doc file 
with the startkey reset to 1. But the first particle file should be 
(last file + 1, e.g., 1660 above).
<p>
Check the startkey - reset it to 1 if you're starting a new document file.
</li>
</ol>
<p>
<dd>
<u>Notes</u>:
<P>
WEB determines the max & min of the file and writes these values to the header, 
so you need write permissions on the win/ser* particle files.
<p>
The document file produced by WEB has a key column + 2 data columns:  <br />

<kbd style="font-weight:normal;">

 ; acn/acn  good/good001.acn   Fri Sep 29 09:52:15 2000 <br />
 ;key &nbsp; &nbsp; -  &nbsp; &nbsp;particle# &nbsp; &nbsp; category# (1 = good particle) <br />
 0001 &nbsp; &nbsp; 2 &nbsp; &nbsp;  1.000000 &nbsp; &nbsp; 1.000000 <br />
 0002 &nbsp; &nbsp; 2 &nbsp; &nbsp;  3.000000 &nbsp; &nbsp; 1.000000 <br />
 0003 &nbsp; &nbsp; 2 &nbsp; &nbsp;  5.000000 &nbsp; &nbsp; 1.000000 <br />
 0004 &nbsp; &nbsp; 2 &nbsp; &nbsp;  7.000000 &nbsp; &nbsp; 1.000000 <br />
 0005 &nbsp; &nbsp; 2 &nbsp; &nbsp;  9.000000 &nbsp; &nbsp; 1.000000 <br />
 0006 &nbsp; &nbsp; 2 &nbsp; &nbsp; 11.000000 &nbsp; &nbsp; 1.000000 <br />
 0007 &nbsp; &nbsp; 2 &nbsp; &nbsp; 13.000000 &nbsp; &nbsp; 1.000000 <br />
 0008 &nbsp; &nbsp; 2 &nbsp; &nbsp; 15.000000 &nbsp; &nbsp; 1.000000 <br />
 0009 &nbsp; &nbsp; 2 &nbsp; &nbsp; 17.000000 &nbsp; &nbsp; 1.000000 <br />
 0010 &nbsp; &nbsp; 2 &nbsp; &nbsp; 19.000000 &nbsp; &nbsp; 1.000000 <br />
 0011 &nbsp; &nbsp; 2 &nbsp; &nbsp; 21.000000 &nbsp; &nbsp; 1.000000 <br />
 0012 &nbsp; &nbsp; 2 &nbsp; &nbsp; 22.000000 &nbsp; &nbsp; 1.000000 <br />
</kbd>
The key is numbered consecutively (= number of lines = N Particles) 
while the particle numbers skip over the nonselected particles
</dd>


<p><a name="view"></a></p>
<dt>QUESTION</dt>
<dd>Howto view picked particles from low defocus micrographs using
    WEB?</dd>
<dt>ANSWER</dt>

<dd>Confirming particles in a gallery of raw windowed files is a
   pain at low defocus. I suggest using the <a href=
   "./man/fq.html">FQ</a> operation (with filter option: 7) on the raw
   files first, and play around with various filter parameters. We use
   the parameters: passband 0.005, stopband 0.30. This results in
   better visibility, for particle picking. The optimum parameters
   will probably vary depending on microscope, scanning, and
   defocus.</dd>


<p><a name="color"></a></p>
<dt>QUESTION</dt>
<dd>We have a problem with the color display of menu text in WEB,
   because the menu text and background are often almost totally
   illegible - ie two very similar shades of green, or light yellow on
   white. Do you have any way of controlling the text and background
   colour of the menus in WEB on SGI machines (Indy, Indigo2, O2) and
   on X terminal displays to these machines?</dd>
<dt>ANSWER</dt>

<dd>WEB accepts standard Xt 
   <a href= "../../web/docs/webopt.html">Command line Arguments</a> Arguments
   and uses the <a href="../../web/docs/webopt.html#resouces">Xt
   resource file</a> (typically the <i>.Xdefaults</i> file in your
   home directory). Some of these variables can be used to set
   forground and background for various widgets in WEB. I suggest that
   you experiment with resource settings in your <i>.Xdefaults</i> file: <br />
 
<kbd style="font-weight:normal;">
e.g.<br />
   Web*background :    green   <br />
   Web*foreground :    red     <br />
<br />
or with <i>Web</i> command line options:  <br />

   web -bg       Background-color DAT <br />
   web -bd       Border-color     DAT <br />
   web -fg       Foreground-color DAT <br />
<br />
e.g. <br />
   web -bg green DAT <br />
   web -bg purple -fg red DAT <br />
</kbd>
</dd>


<p><a name="work"></a></p>
<dt>QUESTION</dt>
<dd>Howto use 8 bit WEB on Linux without permanently switching your
    only display to run in 8 bit mode?</dd>
<dt>ANSWER</dt>

<dd> <p>Dr. David Bhella (MRC Virology Unit,Glasgow) suggested a
   work-around for using <i>Web</i> that allows full operation. Basically 
   it specifies a virtual terminal with an 8-bit display and one with a 
   24-bit display that can be switched between using 
   <i>ctrl-alt-f8 &amp; ctrl-altf7</i>.
   Configuration is fairly straight forward and works on some flavors
   of GNU/Linux. <a href="../../web/docs/web8onlinux.html">Instructions</a>.</p>
</dd>

<p><a name="viewimg"></a></p>
<dt>QUESTION</dt>
<dd>Howto view SPIDER format images without using <i>Web</i>?</dd>
<dt>ANSWER</dt>

<dd> <p>
   You might be able to use the 
   <a href="man/cptoraw.html">"CP TO RAW"</a> operation in SPIDER to convert
   a SPIDER format image to a 8-bit "raw" image. Most imaging softwares allow 
   you to input a "raw" image if you specify the image
   size. If you choose to do this, you can deal with basic display
   functions <em>but may not easily emulate many interactive functions
   contained within <i>Web</i></em>.</p>
</dd>

</dl>

<hr />
<small>Source file: faq.html   &nbsp;&nbsp;&nbsp; 
       Updated: 21 Jan 2010   &nbsp;&nbsp;&nbsp; 
       ArDean Leith
</small>
</body>
</html>

@


1.65
log
@2GB
@
text
@d16 1
a16 1
<hr>
d127 1
a127 1
<hr>
d900 1
a900 1
<hr>
d903 1
a903 1
       <a href="agl.html">ArDean Leith</a>
@


1.64
log
@updated
@
text
@d31 1
a31 1
<li><big>Why <a href="#2gb">can't I use large (2GB) stacks in SPIDER</a>
d172 1
a172 1
<dd>Why can't I use large (2GB) stacks in SPIDER</dd>
d175 1
a175 1
<dd>Most compilations SPIDER can create and
d178 1
a178 1
    64 bit OS. </dd> 
@


1.63
log
@saya
@
text
@d5 6
d21 3
a60 3
<li><big>Howto <a href="#overcome">*** THIS IMAGE FROM STACK NO
   LONGER IN USE error?</a></big></li>

a66 2
<li><big>Is SPIDER <a href="#y2k">Y2K</a> compliant?</big></li>

a79 5
<!--====
<li>Has SPIDER been used for the analysis of 
<a href="#afm">Atomic force microscopy (AFM)</a>
  images?</li>
===-->
d90 1
a90 1
<li><big>How does <a href="#align">alignment with 'AP MQ' or 
a113 6
<li><big>Howto <a href="#visual">set X window visual for WEB on Dec
   Unix?</a></big></li>

<li><big>Howto <a href="#visualpc">set X window visual for WEB on
   NT?</a></big></li>

d131 18
d175 4
a178 4
<dd>Actually with most compilations SPIDER <b>can</b> can now create and
    access disk based files > 2GB e.g. the 
    <a href="./man/bp3d.html">BP 3D</a> operation can create large 
    volumes.</dd> 
d180 1
a194 45
<p><a name="overcome"></a></p>
<dt>QUESTION</dt>
<dd>In an old release of SPIDER, I sometimes get the following
   nonsense error when trying to access a regular SPIDER image
   file:<br>
   *** THIS IMAGE FROM STACK NO LONGER IN USE<br>
   What can I do?</dd>

<dt>ANSWER</dt>

<dd>The file has some wrong header values which make SPIDER think
   that it contains a stack of images instead of a regular image or
   volume. Certain releases of SPIDER created such files. You can use
   the <a href="./man/st.html">ST</a> operation to fix the file:<br>
<table>

   <tr>
   <td>ST</td>
   <td>; set header values operation</td>
   </tr>

   <tr>
   <td>BAD000</td>
   <td>; bad input file</td>
   </tr>

   <tr>
   <td>B</td>
   <td>; put new values into specified locations in the header</td>
   </tr>

   <tr>
   <td>24,25</td>
   <td>; header locations to be changed</td>
   </tr>

   <tr>
   <td>0,1</td>
   <td>; appropriate values for these header locations in images</td>
   </tr>
</table>

<p>For SPIDER releases before 06/01/97 this method will only work
   in interactive mode, not in procedure mode</p>
</dd>
a221 1
<pre>
d223 13
a235 14
x10=1              ; (set counter) 
DO LB1 X88=1,7     ; (LOOP over the number of micrographs) 
   CP FROM RAW     ; (Copy operation) 
   (16)            ; (how many bits) 
   mic/mic{***x10} ; (input file name, indexed by counter) 
   (1024 1024)     ; (input file dimensions) 
   (8)             ; (skip header bytes) 
   (1)             ; (most significant byte)                                  
   n               ; (do not fold negatives)               
   mic/spi{***x10} ; (output file name, indexed by conter) 
   x10=x10+1       ; (increment counter) 
LB1                ; (end of LOOP)
EN                 ; (end of procedure) 
</pre>
d241 1
a241 1
<dd>How do I use a reference to align my 2-D images?</dd>
d248 2
a249 3
   data. The operations are called <a href="./man/apmq.html">AP MQ</a>
   and <a href="./man/apmr.html">AP MR</a>. The first one should
   perform better even though it might be slower. 
d276 13
a288 10
   (sample procedure file:)<br>
   AS R<br>
   data/my_images****<br>
   1-2200<br>
   O<br>
   aveodd001<br>
   varodd001<br>
   aveven001<br>
   vaeven001<br>
   EN<br>
d296 9
a304 7
   (sample procedure file:)<br>
   RF SN                    <br>
   data/my_images****       <br>
   select ; Selection document file, see the manual file<br>
   mask   ; Mask image fine defining region of interest<br>
   0.5        <br>
   ssnr_doc   <br>
d339 1
a339 1
   slice is left without change.<br>
d348 1
a348 1
   "artefact" in slices for some angles.</dd>
a377 13
<p><a name="y2k"></a></p>
<dt>QUESTION</dt>
<dd>Is SPIDER Y2K (year 2000) compliant?</dd>
<dt>ANSWER</dt>

<dd>No the sky did not fall! Prior to release 6.02 SPIDER image files contained a creation
   date in the <a href="image_doc.html">header</a> that contained only
   two year digits e.g. 23-Jul-98. However this information in not
   used anywhere within SPIDER for any purpose. We feel that there is
   little confusion from the two digit year. Since release 6.02 the
   year contains 4 digits. There are no other Y2K problems intrinsic
   in SPIDER or WEB.</dd>

d391 1
a391 1
   filter is not implemented in SPIDER, but it could be added. <br>
a396 1

d404 1
a404 2
   correction has little effect on the contrast.<br>
<br>
a405 1

d429 1
a429 1
<dd>Try<a href="./man/cpfromccp4.html">COPY FROM CCP4</a>.</dd>
d449 2
a450 2
   since it is painted with a hopefully asymmetric pattern).<br>
<br>
d454 2
a455 2
   2D projections of a 3D density distribution.<br>
<br>
d472 1
a472 1
   where the astigmatism has no effect."<br>
d488 1
a488 1
   "./man/apmd.html">AP MD</a> or <a href="./man/apmq.html">AP MQ</a>.
d535 8
a542 8
   <pre>
   CP FROM RAW   ; (Copy operation) 
   8             ; (how many bits) 
   imgin         ; (input file name) 
   512 512       ; (input file dimensions) 
   1024          ; (skip header bytes) 
   imgout        ; (output file name) 
</pre>
a551 15
<dd>If you insist on using 'AR' try this:.</dd>

<dd>
<pre>
  
   FI X21,X22   ; file info. operation
   oldfilename  ; input file
   8,7          ; min and max location in header
   ;
   AR           ; arithmetic operation
   oldfilename  ; input file
   newfile      ; output file
   255 * (P1-X21) / (X22-X21)
</pre>
</dd>
a552 1

d578 1
a578 1
   drift.<br>
d601 1
a601 1
   missing marker, then delete that line.<br>
d609 1
a609 1
   quits running:<br>
d618 1
a618 1
   limit.<br>
d627 3
a629 3
     <i>shell stream tcp nowait root /etc/tcpd2 in.rshd</i><br>
   to:<br>
    <i>shell stream tcp nowait.200 root /etc/tcpd2 in.rshd</i><br>
d637 1
a637 1
    should contain:
d639 7
a645 7
<pre>
service shell
{
   cps         = 1000 10
   disable     = no
 }
</pre>
d674 1
a674 1
   it with what we see as extra density.<br>
d686 1
a686 1
   particular threshold level within the volume.<br>
d718 10
a727 9
Make sure you have previously run pnums.spi and have the doc file <b>order</b> handy. It lists the number of particles in each micrograph:
<pre>
 ;spi/hcc   05-AUG-2004 AT 13:08:03   order.hcc
 ; /     CUM.TOTAL  # PARTICLES   MICROGRAPH      FIRST       LAST   
    1 5   1659.0       1659.0       1.0000       1.0000       1659.0     
    2 5   3585.0       1926.0       3.0000       1660.0       3585.0     
    3 5   5233.0       1648.0       4.0000       3586.0       5233.0     
    4 5   6903.0       1670.0       6.0000       5234.0       6903.0     
</pre>
d738 1
a738 1
    <li><i>Command/Categorize from sequential montage</i><br>
d741 1
a741 1
    in the file name: <code>....../Particles/win/ser00001.acn</code><br>
d752 2
a753 1
    For each new good doc file (i.e. when you start the next micrograph), the particle number starts at 1.
d765 4
a768 4
some useful options:<br>
Options/Image/size reduction x2 <br>
Options/Color/Foreground = green <br>
Options/Contrast - adjust to see particles better <br>
d777 4
a780 1
Keep going until you reach the number of particles in that doc file (e.g. 1659 in th efirst micrograph above). Then start a new doc file with the startkey reset to 1. But the first particle file should be (last file + 1, e.g., 1660 above).
d789 2
a790 1
WEB determines the max & min of the file and writes these values to the header, so you need write permissions on the win/ser* particle files.
d792 21
a812 19
The document file produced by WEB has a key column + 2 data columns:
<pre>
  key 	   particle#   category# (1 = good particle)

 ; acn/acn  good/good001.acn   Fri Sep 29 09:52:15 2000
 0001 2    1.000000    1.000000
 0002 2    3.000000    1.000000
 0003 2    5.000000    1.000000
 0004 2    7.000000    1.000000
 0005 2    9.000000    1.000000
 0006 2   11.000000    1.000000
 0007 2   13.000000    1.000000
 0008 2   15.000000    1.000000
 0009 2   17.000000    1.000000
 0010 2   19.000000    1.000000
 0011 2   21.000000    1.000000
 0012 2   22.000000    1.000000
</pre>
The key is numbered consecutively (= number of lines = N Particles) while the particle numbers skip over the nonselected particles
d848 1
a848 2
   you experiment with:<br>
   resource settings in your <i>.Xdefaults</i> file: <br>
d850 15
a864 51
<pre>
e.g.
   Web*background :    green
   Web*foreground :    red
   Web*useSchemes:     all

(The "useSchemes" option selects SGI's color coordinated 
 settings for standard Window Manager controlled colors)

or with command line options: 

-bg       Background-color
-bd       Border-color
-fg       Foreground-color

e.g.
   web -bg green DAT
   web -bg purple -fg red DAT
</pre>
</dd>

<p><a name="visual"></a></p>
<dt>QUESTION</dt>
<dd>Howto set Xwindow visual for WEB on Dec Unix?</dd>
<dt>ANSWER</dt>

<dd>-login as root<br>
 -edit /usr/dt/config/Xservers<br>
 -The last line is:<br>
 :0 Local local@@console /usr/bin/X11/X :0<br>
 change it to<br>
 :0 Local local@@console /usr/bin/X11/X :0 -vclass0 PseudoColor -terminate<br>
<br>
 (all in a single line!!)<br>
 -logout and login as yourself<br>
 </dd>

<p><a name="visualpc"></a></p>
<dt>QUESTION</dt>
<dd>Howto set X window visual for WEB on NT?</dd>
<dt>ANSWER</dt>

<dd>When running <i>WRQ's Reflection X</i> as an X Server you can set the
    Server to 8 bit Psuedo Color as follows:<br>
    From the client manager, 

<ul>
   <li>click on <i>settings</i></li>
   <li>click on <i>color</i></li>
   <li>set <i>Default visual type</i> to<i>PseudoColrEmulation</i>.</li>
</ul>
a866 18
<p> <dd>When running 
  <a href= "http://gv2.tucows.com/win2k/xwinserver2k.html">WinaXe 6.0</a>
  (costs $90.00) on Windows 2000, it is possible to set just the
  Xserver's visual to pseudocolor without changing the screen for
  non-X applications.
  </dd> </p>

<p>When running Windows NT, from the start menu,</p>

   <ul>
   <li>click on <i>settings</i></li>
   <li>click on <i>Control Panel</i></li>
   <li>click on <i>Display</i></li>
   <li>click on <i>settings</i></li>
   <li>set <i>256 color</i>.</li>
   </ul>


d875 1
a875 1
   work-around for using Web that allows full operation. Basically 
d885 1
a885 1
<dd>Howto view SPIDER format images without using Web?</dd>
d902 1
a902 1
       Updated: 21 May 2008   &nbsp;&nbsp;&nbsp; 
@


1.62
log
@co
@
text
@d1013 1
a1013 1
       <a href="saya.html">ArDean Leith</a>
@


1.61
log
@2gb
@
text
@d15 3
d20 1
a20 1
    ?</big></li>
d138 21
d168 1
a168 2

     
d1012 1
a1012 1
       Updated: 21 Sept. 2006   &nbsp;&nbsp;&nbsp; 
@


1.60
log
@some
@
text
@d143 1
a143 8
    volumes. 
    However there is a factor which sometimes limits access with
    stacks that have a lot of images.  
    SPIDER accesses records in images and stacks using unformatted
    direct access records.  In some compilers, the record number is
    a 32 bit integer.  Thus SPIDER can not access records beyond
    the limit of the size of this integer. Note: Due to the way SPIDER
    handles incore images this limit even applies to them.</dd> 
d989 1
a989 1
       Updated: 11 Sept. 2006   &nbsp;&nbsp;&nbsp; 
@


1.59
log
@viewimg #
@
text
@d140 1
a140 1
<dd>Actually with most compilations SPIDER <b>can</b> create and
d144 1
a144 1
    However there is a factor which limits access with
d147 1
a147 1
    direct access records.  In most compilers, the record number is
d996 1
a996 1
       Updated: 28 Feb. 2006   &nbsp;&nbsp;&nbsp; 
@


1.58
log
@view images without web
@
text
@d127 1
a127 1
<li><big>Howto <a href="#view">view SPIDER images</a> without
d977 1
a977 1
<p><a name="view"></a></p>
@


1.57
log
@updated
@
text
@d7 1
d126 3
d976 16
d995 4
a998 3
<small>Source file: faq.html &nbsp;&nbsp;&nbsp; 
       Updated: 30 Dec. 2005 &nbsp;&nbsp;&nbsp; 
       ArDean Leith</small>
@


1.56
log
@*** empty log message ***
@
text
@d14 1
a14 1
<li><big>What can I do to 
d136 6
a141 3
<dd>Actually with most compilations SPIDER <b>can</b> access these
    files but there is another factor which limits access with
    stacks that have a lot of images that becomes important.  
d143 1
a143 1
    direct access records.  In most compilers the record number is
a153 1

d416 1
a416 3
<br>
 
<p>Other than that, SPIDER could be used for all kinds of more or
a440 1

a441 1

d456 1
a456 5

<dd>We have never converted CCP4 files directly into SPIDER format.
   We have used MAPMAN to convert CCP4 format to an X-PLOR file (which
   is ASCII), and then use <a href="./man/cpfromxp.html">COPY FROM
   XP</a> to convert it to SPIDER file.</dd>
d657 1
a657 1
<dd>poll: protocol failure during circuit creation You may see this
d659 1
a659 1
   the particular Linux distribution and verison, there may be a limit
d976 1
a976 1
       Updated: 26 Oct. 2005 &nbsp;&nbsp;&nbsp; 
@


1.55
log
@protocol failure
@
text
@d687 1
d689 1
a689 1
service login
d695 4
a698 1
    </p>
@


1.54
log
@update and stack size limit
@
text
@d14 4
d668 9
a676 6
    To fix this, you can do one of the following: <br>
    1.Wait a few seconds between running parallel jobs. You may need
      to wait up to a minute. <br>
   2.Modify /etc/inetd.conf to allow more
     processes per minute for rsh. For example, change: <i>shell stream
     tcp nowait root /etc/tcpd2 in.rshd</i><br>
d679 18
a696 2
   </dd>
 
@


1.53
log
@updated particle picking section
@
text
@d4 1
a4 2
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>FAQ : SPIDER &amp; WEB</title>
a12 1
<li style="list-style: none"><big></big></li>
d14 3
d18 1
a18 4
displayed with a given threshold</a> ?</big></li>

<li><big>Howto <a href="#matlab">read SPIDER files in MATLAB</a>
?</big></li>
d21 1
a21 1
Transform in the West)</a> with SPIDER?</big></li>
d24 1
a24 1
SPIDER uses</a> on OMP machines?</big></li>
d27 1
a27 1
camera</a> into SPIDER?</big></li>
d30 1
a30 1
SPIDER?</big></li>
d33 1
a33 1
images?</a></big></li>
d36 1
a36 1
molecule</a> with my SPIDER model?</big></li>
d39 1
a39 1
reconstruction?</a></big></li>
d42 1
a42 1
different defoci?</a></big></li>
d45 1
a45 1
LONGER IN USE error?</a></big></li>
d48 1
a48 1
areas?</a></big></li>
d51 1
a51 1
"artefact"</a> in slices for some angles.</big></li>
d56 1
a56 1
volumes?</a></big></li>
d59 1
a59 1
images?</a></big></li>
d62 2
a63 2
contrast</a> of DNA and protein in SPIDER
reconstructions?</big></li>
d66 1
a66 1
format?</big></li>
d74 1
a74 1
"#afm1">3-D reconstruction for AFM?</a></big></li>
d77 1
a77 1
and azimuth</a> in the 'TF' operation?</big></li>
d80 2
a81 2
"#normalized">normalizes images at slightly different
magnifications</a> before image averaging?</big></li>
d83 2
a84 2
<li><big>How does <a href="#align">alignment with 'AP MQ' or 'AP
MD' work with negative pixel values?</a></big></li>
d87 1
a87 1
using 'AR'?</a></big></li>
d90 1
a90 1
Wiener filtering for example?</big></li>
d93 2
a94 2
using the 'MK' operation</a> for alignment in tomographic
reconstructions?</big></li>
d97 1
a97 1
crystallographic maps?</a></big></li>
d100 1
a100 1
volume made from a PDB map?</a></big></li>
d105 1
a105 1
background in WEB?</a></big></li>
d108 1
a108 1
Unix?</a></big></li>
d111 1
a111 1
NT?</a></big></li>
d114 1
a114 1
SPIDER/WEB?</a></big></li>
d117 1
a117 1
micrographs using WEB?</a></big></li>
d120 1
a120 1
permanently switching your only display to 8 bit mode?</big></li>
d124 1
a125 6
<dd><br>
<br>
 

<p><strong><a name="vol"></a></strong></p>
</dd>
d127 1
d129 1
a129 4

<dd>Howto obtain the volume of a density map displayed with a given
threshold?</dd>

d132 8
a139 14
<dd>Use the <a href="./man/hir.html">HI R</a> operation and set
lower range desired threshold THRESH and upper range byond the file
maximum. The number of PIXELS IN HISTOGRAM is the volume VOLP in
units of pixel**3. To obtain the actual volume, multiply VOLP with
the volume of a voxel, which is the (Angstroms per pixel)**3. Note
that everytime you change the theshold THRESH, you have to repeat
this analysis.</dd>

<dd><br>
<br>
 

<p><strong><a name="matlab"></a></strong></p>
</dd>
d141 2
d144 2
a145 3

<dd>Howto read SPIDER files in MATLAB?</dd>

d148 7
a154 11
<dd>Tobin Fricke has written a useful MEX function that gives
MATLAB the ability to read SPIDER files. See <a href=
"http://splorg.org/people/tobin/projects/israel/projects/spi_file/">
his Web site</a> for information.</dd>

<dd><br>
<br>
 

<p><strong><a name="overcome"></a></strong></p>
</dd>
a155 1
<dt>QUESTION</dt>
d157 7
a163 5
<dd>In one old release of SPIDER, I sometimes get the following
nonsense error when trying to access a regular SPIDER image
file:<br>
 *** THIS IMAGE FROM STACK NO LONGER IN USE<br>
What can I do?</dd>
d168 3
a170 3
that it contains a stack of images instead of a regular image or
volume. Certain releases of SPIDER created such files. You can use
the <a href="./man/st.html">ST</a> operation to fix the file:<br>
d172 25
a196 28
<tr>
<td></td>
</tr>

<tr>
<td>ST</td>
<td>; set header values operation</td>
</tr>

<tr>
<td>BAD000</td>
<td>; bad input file</td>
</tr>

<tr>
<td>B</td>
<td>; put new values into specified locations in the header</td>
</tr>

<tr>
<td>24,25</td>
<td>; header locations to be changed</td>
</tr>

<tr>
<td>0,1</td>
<td>; appropriate values for these header locations in images</td>
</tr>
d200 1
a200 1
in interactive mode, not in procedure mode</p>
a202 3
<dd><br>
<br>
 
d204 1
a204 1
<p><strong><a name="processors"></a></strong></p>
a205 1

a206 1

d208 1
a208 2
multiprocessor SGI machine?</dd>

d211 11
a221 6
<dd>Number of processors is set at (or during) run. Environment
variables MP_SET-NUMTHREADS AND MP-SUGNUMTHD control number. SPIDER
has new suboption to the <a href="./man/md.html">MD</a> operation
called:. "SET MP" to allow fine control of number of processors
during the run. See unix man for <i>mp_set_numthreads</i> for more
info.</dd>
d223 1
a223 7
<dd><br>
<br>
 

<p><strong><a name="GATAN"></a></strong></p>
</dd>

a224 1

a225 1

d230 14
a243 14
;b01.cpr  -- procedure to import images from GATAN to SPIDER 
x10=1           ; (set counter) 
do lb1 X88=1,7  ; (DO-LOOP over the number of micrographs) 
cp from raw     ; (Copy operation) 
(16)            ; (how many bits) 
mic/mic{***x10} ; (input file name, indexed by counter) 
(1024 1024)     ; (input file dimensions) 
(8)             ; (skip header bytes) 
(1)             ; (most significant byte)                                  
n               ; (do not fold negatives)               
mic/spi{***x10} ; (output file name, indexed by conter) 
x10=x10+1       ; (increment counter) 
lb1             ; (end of DO-LOOP)
en              ; (end of procedure) 
a246 6
<dd><br>
<br>
 

<p><strong><a name="use"></a></strong></p>
</dd>
d248 1
a249 1

a250 1

d254 10
a263 15
reference-based alignment. Their original purpose was
multi-reference alignment, but by limiting the number of reference
images to one one can perform a reference-vased alignment of 2D
data. The operations are called <a href="./man/apmq.html">AP MQ</a>
and <a href="./man/apmr.html">AP MR</a>. The first one should
perform better even though it might be slower. Both were installed
fairly recently (07/97), so to use you them you may have to request
an updated version of SPIDER. Both operations are very simple and
they do not require any procedure programs. The alignment
parameters found can be applied to the data using procedure
programs included in the respective manual chapters.</dd>

<dd><br>
<br>
 
a264 2
<p><strong><a name="compare"></a></strong></p>
</dd>
d266 1
a267 1

d269 1
a269 2
this model with my SPIDER model?</dd>

d273 4
a276 8
based on operation <a href="./man/apmd.html">AP MD</a>. The
corresponding manual chapter contains an example of the whole
procedure. It assumes that a SPIDER volume containing a reference
structure is available.</dd>

<dd><br>
<br>
 
a277 2
<p><strong><a name="determine"></a></strong></p>
</dd>
d279 1
a280 1

a281 1

d285 25
a309 23
obtain averages corresponding to odd- and even-numbered images.
(sample procedure file:)<br>
<a href="./man/asr.html">AS R</a><br>
data/my_images****<br>
1-2200<br>
O<br>
aveodd001<br>
varodd001<br>
aveven001<br>
vaeven001<br>
 The averages can be compared using operation "RF". This operation
will produced a document file with R-factor, phase residual, and
Fourier ring correlation measures.

<p>Alternatively, operation "RF SN" can be used on the image series
to obtain spectral-signal-to-noise-ratio measure of the resolution
(sample procedure file:)<br>
<a href="./man/rfsn.html">RF SN</a><br>
data/my_images****<br>
select ; selection document file, see the manual file<br>
mask ; mask image fine defining region of interest<br>
0.5<br>
ssnr_doc<br>
d313 1
a313 7
<dd><br>
<br>
 

<p><strong><a name="correct"></a></strong></p>
</dd>

a314 1

d316 1
a316 2
How do I correct one to match the other?</dd>

d320 6
a325 10
correction on these images. Instead, we correct for the CTF final
3D reconstructions. This is done (for any number of volumes) using
<a href="./man/tfctf.html">TF CTF</a> operation. Fourier volumes
containing CTFs for all the defocus sets are needed and they can be
created using operation: <a href="./man/tfc3.html">TF C3</a>. Other
CTF operations are grouped under operation "TF".</dd>

<dd><br>
<br>
 
a326 2
<p><strong><a name="rt3d"></a></strong></p>
</dd>
d328 1
a329 1

d331 2
a332 2
a volume by 45,0,0 degrees (phi, theta, psi), why isn't the last
Z-slice rotated?</dd>
d337 11
a347 15
rotate the volume one has to interpolate it. The 'tri-linear'
interpolation requires that for a voxel (i,j,k) the neighbouring
voxels are available as well, i.e., voxels (i+1,j,k), (i,j+1,k),...
,(i+1,j+1,k+1). If the neighbouring voxels are unavailable (they
are outside of the field or in the corners) the current voxel is
left unchanged. Thus, to rotate last slice, k=NSLICE, one would
need values at NSLICE+1, which are unavailable. Thus, the last
slice is left without change.<br>
If you want to rotate volume around Z axis (angles=(psi,0,0)) you
can use the operation <a href="./man/rt3q.html">RT 3Q</a>, which
will rotate all the slices by the same angle around Z axis.</dd>

<dd><br>
<br>
 
a348 2
<p><strong><a name="rt3da"></a></strong></p>
</dd>
d350 1
a351 1

d353 1
a353 2
"artefact" in slices for some angles.</dd>

d357 9
a365 9
it is a volume, but 'RT SQ' operates on Z-slices independently, so
we can discuss 2D case only) is "circularly closed", or "wrapped
around". Assume that pixels are numbered from -N to N (this you can
always do by subtracting image center). Thus, according to RT SQ
pixels number -N-1 is equivalent to pixel +N. In case of corner
pixels and rotation angles close to 45 degrees the corners upon
rotation will end up close to the center (if you rotate point (N,N)
by 45 degrees it will have coordinates (1.41*N,0), and according to
the rule described (-0.41*N,0) - close to the center).
d368 5
a372 5
surrounded by noise. In this case it makes sense to put noise in
the corners. For model objects, such as yours, it will create
"artifacts". Since upon rotation the corners always stick out
beyond the image frame one is free to decide what should be put
there.</p>
d375 5
a379 5
which convention was used. <a href="./man/rt3d.html">RT 3D</a>, for
example, leaves corners intact and will work better for your
object. <a href="./man/rtb.html">RT B</a> leaves you a possibility
to supply your own value that will fill the corners. Please note
that only "RT SQ" uses quadratic interpolation.</p>
a381 6
<dd><br>
<br>
 

<p><strong><a name="y2k"></a></strong></p>
</dd>
d383 1
a384 1

a385 1

d388 7
a394 14
<dd>Prior to release 6.02 SPIDER image files contained a creation
date in the <a href="image_doc.html">header</a> that contained only
two year digits e.g. 23-Jul-98. However this information in not
used anywhere within SPIDER for any purpose. We feel that there is
little confusion from the two digit year. Since release 6.02 the
year contains 4 digits. There are no other Y2K problems intrinsic
in SPIDER or WEB.</dd>

<dd><br>
<br>
 

<p><strong><a name="shadow"></a></strong></p>
</dd>
d396 1
a397 1

d399 2
a400 3
of various proteins. Can I use SPIDER image processing and analysis
to improve the data gained from these images?.</dd>

d404 6
a409 6
isotropically treated particles, it should be possible to use
alignment algorithms provided in SPIDER, and obtain a 2D average.
However, 3D information cannot be retrieved -- the retrieval of the
3D profile would require unidirectional shadowing and the use of a
filter that Smith and Kistler developed several years ago. This
filter is not implemented in SPIDER, but it could be added. <br>
a411 1

d413 2
a414 2
less cosmetic operations such as contrast enhancement and high- or
low-pass filtration.</p>
a416 8
<dd><br>
<br>
 <br>
<br>
 

<p><strong><a name="contrast"></a></strong></p>
</dd>
d418 1
a419 1

d421 5
a425 5
using cryo-EM. Images of unstained frozen hydrated nucleosomes are
dominated by contrast from the peripheral (~100KDa) DNA component,
while the central protein assembly (also ~100KDa, but occupying a
smaller volume) has a density very close to the background ice. CTF
correction has little effect on the contrast.<br>
d430 6
a435 6
high <i>P</i> content of the DNA, but have now used the nucleosome
X-ray coordinates and SPIDER's <a href="./man/cpfrompdb.html">'CP
from PDB'</a> to simulate projection images. These show strong, and
approximately equal, contrast from both the DNA and protein
components, in other words, no differential contrast is
observed.</p>
d441 7
a447 7
transferred with sin(gamma), for simulations of EM images from
atomic coordinates. The differential contrast between DNA and
protein core in nucleosomes that you see with cryo-EM is produced
by the increased amplitude contrast ("anomalous scattering") of the
P atoms. When we have a chance to incorporate both amplitude and
phase contrast in the modeling procedure, I'm sure you will find a
close match between theory and experiment.</dd>
a448 6
<dd><br>
<br>
 

<p><strong><a name="ccp4"></a></strong></p>
</dd>
d450 1
a451 1

a452 1

d456 3
a458 26
We have used MAPMAN to convert CCP4 format to an X-PLOR file (which
is ASCII), and then use <a href="./man/cpfromxp.html">COPY FROM
XP</a> to convert it to SPIDER file.</dd>

<!---
<p> 
<strong>
<a name="afm"> <dt>QUESTION </dt> </a>

<dd> Has SPIDER been used for the 
analysis of Atomic force microscopy (AFM) images?</dd>
</strong>

<dt>ANSWER</dt>
<dd> The group of Z. Shao (zs9q@@virginia.edu), Univ. Virginia
used SPIDER to average their AFM data. <br>
See Publication in PNAS vol 96, 2001-2006.<br>
(Thanks to D.J. Mueller for bringing this paper to our attention)
</dd>
===-->
<dd><br>
<br>
 

<p><strong><a name="afm1"></a></strong></p>
</dd>
d460 1
a461 1

d463 4
a466 5
AFM? If I imaged molecules in different orientations on a surface
and I could deconvolute the effect of my AFM tip from the image,
can I use SPIDER in any way to help to 3-D average or reconstruct
the imaged molecules?</dd>

d470 19
a488 19
or deconvolution. What you get from AFM is surface topology; i.e.,
a segment of the molecular surface. At best, you can put the entire
molecular surface back together from such segments, if you 1) have
copies of the same molecule lying in different orientations and 2)
have a way to quantitatively determine these orientations. This
would be a process similar to putting the shell of an Easter egg
together from its pieces. (I'm saying Easter egg, since the normal
egg is quite symmetric, but the Easter egg fits the analogy better
since it is painted with a hopefully asymmetric pattern).<br>
<br>
 But you should note that all operations in SPIDER that are related
to the determination of orientations or 3D reconstruction address
an entirely different problem, namely to interpret and make use of
2D projections of a 3D density distribution.<br>
<br>
 Therefore, the answer to your question is: yes, you will find
SPIDER quite useful in helping you to analyze and process images,
but no, it will not help you with the specific problem of Easter
egg-type 3D reconstruction.</dd>
a489 6
<dd><br>
<br>
 

<p><strong><a name="definitions"></a></strong></p>
</dd>
d491 1
a492 1

d494 10
a503 10
your definitions of "astigmatism and azimuth". The definition of
astigmatism that I know has a long and a short axis which define
the ellipse, and an angle that defines the orientation of the long
dimension of the ellipse relative to your X and Y axes. I don't
understand how this relates to the azimuth in your operations which
is defined as "the angle, in degrees, that characterizes the
direction of astigmatism. The angle defines the origin direction
where the astigmatism has no effect."<br>
What are definitions of astigmatism and azimuth in the <a href=
"./man/tf.html">TF</a> operation?.</dd>
d507 5
a511 9
<dd>In the SPIDER operation, the zero azimuth points into the
direction where the astigmatic focus difference has no effect;
i.e., 45 degrees away from your definition. This is practical as a
definition , since in this case the astigmatism term simply adds to
the mean defocus.</dd>

<dd><br>
<br>
 
a512 2
<p><strong><a name="align"></a></strong></p>
</dd>
d514 1
a515 1

d517 8
a524 9
"./man/apmd.html">AP MD</a> or <a href="./man/apmq.html">AP MQ</a>.
The protein is "white" and there are nanogold labels on the protein
that are "black" (essential negative pixel values). My
understanding is that SPIDER alignments only pay attention to the
white or positive pixel values and not the black negative pixel
values? As long as I normalize the images (avg=0, sd=1), is this
truely the case? Will I have alignment difficulties from alignment
of the small nanogold dots to each other?</dd>

d528 3
a530 7
whole density range, without paying attention to the (arbitrary)
polarity. Such dots would tend to align to each other, compromising
the overall alignment of the protein part.</dd>

<dd><br>
<br>
 
a531 2
<p><strong><a name="normalized"></a></strong></p>
</dd>
d533 1
a534 1

d536 2
a537 3
slightly different magnifications to be normalized with respect to
each other before image averaging?</dd>

d541 11
a551 15
an image onto a new grid, so it will help re-scale to make up for a
magnification change. Combine it with either <a href=
"./man/pd.html">'PD'</a> (pad) or <a href="./man/wi.html">'WI'</a>
(window) to get back to the same dimensions. However, we don't have
a single operation that will let you <b>DETERMINE</b> the
magnification change. The corresponding mathematical operation is
the Mellon transform, which is not implemented. You can however
write a simple procedure with a do-loop trying out different scale
changes (using 'IP', etc. as explained above) followed by a 'CC C'
operation, taking care that you keep the images centered, and that
you only compare non-padded portions of the images.</dd>

<dd><br>
<br>
 
a552 2
<p><strong><a name="import"></a></strong></p>
</dd>
d554 1
a555 1

a556 1

d560 11
a570 12
preceeded by a fixed length (often 1024 byte) header. They can
sometimes be converted to SPIDER format using the <a href=
"./man/cpfromraw.html">CP FROM RAW</a> operation. 

<pre>
CP FROM RAW   ; (Copy operation) 
8             ; (how many bits) 
imgin         ; (input file name) 
512 512       ; (input file dimensions) 
1024          ; (skip header bytes) 
imgout        ; (output file name) 

a573 6
<dd><br>
<br>
 

<p><strong><a name="ar"></a></strong></p>
</dd>
d575 1
d577 2
a578 4

<dd>How to rescale an image's range to 0 - 255 using <a href=
"./man/ar.html">AR</a>?</dd>

d580 2
a593 1
  
a596 18
<dd><br>
<br>
 

<p><strong><a name="pdb"></a></strong></p>
</dd>

<dt>QUESTION</dt>

<dd>What is position of a location in a SPIDER volume made from a
PDB map?</dd>

<dd><br>
<br>
 

<p><strong><a name="casi"></a></strong></p>
</dd>
d598 1
a599 1

a600 1

d604 6
a609 6
put the passed pixels into one single array (lexicographically
ordered), which becomes one record of a sequential file. This
sequential file is subsequently used by <a href=
"./man/cas.html">'CA S'</a> to do the analysis. As of SPIDER
version 10.0 this is all done within: <a href="./man/cas.html">'CA
S'</a> and 'CA SI' is no longer used.</dd>
a610 6
<dd><br>
<br>
 

<p><strong><a name="drift"></a></strong></p>
</dd>
d612 1
a613 1

d615 1
a615 2
example?</dd>

d619 11
a629 11
transform are completely lost. One could of course think of
combining pictures that have undergone different amounts (and
directions) of drift, to cover all zeros, but it is much easier to
do the experiment right and discard the images affected by
drift.<br>
 I'm not aware of any efforts in the EM field, for the reasons
stated. However, I've seen literature on successful drift
correction in general image processing applications, but note that
in those applications the SNR is normally much higher than in EM
images, meaning that more info can be recovered in the vicinity of
the zeros.</dd>
a630 3
<dd><br>
<br>
 
a631 2
<p><strong><a name="missing"></a></strong></p>
</dd>
d633 1
a634 1

d636 4
a639 5
operation as part of a tomographic reconstruction proceedure, how
do I deal with a marker that is not visible in a given projection?
Can one just not enter data for that particular marker in the
offending projection?</dd>

d643 6
a648 10
but in that case you must edit the marker document files so that
the key number for the markers correspond to same gold particles on
all the images. Either renumber the keys or pick a "dummy" for the
missing marker, then delete that line.<br>
 It is better not to try and get by with missing markers,
however.</dd>

<dd><br>
<br>
 
a649 2
<p><strong><a name="protocol"></a></strong></p>
</dd>
d651 1
a652 1

d654 3
a656 4
quits running:<br>
 <i>poll: protocol failure during circuit creation</i> What can I
do to prevent this?</dd>

d660 13
a672 12
message if you attempt to run too many rsh processes. Depending on
the particular Linux distribution and verison, there may be a limit
of as few as 40 processes per minute. It is possible to exceed this
limit.<br>
 To fix this, you can do one of the following: <br>
<br>
 1.Wait a few seconds between running parallel jobs. You may need
to wait up to a minute. 2.Modify /etc/inetd.conf to allow more
processes per minute for rsh. For example, change: <i>shell stream
tcp nowait root /etc/tcpd2 in.rshd</i><br>
 to:<br>
 <i>shell stream tcp nowait.200 root /etc/tcpd2 in.rshd</i><br>
d675 1
a675 3
<p><strong><a name="x"></a></strong></p>
</dd>

a676 1

d678 5
a682 6
resolution EM map. It appears that SPIDER'S WEB is capable of
representing surfaces from maps? If so, what kind of map formats
does WEB accept? Do you provide software for map conversion, etc?
My maps are in 'crystallographer-friendly' formats such as CCP4 and
XPLOR.</dd>

d686 12
a697 16
better off using the package "O", which we use all the time. What
we do is make preliminary displays using WEB, then prepare the
volume using low-pass filtration as appropriate, then use an
operation in SPIDER that makes a "map" file out of it compatible
with "O", then display the map in "O" along with structures
directly imported from "pdb". We also routinely import "pdb"
structures into SPIDER and convert them to densities, then low-pass
filter (and, if applicable, apply "CTF") them, and go the same
route as for the cryo-volume into "O", if we want to simulate the
appearance of the structure as seen in the microscope, and compare
it with what we see as extra density.<br>
 Yes, both CCP4 and XPLOR data can be imported.</dd>

<dd><br>
<br>
 
a698 2
<p><strong><a name="surface"></a></strong></p>
</dd>
d700 1
a701 1

a702 1

d706 11
a716 14
to use the <a href=
"../../web/docs/web.html#OPERATION">WEB-Surface</a> operation. This
allows the user to generate a shaded rendering at a particular
threshold level within the volume.<br>
<br>
 

<p>To make a surface model our usual procedure is to use <a href=
"http://www.nag.com">NAG's Iris Explorer</a> to read SPIDER
volumes, threshold the volume, and create a surface model in
Inventor format. We then use a rendering viewer available in Iris
Explorer to render the surface models. This method requires the
Explorer module for reading SPIDER images which is free from us. It
also requires that you purchase Iris Explorer from NAG.</p>
d719 5
a723 5
images with the SPIDER operations <a href="./man/psz.html">PS Z</a>
and <a href="./man/psz.html">CP TO SGI</a> and then importing the
volumes images into <a href=
" http://www-ncmir.ucsd.edu/index.html#SP ">SYNU</a> for surface
rendering.</p>
a725 6
<dd><br>
<br>
 

<p><strong><a name="pick"></a></strong></p>
</dd>
d727 1
a728 1

a729 1

d731 3
a734 1

d830 1
a830 7
<dd><br>
<br>
 

<p><strong><a name="view"></a></strong></p>
</dd>

a831 1

d833 1
a833 2
WEB?</dd>

d837 7
a843 11
pain at low defocus. I suggest using the <a href=
"./man/fq.html">FQ</a> operation (with filter option: 7) on the raw
files first, and play around with various filter parameters. We use
the parameters: passband 0.005, stopband 0.30. This results in
better visibility, for particle picking. The optimum parameters
will probably vary depending on microscope, scanning, and
defocus.</dd>

<dd><br>
<br>
 
a844 2
<p><strong><a name="color"></a></strong></p>
</dd>
d846 1
a847 1

d849 5
a853 6
because the menu text and background are often almost totally
illegible - ie two very similar shades of green, or light yellow on
white. Do you have any way of controlling the text and background
colour of the menus in WEB on SGI machines (Indy, Indigo2, O2) and
on X terminal displays to these machines?</dd>

d856 8
a863 9
<dd>WEB accepts standard Xt <a href=
"../../web/docs/webopt.html">Command line Arguments</a> Arguments
and uses the <a href="../../web/docs/webopt.html#resouces">Xt
resource file</a> (typically the <i>.Xdefaults</i> file in your
home directory). Some of these variables can be used to set
forground and background for various widgets in WEB. I suggest that
you experiment with:<br>
 resource settings in your <i>.Xdefaults</i> file: <br>
<br>
a864 1

a866 1

a880 1

a882 1

d886 1
a886 7
<dd><br>
<br>
 

<p><strong><a name="visual"></a></strong></p>
</dd>

a887 1

a888 1

d896 1
a896 2
 :0 Local local@@console /usr/bin/X11/X :0 -vclass0 PseudoColor
-terminate<br>
d900 1
a900 1
 (thanks to: Roberto Marabini Ruiz for this info)</dd>
d902 1
a902 7
<dd><br>
<br>
 

<p><strong><a name="visualpc"></a></strong></p>
</dd>

a903 1

a904 1

d907 3
a909 3
<dd>When running WRQ's Reflection X as an X Server you can set the
Server to 8 bit Psuedo Color as follows:<br>
 From the client manager, 
d912 3
a914 6
<li>click on <i>settings</i></li>

<li>click on <i>color</i></li>

<li>set <i>Default visual type</i> to
<i>PseudoColrEmulation</i>.</li>
d918 6
a923 16
<dd><br>
<br>
 

<p></p>
</dd>

<dd>When running <a href=
"http://gv2.tucows.com/win2k/xwinserver2k.html">WinaXe 6.0</a>
(costs $90.00) on Windows 2000, it is possible to set just the
Xserver's visual to pseudocolor without changing the screen for
non-X applications.</dd>

<dd><br>
<br>
 
d927 7
a933 11
<ul>
<li>click on <i>settings</i></li>

<li>click on <i>Control Panel</i></li>

<li>click on <i>Display</i></li>

<li>click on <i>settings</i></li>

<li>set <i>256 color</i>.</li>
</ul>
a934 3
<br>
<br>
 
a935 2
<p><strong><a name="work"></a></strong></p>
</dd>
d937 1
a938 1

d940 1
a940 2
only display to run in 8 bit mode?</dd>

d943 7
a949 9
<dd>
<p>Dr. David Bhella (MRC Virology Unit,Glasgow) suggested a
work-around for using Web that allows full operation (i.e.
calculating power spectra etc). Basically it specifies a virtual
terminal with an 8-bit display and one with a 24-bit display that
can be switched between using <i>ctrl-alt-f8 &amp; ctrl-altf7</i>.
Configuration is fairly straight forward and works on many flavors
of GNU/Linux. <a href=
"../../web/docs/web8onlinux.html">Instructions</a>.</p>
d954 3
a956 2
<small>Source file: faq.html &nbsp;&nbsp;&nbsp; Updated: 21 Jul.
2004 &nbsp;&nbsp;&nbsp; ArDean Leith</small>
@


1.52
log
@xhtml
@
text
@d950 69
d1020 5
d1026 15
a1040 35
Start WEB,
Display the image on the screen using option "Image" from the COMMANDS menu,
Select option "Pixel" from the COMMANDS menu,
 -- this allows you to pick points (for examples the centers of the
  particles you wish to select) and deposit their coordinates in a document
  file.
  "Pixel" popup menue: you should select "document file option", and
  specify the initial number to be used in the first document file name
  (default is 0).  You should ask for "Show marker" since in that case
  the system will put a little circle in each position where you do
  a selection.  After "accept", each click on the displayed image will result
  in the pixel coordinate being deposited in the document file under a
  key that keeps count of the particles you select.
  After you are done, click the right button and the "Pixel" option of
  WEB will terminate.
Now create a SPIDER procedure file that will read the coordinates of the
  selected particles from the document file and window the data
  accordingly into individual files.  For example, if you want to create
  windowed files of size (100,100) from a document file containing 
  coordinates of 150 particles, you would use the following sequence:

; B01.RIB  Window particles (this is a comment line. Use it to identify 
; the name and purpose of this procedure file)  
DO LB1 x88=1,150  ; (run do-loop until label LB1 from 1 to 150)
UD IC,I,X10,X11   ; (unsave doc "in-core" at key I, put coos into X10, X11)
DOC001            ; (name of document file)
X20=X10-50        ; calculate the top left coordinates from the center coos
X21=X11-50
WI                ; (window)
RAW001            ; (name of input file)
SEL{***X88}       ; (indexed name of output files)
(100,100)         ; (dimensions of output files)
X20,X21           ; (top left coordinates of selected windows)
LB1               ; (end of do-loop)
EN                ; (end of procedure)
d1042 2
a1044 13
<br>
<br>
 

<p>Run SPIDER (in this example with project code "RIB") and start
procedure file by entering "@@B01" at the <b>"OPERATION:"</b>
prompt. (By using operation <b>"MD"</b> with <b>"TR ON"</b>, you
can follow the progress of the procedure on the screen).</p>

<p>After the end of the procedure, the files SEL001.DAT through
SEL150.DAT will exist and they will contain the selected
windows.</p>
</dd>
@


1.51
log
@weblinux8bit changed
@
text
@d1 1
a2 1

d4 2
a5 1
<title>FAQ : SPIDER & WEB</title>
a6 1

d8 1
a8 2

<h1 align="center">FAQ : SPIDER & WEB</h1>
a10 2

<p>
d13 2
a14 1
<ul><big>
d16 2
a17 3
<li>Howto 
<a href="#vol">obtain the volume of a density map displayed with a given threshold</a>
?</li>
d19 2
a20 3
<li>Howto 
<a href="#matlab">read SPIDER files in MATLAB</a>
?</li>
d22 2
a23 3
<li>Howto 
<a href="./fftw.html">use FFTW (Fastest Fourier Transform in the West) </a>
with SPIDER?</li>
d25 2
a26 3
<li>Howto 
<a href="#processors">set number of processors SPIDER uses </a>
on OMP machines? </li>
d28 2
a29 3
<li>Howto
<a href="#GATAN">import images from GATAN CCD camera </a> 
into SPIDER? </li>
d31 2
a32 3
<li>Howto 
<a href="#import">import TIFF images</a>
 into SPIDER?</li>
d34 2
a35 2
<li>Howto 
<a href="#use">use a reference to align my 2-D images?</a></li>
d37 2
a38 3
<li>Howto 
<a href="#compare">compare a simple 3-D model for my molecule</a>
with my SPIDER model?</li>
d40 2
a41 2
<li>Howto 
<a href="#determine"> determine the resolution of a reconstruction?</a></li>
d43 2
a44 2
<li>Howto 
<a href="#correct">correct averaged images from two different defoci?</a></li>
d46 2
a47 2
<li>Howto 
<a href="#overcome"> *** THIS IMAGE FROM STACK NO LONGER IN USE error?</a></li>
d49 2
a50 2
<li>Why 
<a href="#rt3d"> doesn't 'RT 3D' rotate boundary areas?</a></li>
d52 2
a53 3
<li>Why does 
<a href="#rt3da"> 'RT SQ' produce an "artefact" </a> 
in slices for some angles.</li>
d55 1
a55 2
<li>Is SPIDER 
<a href="#y2k">Y2K </a>compliant?</li>
d57 2
a58 2
<li>Howto
<a href="#surface">create surface models of SPIDER volumes?</a></li>
d60 2
a61 2
<li>Howto 
<a href="#shadow"> improve shadowed images?</a></li>
d63 3
a65 3
<li>Is there a problem with 
<a href="#contrast"> differential contrast </a> 
of DNA and protein in SPIDER reconstructions?</li>
d67 2
a68 2
<li>Howto 
<a href="#ccp4"> convert CCP4</a> files to SPIDER format?</li>
d70 1
a70 1
<!------
d74 10
a83 1
----->
d85 2
a86 2
<li>Is</a> SPIDER useful in image averaging and 
<a href="#afm1">3-D reconstruction for AFM?</a>  </li>
d88 2
a89 3
<li>What are
<a href="#definitions"> definitions of astigmatism and azimuth</a>   
in the 'TF' operation?</li>
d91 2
a92 3
<li> Is there any operation which  
<a href="#normalized"> normalizes images at slightly different magnifications</a> 
before image averaging?</li>
d94 3
a96 2
<li>How does  
<a href="#align">alignment with 'AP MQ' or 'AP MD' work with negative pixel values?</a></li>
d98 2
a99 2
<li> Howto 
<a href="#ar">rescale an image's range to 0 - 255 using 'AR'?</a></li>
d101 2
a102 2
<li> Howto 
<a href="#drift">correct for drift in images</a> by  Wiener filtering for example?</li>
d104 1
a104 3
<li>Howto 
<a href="#missing">deal with missing markers when using the 'MK' operation</a>
for alignment in tomographic reconstructions?</li>
d106 2
a107 2
<li>Howto 
<a href="#x">use WEB to represent surfaces from crystallographic maps?</a></li>
d109 2
a110 3
<li>What is 
<a href="#pdb">position of a location in a SPIDER volume made from a
        PDB map?</a></li>
d112 2
a113 2
<li>What does  
<a href="#casi">CA SI do?</a></li>
d115 2
a116 2
<li> Howto 
<a href="#color">set color of the menu text and background in WEB?</a></li>
d118 2
a119 2
<li> Howto 
<a href="#visual">set X window visual for WEB on Dec Unix?</a></li>
d121 3
a123 2
<li> Howto 
<a href="#visualpc">set X window visual for WEB on NT?</a></li>
d125 8
a132 2
<li>Howto 
<a href="#pick">pick particles in SPIDER/WEB?</a></li>
d134 1
a134 2
<li>Howto 
<a href="#view">view particles from low defocus micrographs using WEB?</a></li>
d136 2
a137 2
<li> Howto <a href="#work">use 8 bit WEB on Linux </a>
   without permanently switching your only display to 8 bit mode?</li>
d139 1
d141 7
a147 1
</ul></big>
d149 3
a151 3
<hr></hr>
<dl>
</p>
d153 1
a153 5
<p>
<strong>
<a name="vol">
<dt>QUESTION </dt></a>
<dd>Howto obtain the volume of a density map displayed with a given threshold?
d155 15
a169 1
</strong>
d171 1
a171 6
<dt>ANSWER </dt>
<dd>  Use the <a href="./man/hir.html">HI R</a> operation and set lower range desired 
threshold THRESH and upper range byond the file maximum.  The number of PIXELS IN HISTOGRAM is the volume VOLP in units of 
pixel**3.  To obtain the actual volume, multiply VOLP with the volume of a voxel,
which is the (Angstroms per pixel)**3.  Note that everytime you change the theshold 
THRESH, you have to repeat this analysis.
d173 45
a217 1
</p>
d219 2
a220 5
<p>
<strong>
<a name="matlab">
<dt>QUESTION </dt></a>
<dd>Howto read SPIDER files in MATLAB?
d222 4
a225 1
</strong>
d227 1
a227 6
<dt>ANSWER </dt>
<dd>  Tobin Fricke has written a useful MEX function that gives MATLAB 
the ability to read SPIDER files.  See  
<a href="http://splorg.org/people/tobin/projects/israel/projects/spi_file/">
his Web site</a>
for information.
d229 18
a246 1
</p>
d248 1
a248 9
<p>
<strong>
<a name="overcome">
<dt>QUESTION </dt></a>
<dd>In one old release of SPIDER, I sometimes get the following 
nonsense error when trying to access a regular SPIDER 
image file:                                            <br>
         *** THIS IMAGE FROM STACK NO LONGER IN USE    <br>
What can I do?
a249 1
</strong>
d251 1
a251 19
<dt>ANSWER </dt>
<dd>  The file has some wrong header values which make SPIDER
think that it contains a stack of images instead of a regular image or volume.
Certain releases of SPIDER created such files.  
You can use the 
<a href="./man/st.html">ST</a> operation to fix the file:<br>
<TABLE>
<TR>
<TR><TD>ST       </TD><TD>; set header values operation                            </TD></TR>
<TR><TD>BAD000   </TD><TD>; bad input file                                         </TD></TR>
<TR><TD>B        </TD><TD>; put new values into specified locations in the header </TD></TR> 
<TR><TD>24,25    </TD><TD>; header locations to be changed                         </TD></TR>
<TR><TD>0,1      </TD><TD>; appropriate values for these header locations in images </TD></TR>
</TABLE>
<p>
For SPIDER releases before 06/01/97 this method will only work in interactive
mode, not in procedure mode
</dd>
</p>
d253 1
a253 18
<p>
<strong>
<a name="processors">
<dt>QUESTION </strong> </dt></a>
<dd>How do I set the number of processors SPIDER uses on a 
multiprocessor SGI machine?
</dd>
</strong> 

<dt>ANSWER</dt> 
<dd> Number of processors is set at (or during) run.  Environment variables
MP_SET-NUMTHREADS AND MP-SUGNUMTHD control number.  SPIDER has new 
suboption to the 
<a href="./man/md.html">MD</a> operation called:. 
"SET MP"  to allow fine control of number of processors during the
run. See unix man for <I>mp_set_numthreads</I> for more info.
</dd>
</p>
d255 1
a255 6
<p>
<strong>
<a name="GATAN">
<dt>QUESTION </strong> </dt></a>
<dd>How to import images from GATAN CCD camera into SPIDER? </dd>
</strong>
d257 1
a257 2
<dt>ANSWER </dt>
<dd> 
a258 1

d275 9
a283 1
</p>
a284 4
<p>
<strong>
<a name="use">
<dt>QUESTION</dt> </a>
d286 15
a300 1
</strong>
d302 3
a304 19
<dt>ANSWER </dt>
<dd>
There are two operations in SPIDER that can be used for a reference-based
alignment.  Their original purpose was multi-reference alignment,
but by limiting the number of reference images to one one can
perform a reference-vased alignment of 2D data.

The operations are called
<a href="./man/apmq.html">AP MQ</a> and
<a href="./man/apmr.html">AP MR</a>. 
The first one should perform
better even though it might be slower.  Both were installed fairly
recently (07/97), so to use you them you may have to request an
updated version of SPIDER.

Both operations are very simple and they do not require any procedure programs.
The alignment parameters found can be applied to the data using
procedure programs included in the respective manual chapters.</dd>
</p>
d306 1
a306 6
<p>
<strong>
<a name="compare">
<dt>QUESTION</dt> </a>
<dd>I have a simple 3-D model for my molecule.  How can I compare 
this model with my SPIDER model?
d308 17
a324 1
</strong>
d326 1
a326 8
<dt>ANSWER</dt> 
<dd>
This is done using a 3D projection alignment procedure.  It is based
on operation 
<a href="./man/apmd.html">AP MD</a>. 
The corresponding manual chapter contains an
example of the whole procedure.  It assumes that a SPIDER volume containing
a reference structure is available.
d328 2
a329 1
</p>
d331 1
a331 5
<p>
<strong>
<a name="determine">
<dt>QUESTION </dt></a>
<dd>How to Determine the resolution of a reconstruction.</dd></strong>
d334 20
a353 6
<dd>
Using operation 
<a href="./man/asr.html">AS R</a>
one can obtain averages corresponding to 
odd- and even-numbered images. (sample procedure file:) <br>
<a href="./man/asr.html">AS R</a> <br>
d355 12
a366 20
1-2200            <br>
O                 <br>
aveodd001         <br>
varodd001         <br>
aveven001         <br>
vaeven001         <br>

The averages can be compared using operation "RF".  This operation will
produced a document file with  R-factor, phase residual, and Fourier 
ring correlation measures.<p>

Alternatively, operation "RF SN" can be used on the image series
to obtain spectral-signal-to-noise-ratio measure of the
resolution (sample procedure file:)     <br>
<a href="./man/rfsn.html">RF SN</a> <br>
data/my_images****                  <br>
select      ; selection document file, see the manual file    <br>
mask   ;  mask image fine defining region of interest         <br>
0.5              <br>
ssnr_doc         <br>
d368 2
a369 1
</p>
a370 4
<p>
<strong>
<a name="correct">
<dt>QUESTION </dt></a>
d372 15
a386 2
    How do I correct one to match the other?  </dd>
</strong>
d388 1
a388 10
<dt>ANSWER</dt> 
<dd>
Due to a low SNR in 2D image data we do not apply CTF correction
on these images.  Instead, we correct for the CTF final 3D
reconstructions.  This is done (for any number of volumes) using 
<a href="./man/tfctf.html">TF CTF</a> 
operation.  Fourier volumes containing CTFs for all the defocus
sets are needed and they can be created using operation: 
<a href="./man/tfc3.html">TF C3</a>.
Other CTF operations are grouped under operation "TF".
d390 2
a391 1
</p>
d393 3
a395 8
<p>
<strong><a name="rt3d">
<dt>QUESTION </dt></a>
<dd> When the 
<a href="./man/rt3d.html">RT 3D</a> 
operation rotates a volume by 45,0,0 degrees 
(phi, theta, psi), why isn't the last Z-slice rotated?</dd>
</strong>
d397 1
d399 12
a410 16
<dt>ANSWER </dt>
<dd>
This is not an error, it is supposed to work this way.  To rotate the
volume one has to interpolate it.  The 'tri-linear' interpolation
requires that for a voxel (i,j,k) the neighbouring voxels are
available as well, i.e., voxels (i+1,j,k), (i,j+1,k),... ,(i+1,j+1,k+1).
If the neighbouring voxels are unavailable (they are outside of the field
or in the corners) the current voxel is left unchanged.  Thus, to 
rotate last slice, k=NSLICE, one would need values
at NSLICE+1, which are unavailable.  Thus, the last slice is left without
change.<br>
If you want to rotate volume around Z axis (angles=(psi,0,0)) you can 
use the operation <a href="./man/rt3q.html">RT 3Q</a>,
which will rotate all the slices by the 
same angle around Z axis.</dd>
</p>
d412 2
a413 6
<p>
<strong>
<a name="rt3da"><dt>QUESTION </dt> </a>
<dd>Why does <a href="./man/rtsq.html">RT SQ</a> 
produce an "artefact" in slices for some angles.</dd>
</strong>
d415 35
a449 24
<dt>ANSWER </dt> 
<dd> The 'RT SQ' operation assumes that
the 2D image (in your case it is a volume, but 'RT SQ' operates on
Z-slices independently, so we can discuss 2D case only) is "circularly
closed", or "wrapped around".  Assume that pixels are numbered from -N
to N (this you can always do by subtracting image center).  Thus,
according to RT SQ pixels number -N-1 is equivalent to pixel +N.  In
case of corner pixels and rotation angles close to 45 degrees the
corners upon rotation will end up close to the center (if you rotate
point (N,N) by 45 degrees it will have coordinates (1.41*N,0), and
according to the rule described (-0.41*N,0) - close to the center).<p>

Command "RT SQ" was designed to work for objects that are surrounded by
noise.  In this case it makes sense to put noise in the corners.  For
model objects, such as yours, it will create "artifacts".  Since upon
rotation the corners always stick out beyond the image frame one is
free to decide what should be put there. <p>

In the manual, each rotation operation has a remark stating which
convention was used.   <a href="./man/rt3d.html">RT 3D</a>, for example, leaves corners intact and
will work better for your object.  <a href="./man/rtb.html">RT B</a>
leaves you a possibility to
supply your own value that will fill the corners.  Please note that
only "RT SQ" uses quadratic interpolation.<p>
a450 1
</p>
d452 3
a454 5
<p>
<strong>
<a name="y2k"><dt>QUESTION</dt></a>
<dd> Is SPIDER Y2K (year 2000) compliant?</dd>
</strong>
d456 1
a456 9
<dt>ANSWER</dt> 
<dd>
Prior to release 6.02 SPIDER image files contained
a creation date in the <a href="image_doc.html">header</a> that
contained only two year digits e.g. 23-Jul-98. However this information
in not used anywhere within SPIDER for any purpose.  We feel that there
is little confusion from the two digit year.  Since release 6.02 the
year contains 4 digits.  There are no other Y2K problems intrinsic in
SPIDER or WEB.
d458 18
a475 1
</p>
d477 1
a477 7
<p>
<strong>
<a name="shadow"><dt>QUESTION </dt></a>
<dd>
I have a collection of high-resolution rotary shadowed images of
various proteins.  Can I use SPIDER image processing and analysis 
to improve the data gained from these images?.
d479 6
a484 1
</strong>
d487 24
a510 15
<dd>
On the basis of the fact that all images represent equally and
isotropically treated particles, it should be possible to use alignment
algorithms provided in SPIDER, and obtain a 2D average.  However, 3D
information cannot be retrieved -- the retrieval of the 3D profile
would require unidirectional shadowing and the use of a filter that
Smith and Kistler developed several years ago.  This filter is not
implemented in SPIDER, but it could be added. </p>

<p>
Other than that, SPIDER could be used for all kinds of more or less
cosmetic operations such as contrast enhancement and high- or low-pass
filtration.
</dd></p>
</p>
d512 1
a512 3
<p>
<strong>
<a name="contrast"> <dt>QUESTION </dt> </a>
d514 2
a515 3
<dd> 
We have come across a curious phenomenon in imaging nucleosomes
using cryo-EM.  Images of unstained frozen hydrated nucleosomes are
d518 4
a521 2
smaller volume) has a density very close to the background ice.  CTF
correction has little effect on the contrast.</p>
d523 6
a528 9
<p>
I had assumed that the differential contrast was related to the high
<i>P</i>
content of the DNA, but have now used the nucleosome X-ray coordinates
and SPIDER's  
<a href="./man/cpfrompdb.html">'CP from PDB'</a> 
to simulate projection images.  These show  
strong, and approximately equal, contrast from both the DNA and
protein components, in other words, no differential contrast is
a530 1
</strong>
d533 15
a547 8
<dd> Currently SPIDER uses only the phase contrast component,
transferred with sin(gamma), for simulations of EM images from atomic
coordinates.  The differential contrast between DNA and protein core in
nucleosomes that you see with cryo-EM is produced by the increased
amplitude contrast ("anomalous scattering") of the P atoms.   When we
have a chance to incorporate both amplitude and phase contrast in the
modeling procedure, I'm sure you will find a close match between theory
and experiment.
d549 2
a550 1
</p>
d552 1
a552 5
<p>
<strong>
<a name="ccp4"> <dt>QUESTION </dt> </a>
<dd> How to convert CCP4 files to SPIDER format?</dd>
</strong>
d555 2
a556 2
<dd>  
We have never converted CCP4 files directly into SPIDER format.  
d558 2
a559 3
is ASCII), and then use <a href="./man/cpfromxp.html">COPY FROM XP</a> 
to convert it to SPIDER file.
</dd>
d576 15
a590 2
----->
</p>
d592 1
a592 3
<p>
<strong>
<a name="afm1"> <dt>QUESTION </dt> </a>
d594 6
a599 13
<dd>  Is SPIDER useful in image averaging and 3-D reconstruction  
for AFM?  If I imaged  molecules in different orientations 
on a surface and I could deconvolute the effect of my AFM tip from the 
image, can I use SPIDER in any way to help to 3-D average or 
reconstruct the imaged molecules?</dd>
</strong> 

<dt>ANSWER</dt> <dd> There are operations in SPIDER that you can use
for averaging or deconvolution.  What you get from AFM is surface
topology; i.e., a segment of the molecular surface.  At best, you can
put the entire molecular surface back together from such segments, if
you 1) have copies of the same molecule lying in different orientations
and 2) have a way to quantitatively determine these orientations.  This
d601 19
a619 11
together from its pieces.  (I'm saying Easter egg, since the normal egg
is quite symmetric, but the Easter egg fits the analogy better since it
is painted with a hopefully asymmetric pattern).</p>
  But you should note that all operations in SPIDER that are related to
the determination of orientations or 3D reconstruction address an
entirely different problem, namely to interpret and make use of 2D
projections of a 3D density distribution.</p>
  Therefore, the answer to your question is: yes, you will find SPIDER
quite useful in helping you to analyze and process images, but no, it
will not help you with the specific problem of Easter egg-type 3D
reconstruction. 
d621 22
a642 1
</p>
d644 2
a645 3
<p>
<strong>
<a name="definitions"> <dt>QUESTION </dt></a>
d647 5
a651 12
<dd> I want to make astigmatic CTF functions, and am confused 
by your definitions of "astigmatism and azimuth".  The definition of 
astigmatism that I know has a long and a short axis which define the 
ellipse, and an angle that defines the orientation of
the long dimension of the ellipse relative to your X and Y axes.
I don't understand how this relates to the azimuth in your operations
which is defined as "the angle, in degrees, that characterizes the
direction of astigmatism. The angle defines the origin direction where
the astigmatism has no effect."<br>
What are definitions of astigmatism and azimuth  
in the <a href="./man/tf.html">TF</a> operation?. </dd>
</strong>
d653 9
a661 6
<dt>ANSWER</dt> <dd>In the SPIDER operation, the zero azimuth points
into the direction where the astigmatic focus difference has no effect;
i.e., 45 degrees away from your definition.  This is practical as a
definition , since in this case the astigmatism term simply adds to the
mean defocus.  </dd>
</p>
d663 1
a663 3
<p>
<strong>
<a name="align"> <dt>QUESTION </dt></a>
d665 4
a668 9
<dd> I am aligning particles using either <a href="./man/apmd.html">AP MD</a> or 
<a href="./man/apmq.html">AP MQ</a>.  The protein is
 "white" and there are nanogold labels on the protein that are "black"
 (essential negative pixel values).  My understanding is that SPIDER
 alignments only pay attention to the white or positive pixel values and
 not the black negative pixel values? As long as I normalize the images
 (avg=0, sd=1), is this truely the case?  Will I have alignment
 difficulties from alignment of the small nanogold dots to each other?</dd>
</strong>
d670 3
a672 6
<dt>ANSWER</dt> 
<dd> That's incorrect.  Alignment algorithms take into account the whole density 
range, without paying attention to the (arbitrary) polarity.
Such dots would tend to align to each other, compromising the overall alignment 
of the protein part.</dd>
</p>
d674 1
a674 7
<p>
<strong>
<a name="normalized"> <dt>QUESTION </dt></a> 
<dd> 
Is there any operation in SPIDER which allows images at slightly 
different magnifications to be normalized  
with respect to each other before image averaging?
d676 6
a681 1
</strong>
d684 20
a703 15
<dd> 
Operation <a href="./man/ip.html">'IP'</a> will  re-interpolate an image onto a new grid, 
so it will help re-scale to make up for a magnification change.  
Combine it with either <a href="./man/pd.html">'PD'</a> (pad) 
or <a href="./man/wi.html">'WI'</a> (window)  
to get back to 
the same dimensions.  However, we don't have a single operation that 
will let you <b>DETERMINE</b> the magnification change.  The 
corresponding mathematical operation is the Mellon transform, which is 
not implemented.  You can however write a simple procedure with a 
do-loop trying out different scale changes (using 'IP', etc. as 
explained above) followed by a 'CC  C' operation, taking care that 
you keep the images centered, and that you only compare non-padded 
portions of the images.
</dd></p>
d705 2
a706 4
<p>
<strong>
<a name="import">
<dt>QUESTION</dt></a>
d708 7
a714 1
</strong> 
a715 6
<dt>ANSWER </dt>
<dd>
Many black and white TIFF files consist of 8 or 16 bit raw data 
preceeded by a fixed length (often 1024 byte) 
header.  They can sometimes be converted to SPIDER format using the 
<a href="./man/cpfromraw.html">CP FROM RAW</a> operation. 
a716 1

d726 9
a734 1
</p>
d736 2
a737 6
<p>
<strong>
<a name="ar"> <dt>QUESTION </dt> </a>
<dd> How to rescale an image's range to 0 - 255 using 
     <a href="./man/ar.html">AR</a>?</dd>
</strong>
d740 4
a743 2
   <dd>
   <pre>  
d752 22
a773 3
   </pre>
   </dd>
</p>
d775 1
a775 8
<p>
<strong>
<a name="pdb"> <dt>QUESTION </dt> </a>
  <dd> What is position of a location in a SPIDER volume made from
       a PDB map?
  </dd>
</strong>
</p>
d777 1
a777 6
<p>
<strong>
<a name="casi"> <dt>QUESTION </dt> </a>
  <dd> What did <a href="./man/cas.html">'CA SI'</a> do?
  </dd>
</strong>
d780 17
a796 9
  <dd> CA SI read in the images and passed them through the mask -- 
  it put the passed pixels into one single array (lexicographically 
  ordered), which becomes one record of a sequential file.  This 
  sequential file is subsequently used by 
 <a href="./man/cas.html">'CA S'</a> to do the analysis. As of
 SPIDER version 10.0 this is all done within: 
 <a href="./man/cas.html">'CA S'</a> and 'CA SI' is no longer used.
  </dd>
</p>
d798 2
a799 6
<p>
<strong>
<a name="drift"> <dt>QUESTION </dt> </a>
  <dd> Howto correct for drift in images by  Wiener filtering for example?
  </dd>
</strong>
d802 22
a823 13
  <dd>
  It isn't worth the effort.  The zeros mean that parts of the transform are 
  completely lost.  One could of course think of combining pictures that have 
  undergone different amounts (and directions) of drift, to cover all zeros, 
  but it is much easier to do the experiment right and discard the images 
  affected by drift.<br>
   I'm not aware of any efforts in the EM field, for the reasons 
  stated.  However, I've seen literature on successful drift correction in 
  general image processing applications, but note that in those applications 
  the SNR is normally much higher than in EM images, meaning that more info 
  can be recovered in the vicinity of the zeros.
  </dd>
</p>
d825 5
a829 10
<p>
<strong>
<a name="missing"><dt>QUESTION </dt></a>
   <dd>
   When using SPIDER marker <a href="./man/mk.html">MK</a> operation 
   as part of a tomographic reconstruction proceedure, how do I deal with
   a marker that is not visible in a given projection?  Can one just not enter data for
   that particular marker in the offending projection?
   </dd>
</strong>
d832 15
a846 9
   <dd>
   Sometimes it is OK to leave a marker out on one or two images, but in 
   that case you must edit the marker document files so that the key number 
   for the markers correspond to same gold particles on all the images.  
   Either renumber the keys or pick a "dummy" for the missing marker, then 
   delete that line.<br>
   It is better not to try and get by with missing markers, however.
   </dd>
</p>
d848 1
d850 4
a853 9
<p>
<strong>
<a name="protocol"><dt>QUESTION </dt></a>
   <dd>
   When using PubSub I sometimes get following message and it quits running:<br>
   <i>poll: protocol failure during circuit creation</i>
   What can I do to prevent this?
   </dd>
</strong>
a855 1
   <dd>
d857 14
a870 1
poll: protocol failure during circuit creation
d872 2
a873 3
You may see this message if you attempt to run too many rsh processes.
Depending on the particular Linux distribution and verison, there may be a limit 
of as few as 40 processes per minute. It is possible to exceed this limit. <br>
d875 1
a875 1
To fix this, you can do one of the following: </p>
d877 6
a882 1
  1.Wait a few seconds between running parallel jobs. You may need to wait up to a minute. 
d884 1
a884 1
  2.Modify /etc/inetd.conf to allow more processes per minute for rsh. For example, change: 
d886 13
a898 1
    <i>shell   stream  tcp     nowait  root    /etc/tcpd2      in.rshd           </i><br>
d900 3
a902 1
    to: <br>
d904 2
a905 1
    <i>shell   stream  tcp     nowait.200      root    /etc/tcpd2      in.rshd  </i><br>
d907 1
a907 1
    <p>
d909 1
a909 11
<strong>
<a name="x"><dt>QUESTION </dt></a>
   <dd>
   I'am  trying to fit a high-resolution
   X-ray model into a low resolution EM map. It appears that 
   SPIDER'S WEB is capable of representing surfaces from maps? If so, 
   what kind of map formats does WEB accept?  Do you
   provide software for map conversion, etc?  My maps are in
   'crystallographer-friendly' formats such as CCP4 and XPLOR.
   </dd>
</strong>
d912 28
a939 14
   <dd> Yes, but WEB doesn't allow you to do interactive
   fits.  You'd be better off using the package "O", which we use all the
   time.  What we do is make preliminary displays using WEB, then prepare
   the volume using low-pass filtration as appropriate, then use an operation
   in SPIDER that makes a "map" file out of it compatible with "O", then
   display the map in "O" along with structures directly imported from
   "pdb".  We also routinely import "pdb" structures into SPIDER and
   convert them to densities, then low-pass filter (and, if applicable,
   apply "CTF") them, and go the same route as for the cryo-volume into
   "O", if we want to simulate the appearance of the structure as seen in
   the microscope, and compare it with what we see as extra density.<br>
   Yes, both CCP4 and XPLOR data can be imported.
   </dd>
</p>
d941 2
a942 8
<p>
<strong>
<a name="surface">
<dt>QUESTION</dt> </a>
   <dd>
   How can I create a surface model from a SPIDER volume.
   </dd>
</strong>
d944 1
a944 26
<dt>ANSWER</dt>
   <dd>
   One way of visualizing surfaces contained in a SPIDER volume is to
   use the 
   <a href="../../web/docs/web.html#OPERATION">WEB-Surface</a> 
   operation. This allows the user to generate a shaded rendering at 
   a particular threshold level within the volume.</p> <p>

   To make a surface model our usual procedure is to use
   <a href="http://www.nag.com">NAG's Iris Explorer</a> 
   to read SPIDER volumes, threshold the volume,
   and create a surface model in Inventor format. We then use a rendering
   viewer available in Iris Explorer to render the surface models.
   This method requires the Explorer module for reading SPIDER images
   which is free from us.  It also requires that you purchase Iris Explorer 
   from NAG.</p> <p>

   Another user suggests converting the SPIDER volume to SGI-RGB images
   with the SPIDER operations 
   <a href="./man/psz.html">PS Z</a> and
   <a href="./man/psz.html">CP TO SGI</a> 
   and then importing the volumes images into 
   <a href=" http://www-ncmir.ucsd.edu/index.html#SP ">SYNU</a>  
   for surface rendering.
   </dd>
</p>
d946 1
a946 7
<p>
<strong>
<a name="pick">
<dt>QUESTION </dt></a>
   <dd>How to pick particles in SPIDER/WEB?
   </dd>
</strong>
d948 1
a948 3
<dt>ANSWER</dt> 
   <dd> 
   <pre>
d950 2
d988 37
a1024 1
</p>
d1026 3
a1028 7
<p>
Run SPIDER (in this example with project code "RIB") and start
procedure file by entering "@@B01" at the <b>"OPERATION:"</b> prompt.
(By using operation <b>"MD"</b> with <b>"TR ON"</b>, 
you can follow the progress of the
procedure on the screen).
</p>
d1030 1
a1030 3
<p>
After the end of the procedure, the files SEL001.DAT through SEL150.DAT will
exist and they will contain the selected windows.</p>
a1031 1
</p>
d1033 1
a1033 6
<p>
<strong>
<a name="view">
<dt>QUESTION</dt></a>
   <dd>Howto view picked particles from low defocus micrographs using WEB?</dd>
</strong>
d1035 6
a1040 10
<dt>ANSWER </dt> 
   <dd> Confirming particles in a gallery of raw windowed
   files is a pain at low defocus.  I suggest using the <a
   href="./man/fq.html">FQ</a> operation (with filter option: 7) on the
   raw files first, and play around with various filter parameters.  We
   use the parameters: passband 0.005, stopband 0.30.  This results in
   better visibility, for particle picking.   The optimum parameters will
   probably vary depending on microscope, scanning, and defocus. 
   </dd>
</p>
d1042 1
a1042 11
<p>
<strong>
<a name="color">
<dt>QUESTION</dt></a>
<dd>We have a problem with the color display of menu text in WEB,  because
   the menu text and background are often almost totally illegible - ie
   two very similar shades of green, or light yellow on white. Do you 
   have any way of controlling the text and background colour of the menus
   in WEB on SGI machines (Indy, Indigo2, O2) and on X terminal displays
   to these machines?</dd>
</strong>
d1044 10
a1053 9
<dt>ANSWER</dt> 
<dd>  WEB accepts standard Xt <a href="../../web/docs/webopt.html">
   Command line Arguments</a> Arguments and uses the
   <a href="../../web/docs/webopt.html#resouces">Xt resource file </a>
   (typically the <I>.Xdefaults</I> file in your home directory).

   Some of these variables can be used to set forground and background for
   various widgets in WEB.  I suggest that you experiment with: <br>
   resource settings in your <I>.Xdefaults </I> file: </p>
a1054 1
<p>
d1077 10
a1086 2
</dd> 
</p>
d1088 1
a1088 5
<p>
<strong>
<a name="visual"> <dt>QUESTION </dt> </a>
   <dd> Howto set Xwindow visual for WEB on Dec Unix?</dd>
</strong>
d1091 21
a1111 12
  <dd>  
  -login as root                                <br>
  -edit /usr/dt/config/Xservers                 <br>
  -The last line is:                            <br>
   :0  Local local@@console /usr/bin/X11/X :0    <br>
   change it to                                 <br>
   :0   Local local@@console /usr/bin/X11/X :0 -vclass0 PseudoColor -terminate  <br>                           <br>
   (all in a single line!!)            <br>
  -logout and login as yourself        <br>
  (thanks to: Roberto Marabini Ruiz  for this info)
  </dd>
</p>
d1113 1
a1113 5
<p> 
<strong>
<a name="visualpc"> <dt>QUESTION </dt> </a>
   <dd> Howto set X window visual for WEB on NT?</dd>
</strong>
d1116 38
a1153 12
   <dd>  
   When running WRQ's Reflection X as an X Server you can set the
   Server to 8 bit Psuedo Color as follows:<br>

   From the client manager,
   <ul>
   <li> click on  <i>settings</i> </li>
   <li> click on <i>color </i> </li>
   <li> set <i>Default visual type</i> to  <i>PseudoColrEmulation</i>.</li>
   </ul>
   </dd>
</p>
d1155 1
a1155 8
<p>
   <dd>
   When running <a href="http://gv2.tucows.com/win2k/xwinserver2k.html">
   WinaXe 6.0</a>  (costs $90.00) on Windows 2000, it is possible to set 
   just the Xserver's visual to pseudocolor without changing the screen
   for non-X applications.
   </dd>
</p>
d1157 1
a1157 10
<p>  
   When running Windows NT, from the start menu,
   <ul>
   <li> click on  <i>settings</i> </li>
   <li> click on <i>Control Panel </i> </li>
   <li> click on <i>Display </i> </li>
   <li> click on  <i>settings</i> </li>
   <li> set <i>256 color</i>.</li>
   </ul>
</p>
d1159 2
a1160 7
<p>
<strong>
<a name="work">
<dt>QUESTION</dt></a>
   <dd>Howto use 8 bit WEB on Linux without permanently switching
       your only display to run in 8 bit mode?</dd>
</strong>
d1162 3
d1166 1
a1166 12
<dt>ANSWER </dt> 
<dd> 
<p>
Dr. David Bhella (MRC Virology Unit,Glasgow) 
suggested a work-around for using Web that allows full
operation (i.e. calculating power spectra etc).  Basically it specifies
a virtual terminal with an 8-bit display and one with a 24-bit display
that can be switched between using <i>ctrl-alt-f8 & ctrl-altf7</i>.
Configuration is fairly straight forward and works on many flavors of
GNU/Linux.   
<a href="../../web/docs/web8onlinux.html">Instructions</a>. 
</p>
d1169 6
d1176 10
d1189 2
a1190 6
<small>
Source file: faq.html &nbsp;&nbsp;&nbsp;  
Updated:  21 Jul. 2004  &nbsp;&nbsp;&nbsp; 
ArDean Leith
</small>

d1193 1
@


1.50
log
@*** empty log message ***
@
text
@d137 1
a137 1
   without permanently switching the display to 8 bit mode?</li>
d1056 1
a1056 1
       the display to run in 8 bit mode?</dd>
d1064 1
a1064 1
suggests a work-around for using Web that allows full
d1068 3
a1070 3
Configuration is fairly straight forward.  Redhat Linux instructions 
are available <a href="../../web/docs/web8onlinux.html">here</a>. Dr. Bhella's 
orginal instructions follow:
a1071 18

<p>
In your <i>XF86Config-4</i> file ensure that you have two display 
subsections specifying 8bpp and 24bpp and the default bit-depth is 24.<br>

Place following lines in your <i>/etc/Xll/gdm/gdm.conf</i> file: <br>
0=/usr/bin/X11/X -depth 8 vt7  <br>
1=/usr/bin/X11/X -depth 24 vt8 <br>
</p>

<p>
When you log in to your workstation you should get the default 24 bit
display visual, once logged on you can then press <i>ctrl-alt-f1</i> 
and this switches to a 8 bit visual login.  Login and you will
have both 8-bit and 24-bit terminals on your display.  The colour 
schemes may go a bit flakey when switching to Web, but it is 
perfectly usable. 
</p>
d1080 1
a1080 1
Updated:  14 Jul. 2004  &nbsp;&nbsp;&nbsp; 
@


1.49
log
@date
@
text
@d19 1
a19 1
<a HREF="#vol">obtain the volume of a density map displayed with a given threshold</a>
d23 1
a23 1
<a HREF="#matlab">read SPIDER files in MATLAB</a>
d27 1
a27 1
<a HREF="./fftw.html">use FFTW (Fastest Fourier Transform in the West) </a>
d704 1
a704 1
  <dd> What does <a href="./man/casi.html">'CA SI'</a> do?
d709 2
a710 2
  <dd> CA SI reads in the images and passes them through the mask -- 
  it puts the passed pixels into one single array (lexicographically 
d713 3
a715 1
 <a href="./man/cas.html">'CA S'</a> to do the analysis.
d1063 1
a1063 1
Dr David Bhella (MRC Virology Unit,Glasgow) 
d1069 1
a1069 1
are available <a href="./web8onlinux.html">here</a>. Dr. Bhella's 
d1098 1
a1098 1
Updated:  7 Mar. 2004  &nbsp;&nbsp;&nbsp; 
@


1.48
log
@web8onlinux
@
text
@d761 1
d764 32
d1096 1
a1096 1
Updated:  5 Feb. 2003  &nbsp;&nbsp;&nbsp; 
@


1.47
log
@volume determination
@
text
@d1033 3
a1035 1
Configuration is fairly straight forward.
d1037 1
d1063 1
a1063 1
Updated:  29 October 2002  &nbsp;&nbsp;&nbsp; 
@


1.46
log
@MEX Matlab
@
text
@d19 4
d148 17
d184 1
a184 1
<dd>In one release of SPIDER, I sometimes get the following 
d226 1
a226 1
"SET MP"  to allow control of number of processors during the
a1054 2


d1060 1
a1060 1
Updated:  2 August 2002  &nbsp;&nbsp;&nbsp; 
@


1.45
log
@display corrections
@
text
@d19 4
d140 18
d159 1
a187 1
<p>
d189 1
d191 1
a191 1

d208 2
a210 1

a238 1

d264 1
d284 1
d321 1
d342 1
d345 1
a345 2
<strong>
<a name="rt3d">
d369 1
d371 2
a372 1
<p> <strong>
d403 1
a403 1

d448 1
d450 1
a450 1
<p> 
d485 1
d487 1
a487 1
<p> 
d517 1
d519 1
a519 1
<p> 
d549 1
d551 1
a551 1
<p> 
d573 1
d575 1
a575 1
<p> 
d594 1
d596 1
a596 2

<p> 
d623 1
d647 1
d649 1
a649 1
<p> 
d671 1
a671 2

<p> 
d678 1
d680 1
a680 1
<p> 
d696 1
a696 1
<p> 
a717 2


d887 1
a887 1

d932 2
a933 1
</dd> </p>
a994 2


d1005 2
a1006 1
<dd> <p>
d1008 1
a1008 1
suggests a work around for using Web that allows full
d1013 2
a1014 1
</p><p>
d1021 1
d1023 1
a1023 1
</p><p>
d1029 2
a1030 1
perfectly usable. </p>
a1035 2


d1041 1
a1041 1
Updated:  21 June 2002  &nbsp;&nbsp;&nbsp; 
@


1.44
log
@new ? added
@
text
@d973 3
a975 2
   <dd> 
Dr David Bhella suggests a work around for using Web that allows full
d979 11
a989 10
Configuration is fairly straight forward. In the <i>XF86Config-4</i>
file the default bit-depth is 24, and there are two display subsections
for 8 and 24 bit modes.  The <i>/etc/Xll/gdm/gdm.conf</i> file has the
following lines: </p>
<p>
0=/usr/bin/X11/X -bpp 8 vt7  <br>
1=/usr/bin/X11/X -bpp 24 vt8 <br>
</p>
<p>
When you log in to your workstation you get the default 24 bit
d991 5
a995 7
and this switches to a text console login.  Login and then type: 
<i> startx -- -depth 8</i> You
can now switch between 8-bit and 24-bit terminals running Web on your
8-bit display etc....  The colour schemes go a bit flakey when
switching to Web, but it is perfectly usable. </p>
   </dd>
</p>
d1007 1
a1007 1
Updated:  20 June 2002  &nbsp;&nbsp;&nbsp; 
@


1.43
log
@removed afm question
@
text
@d110 3
d128 4
d645 7
d653 5
a657 4
  <dd> When we use <a href="./man/cpfrompdb.html">'CP from PDB'</a> we have
  cubic voxels.  If the voxel size is {dx, dy, dz},a point with
  coordinates {x, y, z} will be placed at the pixel ({x/dx, y/dy, z/dz} + 
  {ox, oy, oz})
d963 39
d1007 1
a1007 1
Updated:  5 Mar. 2002  &nbsp;&nbsp;&nbsp; 
@


1.42
log
@*** empty log message ***
@
text
@d73 1
d77 1
d464 1
a464 1

d479 1
a479 1

d953 1
a953 1
Updated:  23 Feb. 2002  &nbsp;&nbsp;&nbsp; 
@


1.41
log
@lpdb ?
.\
@
text
@d640 1
a640 1
  {ox,>oy, oz})
@


1.40
log
@added drift
@
text
@d104 4
d630 16
d951 1
a951 1
Updated:  12 Feb. 2002  &nbsp;&nbsp;&nbsp; 
@


1.39
log
@*** empty log message ***
@
text
@d94 3
a112 3
<li> Howto 
<a href="#ar">rescale an image's range to 0 - 255 using 'AR' ?</a></li>

d117 1
a117 1
<a href="#view">view picked particles from low defocus micrographs using WEB?</a></li>
d187 1
a187 1
cp from raw     ; (Copy command) 
d212 1
a212 1
There are two commands in SPIDER that can be used for a reference-based
d217 1
a217 1
The commands are called
d225 1
a225 1
Both commands are very simple and they do not require any procedure programs.
d241 1
a241 1
on command 
d269 1
a269 1
The averages can be compared using operation "RF".  This command will
d299 3
a301 2
sets are needed and they can be created using command "TF C3".
Other CTF commands are grouped under operation "TF".
d327 2
a328 1
use the command 'RT 3Q', which will rotate all the slices by the 
d338 2
a339 2
<dd> The RT SQ command assumes that
the 2D image (in your case it is a volume, but RT SQ operates on
d355 1
a355 1
In the manual, each rotation command has a remark stating which
d510 1
a510 1
<dd> I'm looking to make astigmatic CTF functions, and am confused 
d515 1
a515 1
I don't understand how this relates to the azimuth in your commands
d577 70
d651 7
a657 6
<dd>
When using SPIDER marker <a href="./man/mk.html">MK</a> operation 
as part of a tomographic reconstruction proceedure, how do I deal with
a marker that is not visible in a given projection?  Can one just not enter data for
that particular marker in the offending projection?
</dd></strong>
d660 8
a667 8
<dd>
Sometimes it is OK to leave a marker out on one or two images, but in 
that case you must edit the marker document files so that the key number 
for the markers correspond to same gold particles on all the images.  
Either renumber the keys or pick a "dummy" for the missing marker, then 
delete that line.<br>
It is better not to try and get by with missing markers, however.
</dd>
d673 8
a680 7
<dd>
I'am a X-ray crystallographer who is trying to fit a high-resolution
model into a low resolution EM map. It appears from your web site that 
SPIDER'S WEB is capable of representing surfaces from maps? If so, 
what kind of map formats does WEB accept?  Do you
provide software for map conversion, etc?  My maps are in
'crystallographer-friendly' formats such as CCP4 and XPLOR.</dd>
d684 13
a696 12
<dd> Yes, but the program doesn't allow you to do interactive
fits.  You'd be better off using the package "O", which we use all the
time.  What we do is make preliminary displays using WEB, then prepare
the volume using low-pass filtration as appropriate, then use a command
in SPIDER that makes a "map" file out of it compatible with "O", then
display the map in "O" along with structures directly imported from
"pdb".  We also routinely import "pdb" structures into SPIDER and
convert them to densities, then low-pass filter (and, if applicable,
apply "CTF") them, and go the same route as for the cryo-volume into
"O", if we want to simulate the appearance of the structure as seen in
the microscope, and compare it with what we see as extra density.<br>
Yes, both CCP4 and XPLOR data can be imported.</dd>
d703 3
a705 2
<dd>
How can I create a surface model from a SPIDER volume.</dd>
d709 25
a733 24
<dd>
One way of visualizing surfaces contained in a SPIDER volume is to
use the 
<a href="../../web/docs/web.html#OPERATION">WEB-Surface</a> 
operation. This allows the user to generate a shaded rendering at 
a particular threshold level within the volume. <p>

To make a surface model our usual procedure is to use
<a href="http://www.nag.com">NAG's Iris Explorer</a> 
to read SPIDER volumes, threshold the volume,
and create a surface model in Inventor format. We then use a rendering
viewer available in Iris Explorer to render the surface models.
This method requires the Explorer module for reading SPIDER images
which is free from us.  It also requires that you purchase Iris Explorer 
from NAG. <p>

Another user suggests converting the SPIDER volume to SGI-RGB images
with the SPIDER operations 
<a href="./man/psz.html">PS Z</a> and
<a href="./man/psz.html">CP TO SGI</a> 
and then importing the volumes images into 
<a href=" http://www-ncmir.ucsd.edu/index.html#SP ">SYNU</a>  
for surface rendering.
</dd></p>
d739 2
a740 1
<dd>How to pick particles in SPIDER/WEB?</dd>
d744 2
a745 3
<dd> 

<pre>
d787 2
a788 2
procedure file by entering "@@B01" at the <B>"OPERATION:"</B> prompt.
(By using command <B>"MD"</B> with <B>"TR ON"</B>, 
d790 2
a791 1
procedure program on the screen) </p>
d795 3
a797 1
exist and they will contain the selected windows.</dd></p>
d803 1
a803 1
<dd>Howto view picked particles from low defocus micrographs using WEB?</dd>
d807 9
a815 32
<dd> Confirming particles in a gallery of raw windowed
files is a pain at low defocus.  I suggest using the <a
href="./man/fq.html">FQ</a> operation (with filter option: 7) on the
raw files first, and play around with various filter parameters.  We
use the parameters: passband 0.005, stopband 0.30.  This results in
better visibility, for particle picking.   The optimum parameters will
probably vary depending on microscope, scanning, and defocus. </dd>


<strong>
<a name="import">
<dt>QUESTION</dt></a>
<dd>How to import TIFF images into SPIDER?</dd>
</strong> 

<dt>ANSWER </dt>
<dd>
Many black and white TIFF files consist of 8 or 16 bit raw data 
preceeded by a fixed length (often 1024 byte) 
header.  They can sometimes be converted to SPIDER format using the 
<a href="./man/cpfromraw.html">CP FROM RAW</a> operation. 
<pre>

CP FROM RAW   ; (Copy command) 
8             ; (how many bits) 
imgin         ; (input file name) 
512 512       ; (input file dimensions) 
1024          ; (skip header bytes) 
imgout        ; (output file name) 

</pre>
</dd>
d867 1
a867 2

<dd> Howto set Xwindow visual for WEB on Dec Unix?</dd>
d871 1
a871 1
<dd>  
d876 1
a876 1
   change it to         <br>
d881 2
a882 1
</dd>
d887 1
a887 2

<dd> Howto set X window visual for WEB on NT?</dd>
d891 3
a893 3
<dd>  
When running WRQ's Reflection X as an X Server you can set the
Server to 8 bit Psuedo Color as follows:<br>
d895 8
a902 7
From the client manager,
<ul>
<li> click on  <i>settings</i> </li>
<li> click on <i>color </i> </li>
<li> set <i>Default visual type</i> to  <i>PseudoColrEmulation</i>.</li>
</ul>
</dd></p>
d904 7
a910 6
<dd>
When running <a href="http://gv2.tucows.com/win2k/xwinserver2k.html">
WinaXe 6.0</a>  (costs $90.00) on Windows 2000, it is possible to set 
just the Xserver's visual to pseudocolor without changing the screen
for non-X applications.
</dd>
d913 9
a921 8
When running Windows NT, from the start menu,
<ul>
<li> click on  <i>settings</i> </li>
<li> click on <i>Control Panel </i> </li>
<li> click on <i>Display </i> </li>
<li> click on  <i>settings</i> </li>
<li> set <i>256 color</i>.</li>
</ul>
a924 21
<p> 
<strong>
<a name="ar"> <dt>QUESTION </dt> </a>

<dd> How to rescale an image's range to 0 - 255 using 
     <a href="./man/ar.html">AR</a>?</dd>
</strong>

<dt>ANSWER</dt>
<dd>
<pre>  
FI X21,X22   ; file info. operation
oldfilename  ; input file
8,7          ; min and max location in header
;
AR           ; arithmetic operation
oldfilename  ; input file
newfile      ; output file
255 * (P1-X21) / (X22-X21)
</pre>
</dd></p>
d928 2
a929 1
<hr><small>
d931 1
a931 1
Updated:  14 Jan. 2002  &nbsp;&nbsp;&nbsp; 
@


1.38
log
@added marker question & reformetted all
@
text
@d553 1
a553 1
different magnifications to be <a href="#normalized">normalized</a> 
d559 2
a560 1
<dd> Operation 'IP' will  re-interpolate an image onto a new grid, 
d562 3
a564 1
Combine it with either 'PD' (pad) or 'WI' (window) to get back to 
d572 2
a573 1
portions of the images.</dd></p>
d578 1
a578 1
<a name="x"><dt>QUESTION </dt></a>
d580 1
a580 1
When using SPIDER marker <a href="./man/mk.html">MK</a> operation</a> 
@


1.37
log
@added ar question
@
text
@d2 1
d4 1
a4 1
<title>FAQ : SPIDER</title>
d9 3
a11 1
<h1 align="center">FAQ : SPIDER</h1>
d13 2
a14 2
<hr><p>
<h3 align="center">Contents</H3>
d18 3
a20 2
<li><a HREF="./fftw.html">Howto</a>
use FFTW (Fastest Fourier Transform in the West) with SPIDER?</li>
d22 3
a24 2
<li><a href="#color">Howto</a>
set color of the menu text and background in Web?</li>
d26 3
a28 2
<li><a href="#processors">Howto</a>
set the number of processors SPIDER uses on SGI machines? </li>
d30 3
a32 2
<li><a href="#GATAN">Howto</a>
import images from GATAN CCD camera into SPIDER? </li>
d34 2
a35 2
<li><a href="#pick">Howto</a>
pick particles in SPIDER/WEB?</li>
d37 3
a39 2
<li><a href="#view">Howto</a> view
picked particles from low defocus micrographs using WEB?</li>
d41 2
a42 2
<li><a href="#import">Howto</a>
import TIFF images into SPIDER? </li>
d44 2
a45 2
<li><a href="#use">Howto</a>
use a reference to align my 2-D images?</li>
d47 2
a48 2
<li><a href="#compare">Howto</a>
compare a simple 3-D model for my molecule with my SPIDER model?</li>
d50 2
a51 2
<li><a href="#determine">Howto</a>
determine the resolution of a reconstruction?</li>
d53 3
a55 2
<li><a href="#correct">Howto</a>
correct averaged images that are at two different defoci?</li>
d57 2
a58 2
<li><a href="#overcome">Howto</a>
overcome *** THIS IMAGE FROM STACK NO LONGER IN USE error?</li>
d60 2
a61 1
<li><a href="#rt3d">Why</a> doesn't 'RT 3D' rotate boundary areas?</li>
d63 2
a64 2
<li><a href="#rt3da">Why does </a> 'RT SQ' produce an "artefact" in 
slices for some angles.</li>
d66 3
a68 1
<li>Is SPIDER <a href="#y2k">Y2K </a>compliant?</li>
d70 2
a71 2
<li><a href="#x">Howto</a> 
use WEB to represent surfaces from crystallographic maps?</li>
d73 6
a78 2
<li><a href="#surface">Howto</a>
create surface models of SPIDER volumes?</li>
d80 3
a82 2
<li><a href="#shadow">Howto</a>
improve shadowed images?</li>
d84 3
a86 2
<li>Is there a problem with <a href="#contrast"> differential contrast
</a> of DNA and protein in SPIDER reconstructions?</li>
d88 2
a89 2
<li>Howto convert <a href="#ccp4"> convert CCP4
</a> files to SPIDER format?</li>
d91 2
a92 2
<li>Has SPIDER been used for the analysis of 
<a href="#afm">Atomic force microscopy (AFM)</a>  images?</li>
d94 3
a96 2
<li>Is</a> SPIDER useful in image averaging 
and <a href="#afm1">3-D reconstruction for AFM?</a>  </li>
d98 2
a99 3
<li>What are definitions of 
<a href="#definitions"> astigmatism and azimuth</a>  
in the 'TF' operation?</li>
d101 2
d104 2
a105 4
<li> Is there any operation in SPIDER which allows images at slightly 
different magnifications to be <a href="#normalized">normalized</a> 
with respect to each other before image averaging?
</li>
d107 2
a108 2
<li>Does alignment with 'AP MQ' or 'AP MD' 
<a href="#align">work with negative pixel values?</a></li>
d110 2
a111 1
<li> Howto <a href="#visual">set X window visual for Web on Dec Unix?</a></li>
d113 2
a114 1
<li> Howto <a href="#visualpc">set X window visual for Web on NT?</a></li>
d116 2
a117 1
<li> Howto <a href="#ar">How to rescale an image's range to 0 - 255 using 'AR' ?</a></li>
d121 1
a121 1
<hr>,/hr>
d124 1
d126 1
a126 1
<dt><strong>QUESTION </strong></dt></a>
d133 1
a154 42
<a name="color">
<dt><strong>QUESTION </strong></dt></a>
<dd>We have a problem with the color display of menu text in WEB,  because
   the menu text and background are often almost totally illegible - ie
   two very similar shades of green, or light yellow on white. Do you 
   have any way of controlling the text and background colour of the menus
   in WEB on SGI machines (Indy, Indigo2, O2) and on X terminal displays
   to these machines?</dd>

<dt>ANSWER</dt> 
<dd>  Web accepts standard Xt <a href="../../web/docs/webopt.html">
   Command line Arguments</a> Arguments and uses the
   <a href="../../web/docs/webopt.html#resouces">Xt resource file </a>
   (typically the <I>.Xdefaults</I> file in your home directory).

   Some of these variables can be used to set forground and background for
   various widgets in Web.  I suggest that you experiment with: <p>

   resource settings in your <I>.Xdefaults </I> file:

<PRE>
e.g.

   Web*background :    green
   Web*foreground :    red
   Web*useSchemes:     all

(The "useSchemes" option selects SGI's color coordinated 
 settings for standard Window Manager controlled colors)

or with command line options: 

-bg       Background-color
-bd       Border-color
-fg       Foreground-color

e.g.

   web -bg green DAT
   web -bg purple -fg red DAT

</PRE></dd><p>
d156 1
d158 1
a158 1
<dt><strong>QUESTION </strong> </dt></a>
d161 2
a162 1
</dd> 
d174 1
d176 1
a176 1
<dt><strong>QUESTION </strong> </dt></a>
d178 1
d182 1
a182 1
<PRE>
d198 1
a198 1
</PRE>
a201 92
<p>
<a name="pick">
<dt><strong>QUESTION </strong> </dt></a>
<dd>How to pick particles in SPIDER/WEB</dd>

<dt>ANSWER</dt> 
<dd> 
<PRE>

Start WEB,
Display the image on the screen using option "Image" from the COMMANDS menu,
Select option "Pixel" from the COMMANDS menu,
 -- this allows you to pick points (for examples the centers of the
  particles you wish to select) and deposit their coordinates in a document
  file.
  "Pixel" popup menue: you should select "document file option", and
  specify the initial number to be used in the first document file name
  (default is 0).  You should ask for "Show marker" since in that case
  the system will put a little circle in each position where you do
  a selection.  After "accept", each click on the displayed image will result
  in the pixel coordinate being deposited in the document file under a
  key that keeps count of the particles you select.
  After you are done, click the right button and the "Pixel" option of
  WEB will terminate.
Now create a SPIDER procedure file that will read the coordinates of the
  selected particles from the document file and window the data
  accordingly into individual files.  For example, if you want to create
  windowed files of size (100,100) from a document file containing 
  coordinates of 150 particles, you would use the following sequence:

; B01.RIB  Window particles (this is a comment line. Use it to identify 
; the name and purpose of this procedure file)  
DO LB1 x88=1,150  ; (run do-loop until label LB1 from 1 to 150)
UD IC,I,X10,X11   ; (unsave doc "in-core" at key I, put coos into X10, X11)
DOC001            ; (name of document file)
X20=X10-50        ; calculate the top left coordinates from the center coos
X21=X11-50
WI                ; (window)
RAW001            ; (name of input file)
SEL{***X88}       ; (indexed name of output files)
(100,100)         ; (dimensions of output files)
X20,X21           ; (top left coordinates of selected windows)
LB1               ; (end of do-loop)
EN                ; (end of procedure)
<PRE>

Run SPIDER (in this example with project code "RIB") and start
procedure file by entering "@@B01" at the <B>"OPERATION:"</B> prompt.
(By using command <B>"MD"</B> with <B>"TR ON"</B>, 
you can follow the progress of the
procedure program on the screen) <p>

After the end of the procedure, the files SEL001.DAT through SEL150.DAT will
exist and they will contain the selected windows.</dd><p>


<a name="view">
<dt><strong>QUESTION </strong></dt></a>
<dd>Howto view picked particles from low defocus micrographs 
using WEB?</dd>
<dt>ANSWER </dt> 
<dd> Confirming particles in a gallery of raw windowed
files is a pain at low defocus.  I suggest using the <a
href="./man/fq.html">FQ</a> operation (with filter option: 7) on the
raw files first, and play around with various filter parameters.  We
use the parameters: passband 0.005, stopband 0.30.  This results in
better visibility, for particle picking.   The optimum parameters will
probably vary depending on microscope, scanning, and defocus. </dd>


<a name="import">
<dt><strong>QUESTION </strong></dt></a>
<dd>How to import TIFF images into SPIDER?</dd> 

<dt>ANSWER </dt>
<dd>
Many black and white TIFF files consist of 8 or 16 bit raw data 
preceeded by a fixed length (often 1024 byte) 
header.  They can sometimes be converted to SPIDER format using the 
<a href="./man/cpfromraw.html">CP FROM RAW</a> operation. 
<PRE>

CP FROM RAW   ; (Copy command) 
8             ; (how many bits) 
imgin         ; (input file name) 
512 512       ; (input file dimensions) 
1024          ; (skip header bytes) 
imgout        ; (output file name) 

</PRE>
</dd>

d204 1
d206 1
a206 1
<dt><strong>QUESTION </strong></dt> </a>
d208 1
d230 1
d232 1
a232 1
<dt><strong>QUESTION </strong></dt> </a>
d236 1
d249 1
d251 2
a252 2
<dt><strong>QUESTION </strong> </dt></a>
<dd>How to Determine the resolution of a reconstruction.</dd>
d285 1
d287 1
a287 1
<dt><strong>QUESTION </strong> </dt></a>
d290 1
d304 1
d306 1
a306 1
<dt><strong>QUESTION </strong> </dt></a>
d311 1
d329 2
a330 3
<p> <a name="rt3da"> 
<dt><strong>QUESTION </strong> </dt> </a>

d333 1
d363 2
a364 2
<a name="y2k">
<dt><strong>QUESTION </strong></dt> </a>
d366 1
d368 4
a371 2
<dt>ANSWER  <dd> Prior to release 6.02 SPIDER image files contained
 a creation date in the <a href="image_doc.html">header</a> that
d378 1
a378 57

<p>
<a name="x">
<dt><strong>QUESTION </strong> </dt></a>
<dd>
I'am a X-ray crystallographer who is trying to fit a high-resolution
model into a low resolution EM map. It appears from your web site that 
SPIDER'S WEB is capable of representing surfaces from maps? If so, 
what kind of map formats does WEB accept?  Do you
provide software for map conversion, etc?  My maps are in
'crystallographer-friendly' formats such as CCP4 and XPLOR.</dd>

<dt>ANSWER</dt>
<dd> Yes, but the program doesn't allow you to do interactive
fits.  You'd be better off using the package "O", which we use all the
time.  What we do is make preliminary displays using WEB, then prepare
the volume using low-pass filtration as appropriate, then use a command
in SPIDER that makes a "map" file out of it compatible with "O", then
display the map in "O" along with structures directly imported from
"pdb".  We also routinely import "pdb" structures into SPIDER and
convert them to densities, then low-pass filter (and, if applicable,
apply "CTF") them, and go the same route as for the cryo-volume into
"O", if we want to simulate the appearance of the structure as seen in
the microscope, and compare it with what we see as extra density.<br>
Yes, both CCP4 and XPLOR data can be imported.</dd>

<p>
<a name="surface">
<dt><strong>QUESTION </strong></dt> </a>
<dd>
How can I create a surface model from a SPIDER volume.</dd>

<dt>ANSWER</dt>
<dd>
One way of visualizing surfaces contained in a SPIDER volume is to
use the 
<a href="../../web/docs/web.html#OPERATION">Web-Surface</a> 
operation. This allows the user to generate a shaded rendering at 
a particular threshold level within the volume. <p>

To make a surface model our usual procedure is to use
<a href="http://www.nag.com">NAG's Iris Explorer</a> 
to read SPIDER volumes, threshold the volume,
and create a surface model in Inventor format. We then use a rendering
viewer available in Iris Explorer to render the surface models.
This method requires the Explorer module for reading SPIDER images
which is free from us.  It also requires that you purchase Iris Explorer 
from NAG. <p>

Another user suggests converting the SPIDER volume to SGI-RGB images
with the SPIDER operations 
<a href="./man/psz.html">PS Z</a> and
<a href="./man/psz.html">CP TO SGI</a> 
and then importing the volumes images into 
<a href=" http://www-ncmir.ucsd.edu/index.html#SP ">SYNU</a>  
for surface rendering.
</dd>
d381 2
a382 2
<a name="shadow">
<dt><strong>QUESTION </strong> </dt></a>
d386 3
a388 1
to improve the data gained from these images?.</dd>
d391 2
a392 2
 <dd>
  On the basis of the fact that all images represent equally and
d398 4
a401 2
implemented in SPIDER, but it could be added.<p>
  Other than that, SPIDER could be used for all kinds of more or less
d403 3
a405 1
filtration.</dd>
d407 2
a408 1
<a name="contrast"> <dt><strong>QUESTION </strong> </dt> </a>
d410 2
a411 1
<dd> We have come across a curious phenomenon in imaging nucleosomes
d416 5
a420 2
correction has little effect on the contrast. <p>
I had assumed that the differential contrast was related to the high P
d427 3
a429 1
observed.</dd>
d443 2
a444 2
<a name="ccp4"> <dt><strong>QUESTION </strong> </dt> </a>

d446 1
d458 2
a459 1
<a name="afm"> <dt><strong>QUESTION </strong> </dt> </a>
d463 1
d474 2
a475 1
<a name="afm1"> <dt><strong>QUESTION </strong> </dt> </a>
d481 2
a482 1
reconstruct the imaged molecules?</dd> 
d505 2
a506 1
<a name="definitions"> <dt><strong>QUESTION </strong> </dt></a>
d519 1
d528 2
a529 1
<a name="align"> <dt><strong>QUESTION </strong> </dt></a>
d539 1
d549 2
a550 1
<a name="normalized"> <dt><strong>QUESTION </strong> </dt></a> 
d556 2
d572 227
d800 2
d803 3
a805 2
<p> 
<a name="visual"> <dt><strong>QUESTION </strong> </dt> </a>
d807 2
a808 1
<dd> Howto set Xwindow visual for Web on Dec Unix?</dd>
d824 2
a825 1
<a name="visualpc"> <dt><strong>QUESTION </strong> </dt> </a>
d827 2
a828 1
<dd> Howto set X window visual for Web on NT?</dd>
d863 2
a864 1
<a name="ar"> <dt><strong>QUESTION </strong> </dt> </a>
d868 1
d888 1
a888 1
Updated:  10 Jan. 202  &nbsp;&nbsp;&nbsp; 
@


1.36
log
@visualizing picked particles
@
text
@d96 2
d626 1
a626 1
is painted with a hopefully asymmetric pattern).</P>
d630 1
a630 1
projections of a 3D density distribution.</P>
d734 1
a734 1
</dd></P>
d752 22
a773 1
</P>
d779 1
a779 1
Updated:  31 Oct. 2001  &nbsp;&nbsp;&nbsp; 
@


1.35
log
@new ? added
@
text
@d30 3
d96 3
a98 2
</ul></BIG>
<hr>
d102 1
a102 1
<dt><strong>QUESTION </strong></dt>
d108 1
d131 1
a131 1
<dt><strong>QUESTION </strong></dt>
d137 1
a137 1
   to these machines?
d171 1
a171 1
</PRE><p>
d174 4
a177 2
<dt><strong>QUESTION </strong> </dt>
<dd>How do I set the number of processors SPIDER uses on a multiprocessor SGI machine? 
a187 1
<p>
d190 2
a191 2
<dt><strong>QUESTION </strong> </dt>
<dd>How to import images from GATAN CCD camera into SPIDER? 
d212 2
d215 1
d217 2
a218 2
<dt><strong>QUESTION </strong> </dt>
<dd>How to pick particles in SPIDER/WEB
d268 16
a283 1
exist and they will contain the selected windows.<p>
d286 2
a287 2
<dt><strong>QUESTION </strong> 
<dd>How to import TIFF images into SPIDER? 
d305 1
d310 2
a311 2
<dt><strong>QUESTION </strong></dt> 
<dd>How do I use a reference to align my 2-D images?
d330 1
a330 1
procedure programs included in the respective manual chapters.
d334 1
a334 1
<dt><strong>QUESTION </strong></dt> 
d337 1
d347 1
d351 2
a352 2
<dt><strong>QUESTION </strong> </dt>
<dd>How to Determine the resolution of a reconstruction.
d382 1
a383 1

d386 1
a386 1
<dt><strong>QUESTION </strong> </dt>
d388 1
a388 1
    How do I correct one to match the other?  
d399 1
a399 1

d403 1
a403 1
<dt><strong>QUESTION </strong> </dt>
d426 1
a426 1
<dt><strong>QUESTION </strong> </dt> 
d460 2
a461 2
<dt><strong>QUESTION </strong></dt> 
<dd> Is SPIDER Y2K (year 2000) compliant?
d470 1
d474 1
a474 1
<dt><strong>QUESTION </strong> </dt>
d499 1
a499 1
<dt><strong>QUESTION </strong></dt> 
d531 1
a531 1
<dt><strong>QUESTION </strong> </dt>
d550 1
a550 1
<a name="contrast"> <dt><strong>QUESTION </strong> </dt> 
d576 1
d579 1
a579 1
<a name="ccp4"> <dt><strong>QUESTION </strong> </dt> 
d593 1
a593 1
<a name="afm"> <dt><strong>QUESTION </strong> </dt> 
d596 1
a596 1
analysis of Atomic force microscopy (AFM) images?
a602 2


d607 1
a607 1
<a name="afm1"> <dt><strong>QUESTION </strong> </dt> 
d636 1
a636 1
<a name="definitions"> <dt><strong>QUESTION </strong> </dt>
d657 1
a657 1
<a name="align"> <dt><strong>QUESTION </strong> </dt>
d676 1
a676 1
<a name="normalized"> <dt><strong>QUESTION </strong> </dt> 
d699 1
a699 1
<a name="visual"> <dt><strong>QUESTION </strong> </dt> 
d717 1
a717 1
<a name="visualpc"> <dt><strong>QUESTION </strong> </dt> 
d732 1
a732 1
</P>
d756 1
a756 1
Updated:  17 Sept. 2001  &nbsp;&nbsp;&nbsp; 
@


1.34
log
@*** empty log message ***
@
text
@a79 1
<li>Does alignment with 'AP MQ' or 'AP MD' <a href="#align">work with negative pixel values?</a></li>
d81 4
d86 3
d647 24
d729 1
a729 1
Updated:  5 Sept. 2001  &nbsp;&nbsp;&nbsp; 
@


1.33
log
@alignment
@
text
@d680 1
a680 2
just the
Xserver's visual to pseudocolor without changing the screen
d699 1
a699 1
Updated:  2 May 2001  &nbsp;&nbsp;&nbsp; 
@


1.32
log
@web visual on NT
@
text
@d80 3
d624 18
d700 1
a700 1
Updated:  30 March 2001  &nbsp;&nbsp;&nbsp; 
@


1.31
log
@*** empty log message ***
@
text
@d1 4
a4 4
<HTML>
<HEAD>
<TITLE>FAQ : SPIDER</TITLE>
</HEAD>
d6 1
a6 1
<BODY>
d8 1
a8 1
<H1 ALIGN="CENTER">FAQ : SPIDER</H1>
d10 2
a11 2
<HR><P>
<H3 ALIGN="CENTER">Contents</H3>
d13 1
a13 1
<UL><BIG>
d15 2
a16 2
<LI><A HREF="./fftw.html">Howto</A>
use FFTW (Fastest Fourier Transform in the West) with SPIDER?</LI>
d18 2
a19 2
<LI><A HREF="#color">Howto</A>
set color of the menu text and background in Web?</LI>
d21 2
a22 2
<LI><A HREF="#processors">Howto</A>
set the number of processors SPIDER uses on SGI machines? </LI>
d24 2
a25 2
<LI><A HREF="#GATAN">Howto</A>
import images from GATAN CCD camera into SPIDER? </LI>
d27 2
a28 2
<LI><A HREF="#pick">Howto</A>
pick particles in SPIDER/WEB?</LI>
d30 2
a31 2
<LI><A HREF="#import">Howto</A>
import TIFF images into SPIDER? </LI>
d33 2
a34 2
<LI><A HREF="#use">Howto</A>
use a reference to align my 2-D images?</LI>
d36 2
a37 2
<LI><A HREF="#compare">Howto</A>
compare a simple 3-D model for my molecule with my SPIDER model?</LI>
d39 2
a40 2
<LI><A HREF="#determine">Howto</A>
determine the resolution of a reconstruction?</LI>
d42 2
a43 2
<LI><A HREF="#correct">Howto</A>
correct averaged images that are at two different defoci?</LI>
d45 2
a46 2
<LI><A HREF="#overcome">Howto</A>
overcome *** THIS IMAGE FROM STACK NO LONGER IN USE error?</LI>
d48 1
a48 1
<LI><A HREF="#rt3d">Why</A> doesn't 'RT 3D' rotate boundary areas?</LI>
d50 2
a51 2
<LI><A HREF="#rt3da">Why does </A> 'RT SQ' produce an "artefact" in 
slices for some angles.</LI>
d53 1
a53 1
<LI>Is SPIDER <A HREF="#y2k">Y2K </A>compliant?</LI>
d55 2
a56 2
<LI><A HREF="#x">Howto</A> 
use WEB to represent surfaces from crystallographic maps?</LI>
d58 2
a59 2
<LI><A HREF="#surface">Howto</A>
create surface models of SPIDER volumes?</LI>
d61 2
a62 2
<LI><A HREF="#shadow">Howto</A>
improve shadowed images?</LI>
d64 2
a65 2
<LI>Is there a problem with <A HREF="#contrast"> differential contrast
</A> of DNA and protein in SPIDER reconstructions?</LI>
d67 2
a68 2
<LI>Howto convert <A HREF="#ccp4"> convert CCP4
</A> files to SPIDER format?</LI>
d70 2
a71 2
<LI>Has SPIDER been used for the analysis of 
<A HREF="#afm">Atomic force microscopy (AFM)</A>  images?</LI>
d73 2
a74 2
<LI>Is</A> SPIDER useful in image averaging 
and <A HREF="#afm1">3-D reconstruction for AFM?</A>  </LI>
d76 3
a78 3
<LI>What are definitions of 
<A HREF="#definitions"> astigmatism and azimuth</A>  
in the 'TF' operation?</LI>
d80 1
a80 1
<LI> Howto <A HREF="#visual">set X window visual for Web on Dec Unix?</A></LI>
d82 1
a82 1
<LI> Howto <A HREF="#visualpc">set X window visual for Web on NT?</A></LI>
d84 3
a86 3
</UL></BIG>
<HR>
<DL>
d88 3
a90 3
<A NAME="overcome">
<DT><STRONG>QUESTION </STRONG></DT>
<DD>In one release of SPIDER, I sometimes get the following 
d92 2
a93 2
image file:                                            <BR>
         *** THIS IMAGE FROM STACK NO LONGER IN USE    <BR>
d96 2
a97 2
<DT>ANSWER </DT>
<DD>  The file has some wrong header values which make SPIDER
d101 1
a101 1
<A HREF="./man/st.html">ST</A> operation to fix the file:<BR>
d110 1
a110 1
<P>
d113 2
a114 2
<P>
</DD>
d116 3
a118 3
<A NAME="color">
<DT><STRONG>QUESTION </STRONG></DT>
<DD>We have a problem with the color display of menu text in WEB,  because
d125 4
a128 4
<DT>ANSWER</DT> 
<DD>  Web accepts standard Xt <A HREF="../../web/docs/webopt.html">
   Command line Arguments</A> Arguments and uses the
   <A HREF="../../web/docs/webopt.html#resouces">Xt resource file </A>
d132 1
a132 1
   various widgets in Web.  I suggest that you experiment with: <P>
d157 1
a157 1
</PRE><P>
d159 3
a161 3
<A NAME="processors">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>How do I set the number of processors SPIDER uses on a multiprocessor SGI machine? 
d163 2
a164 2
<DT>ANSWER</DT> 
<DD> Number of processors is set at (or during) run.  Environment variables
d167 1
a167 1
<A HREF="./man/md.html">MD</A> operation called:. 
d170 7
a176 7
</DD>
<P>
<P>

<A NAME="GATAN">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>How to import images from GATAN CCD camera into SPIDER? 
d178 2
a179 2
<DT>ANSWER </DT>
<DD> 
d198 3
a200 3
<A NAME="pick">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>How to pick particles in SPIDER/WEB
d202 2
a203 2
<DT>ANSWER</DT> 
<DD> 
d247 1
a247 1
procedure program on the screen) <P>
d250 1
a250 1
exist and they will contain the selected windows.<P>
d252 3
a254 3
<A NAME="import">
<DT><STRONG>QUESTION </STRONG> 
<DD>How to import TIFF images into SPIDER? 
d256 2
a257 2
<DT>ANSWER </DT>
<DD>
d261 1
a261 1
<A HREF="./man/cpfromraw.html">CP FROM RAW</A> operation. 
d274 4
a277 4
<P>
<A NAME="use">
<DT><STRONG>QUESTION </STRONG></DT> 
<DD>How do I use a reference to align my 2-D images?
d279 2
a280 2
<DT>ANSWER </DT>
<DD>
d287 2
a288 2
<A HREF="./man/apmq.html">AP MQ</A> and
<A HREF="./man/apmr.html">AP MR</A>. 
d298 4
a301 4
<P>
<A NAME="compare">
<DT><STRONG>QUESTION </STRONG></DT> 
<DD>I have a simple 3-D model for my molecule.  How can I compare 
d304 2
a305 2
<DT>ANSWER</DT> 
<DD>
d308 1
a308 1
<A HREF="./man/apmd.html">AP MD</A>. 
d313 4
a316 4
<P>
<A NAME="determine">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>How to Determine the resolution of a reconstruction.
d318 2
a319 2
<DT>ANSWER</DT>
<DD>
d321 1
a321 1
<A HREF="./man/asr.html">AS R</A>
d323 9
a331 9
odd- and even-numbered images. (sample procedure file:) <BR>
<A HREF="./man/asr.html">AS R</A> <BR>
data/my_images****<BR>
1-2200            <BR>
O                 <BR>
aveodd001         <BR>
varodd001         <BR>
aveven001         <BR>
vaeven001         <BR>
d335 1
a335 1
ring correlation measures.<P>
d339 7
a345 7
resolution (sample procedure file:)     <BR>
<A HREF="./man/rfsn.html">RF SN</A> <BR>
data/my_images****                  <BR>
select      ; selection document file, see the manual file    <BR>
mask   ;  mask image fine defining region of interest         <BR>
0.5              <BR>
ssnr_doc         <BR>
d348 4
a351 4
<P>
<A NAME="correct">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>I have two averaged images that are at two different defoci.
d354 2
a355 2
<DT>ANSWER</DT> 
<DD>
d359 1
a359 1
<A HREF="./man/tfctf.html">TF CTF</A> 
d365 5
a369 5
<P>
<A NAME="rt3d">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD> When the 
<A HREF="./man/rt3d.html">RT 3D</A> 
d371 1
a371 1
(phi, theta, psi), why isn't the last Z-slice rotated?</DD>
d374 2
a375 2
<DT>ANSWER </DT>
<DD>
d384 1
a384 1
change.<BR>
d387 1
a387 1
same angle around Z axis.</DD>
d389 2
a390 2
<P> <A NAME="rt3da"> 
<DT><STRONG>QUESTION </STRONG> </DT> 
d392 2
a393 2
<DD>Why does <A HREF="./man/rtsq.html">RT SQ</A> 
produce an "artefact" in slices for some angles.</DD>
d395 2
a396 2
<DT>ANSWER </DT> 
<DD> The RT SQ command assumes that
d405 1
a405 1
according to the rule described (-0.41*N,0) - close to the center).<P>
d411 1
a411 1
free to decide what should be put there. <P>
d414 2
a415 2
convention was used.   <A HREF="./man/rt3d.html">RT 3D</A>, for example, leaves corners intact and
will work better for your object.  <A HREF="./man/rtb.html">RT B</A>
d418 2
a419 2
only "RT SQ" uses quadratic interpolation.<P>
</DD>
d422 4
a425 4
<P>
<A NAME="y2k">
<DT><STRONG>QUESTION </STRONG></DT> 
<DD> Is SPIDER Y2K (year 2000) compliant?
d427 2
a428 2
<DT>ANSWER  <DD> Prior to release 6.02 SPIDER image files contained
 a creation date in the <A HREF="image_doc.html">header</A> that
d435 4
a438 4
<P>
<A NAME="x">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>
d444 1
a444 1
'crystallographer-friendly' formats such as CCP4 and XPLOR.</DD>
d446 2
a447 2
<DT>ANSWER</DT>
<DD> Yes, but the program doesn't allow you to do interactive
d457 2
a458 2
the microscope, and compare it with what we see as extra density.<BR>
Yes, both CCP4 and XPLOR data can be imported.</DD>
d460 5
a464 5
<P>
<A NAME="surface">
<DT><STRONG>QUESTION </STRONG></DT> 
<DD>
How can I create a surface model from a SPIDER volume.</DD>
d466 2
a467 2
<DT>ANSWER</DT>
<DD>
d470 1
a470 1
<A HREF="../../web/docs/web.html#OPERATION">Web-Surface</A> 
d472 1
a472 1
a particular threshold level within the volume. <P>
d475 1
a475 1
<A HREF="http://www.nag.com">NAG's Iris Explorer</A> 
d481 1
a481 1
from NAG. <P>
d485 2
a486 2
<A HREF="./man/psz.html">PS Z</A> and
<A HREF="./man/psz.html">CP TO SGI</A> 
d488 1
a488 1
<A HREF=" http://www-ncmir.ucsd.edu/index.html#SP ">SYNU</A>  
d490 1
a490 1
</DD>
d492 4
a495 4
<P>
<A NAME="shadow">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>
d498 1
a498 1
to improve the data gained from these images?.</DD>
d500 2
a501 2
<DT>ANSWER</DT>
 <DD>
d508 1
a508 1
implemented in SPIDER, but it could be added.<P>
d511 3
a513 3
filtration.</DD>
<P> 
<A NAME="contrast"> <DT><STRONG>QUESTION </STRONG> </DT> 
d515 1
a515 1
<DD> We have come across a curious phenomenon in imaging nucleosomes
d520 1
a520 1
correction has little effect on the contrast. <P>
d524 1
a524 1
<A HREF="./man/cpfrompdb.html">'CP from PDB'</A> 
d528 1
a528 1
observed.</DD>
d530 2
a531 2
<DT>ANSWER</DT>
<DD> Currently SPIDER uses only the phase contrast component,
d540 2
a541 2
<P> 
<A NAME="ccp4"> <DT><STRONG>QUESTION </STRONG> </DT> 
d543 1
a543 1
<DD> How to convert CCP4 files to SPIDER format?</DD>
d545 2
a546 2
<DT>ANSWER</DT>
<DD>  
d549 1
a549 1
is ASCII), and then use <A HREF="./man/cpfromxp.html">COPY FROM XP</A> 
d551 1
a551 1
</DD>
d554 2
a555 2
<P> 
<A NAME="afm"> <DT><STRONG>QUESTION </STRONG> </DT> 
d557 1
a557 1
<DD> Has SPIDER been used for the 
d560 4
a563 4
<DT>ANSWER</DT>
<DD> The group of Z. Shao (zs9q@@virginia.edu), Univ. Virginia
used SPIDER to average their AFM data. <BR>
See Publication in PNAS vol 96, 2001-2006.<BR>
d567 1
a567 1
</DD>
d570 2
a571 2
<P> 
<A NAME="afm1"> <DT><STRONG>QUESTION </STRONG> </DT> 
d573 1
a573 1
<DD>  Is SPIDER useful in image averaging and 3-D reconstruction  
d577 1
a577 1
reconstruct the imaged molecules?</DD> 
d579 1
a579 1
<DT>ANSWER</DT> <DD> There are operations in SPIDER that you can use
d597 1
a597 1
</DD>
d599 2
a600 2
<P> 
<A NAME="definitions"> <DT><STRONG>QUESTION </STRONG> </DT>
d602 1
a602 1
<DD> I'm looking to make astigmatic CTF functions, and am confused 
d610 1
a610 1
the astigmatism has no effect."<BR>
d612 1
a612 1
in the <A HREF="./man/tf.html">TF</A> operation?. </DD>
d614 1
a614 1
<DT>ANSWER</DT> <DD>In the SPIDER operation, the zero azimuth points
d618 1
a618 1
mean defocus.  </DD>
d620 2
a621 2
<P> 
<A NAME="visual"> <DT><STRONG>QUESTION </STRONG> </DT> 
d623 1
a623 1
<DD> Howto set Xwindow visual for Web on Dec Unix?</DD>
d625 10
a634 10
<DT>ANSWER</DT>
<DD>  
  -login as root                                <BR>
  -edit /usr/dt/config/Xservers                 <BR>
  -The last line is:                            <BR>
   :0  Local local@@console /usr/bin/X11/X :0    <BR>
   change it to         <BR>
   :0   Local local@@console /usr/bin/X11/X :0 -vclass0 PseudoColor -terminate  <BR>                           <BR>
   (all in a single line!!)            <BR>
  -logout and login as yourself        <BR>
d636 1
a636 1
</DD>
d638 2
a639 2
<P> 
<A NAME="visualpc"> <DT><STRONG>QUESTION </STRONG> </DT> 
d641 1
a641 1
<DD> Howto set X window visual for Web on NT?</DD>
d643 2
a644 2
<DT>ANSWER</DT>
<DD>  
d646 1
a646 1
Server to 8 bit Psuedo Color as follows:<BR>
d649 25
a673 5
<UL>
<LI> click on  <I>settings</I> </LI>
<LI> click on <I>color </I> </LI>
<LI> set <I>Default visual type</I> to  <I>PseudoColrEmulation</I>.</LI>
</UL>
d675 1
a675 1
</DD>
d677 1
a677 3
</DL>

<HR><SMALL>
d679 1
a679 1
Updated:  8 Feb 2001  &nbsp;&nbsp;&nbsp; 
d681 1
a681 1
</SMALL>
d683 2
a684 2
</BODY>
</HTML>
@


1.30
log
@*** empty log message ***
@
text
@d80 4
d627 4
a630 4
  -login as root                        <BR>
  -edit /usr/dt/config/Xservers        <BR>
  -The last line is:        <BR>
   :0  Local local@@console /usr/bin/X11/X :0        <BR>
d638 17
a654 1
<P>
d661 1
a661 1
Updated:  1 November 2000  &nbsp;&nbsp;&nbsp; 
@


1.29
log
@*** empty log message ***
@
text
@a75 3
<LI>Is</A> SPIDER useful in image averaging 
and <A HREF="#afm1">3-D reconstruction for AFM?</A>  </LI>

@


1.28
log
@cpfromxp
@
text
@d76 2
a77 2
<LI>Howto set <A HREF="#visual"> visual 
</A> for Web on Dec Unix?</LI>
d79 4
d576 1
a576 1
reconstruct the imaged molecules? 
d599 21
d644 1
a644 1
Updated:  30 October 2000  &nbsp;&nbsp;&nbsp; 
@


1.27
log
@afm
@
text
@d439 1
a439 1
'crystallographer-friendly' formats such as CCP4 and xplor.</DD>
d453 1
a453 1
Yes, both CCP4 and xplor data can be imported.</DD>
d538 1
a538 1
<DD> Howto convert convert CCP4 files to SPIDER format?</DD>
d543 3
a545 5
We have  used MAPMAN to convert CCP4 format to X-PLOR file (which
is ASCII), and then wrote a short program (available on request from 
<A HREF= "mailto:spider@@wadsworth.org">spider@@wadsworth.org</A>) to
convert it to SPIDER file.  If there is demand we can add a 
conversion program to SPIDER.
d619 1
a619 1
Updated:  14 September 2000  &nbsp;&nbsp;&nbsp; 
@


1.26
log
@batch remvoed
@
text
@d16 1
a16 1
use FFTW (Fastest Fourier Transform in the West) with SPIDER?
d19 1
a19 1
set color of the menu text and background in Web?
d22 1
a22 1
set the number of processors SPIDER uses on SGI machines? 
d25 1
a25 1
import images from GATAN CCD camera into SPIDER? 
d28 1
a28 1
pick particles in SPIDER/WEB?
d31 1
a31 1
import TIFF images into SPIDER? 
d34 1
a34 1
use a reference to align my 2-D images?
d37 1
a37 1
compare a simple 3-D model for my molecule with my SPIDER model?
d40 1
a40 1
determine the resolution of a reconstruction?
d43 1
a43 1
correct averaged images that are at two different defoci?
d46 1
a46 1
overcome *** THIS IMAGE FROM STACK NO LONGER IN USE error?
d48 1
a48 1
<LI><A HREF="#rt3d">Why</A> doesn't 'RT 3D' rotate boundary areas?
d51 1
a51 1
slices for some angles.
d53 1
a53 1
<LI>Is SPIDER <A HREF="#y2k">Y2K </A>compliant?
d56 1
a56 1
use WEB to represent surfaces from crystallographic maps?
d59 1
a59 1
create surface models of SPIDER volumes?
d62 1
a62 1
improve shadowed images?
d65 1
a65 1
</A> of DNA and protein in SPIDER reconstructions?
d68 1
a68 1
</A> files to SPIDER format?
d71 1
a71 1
<A HREF="#afm">Atomic force microscopy (AFM)</A>  images?
d73 3
d77 1
a77 1
</A> for Web on Dec Unix?
d562 32
d621 1
a621 1
Updated:  6 September 2000  &nbsp;&nbsp;&nbsp; 
@


1.25
log
@removed some VAX stuff
@
text
@d104 1
a104 1
mode, not in batch mode
d187 1
a187 1
en              ; (end of batch) 
d213 1
a213 1
Now create a SPIDER batch file that will read the coordinates of the
d220 1
a220 1
; the name and purpose of this batch file)  
d232 1
a232 1
EN                ; (end of batch)
d236 1
a236 1
batch file by entering "@@B01" at the <B>"OPERATION:"</B> prompt.
d239 1
a239 1
batch program on the screen) <P>
d241 1
a241 1
After the end of the batch, the files SEL001.DAT through SEL150.DAT will
d286 1
a286 1
Both commands are very simple and they do not require any batch programs.
d288 1
a288 1
batch programs included in the respective manual chapters.
d315 1
a315 1
odd- and even-numbered images. (sample batch file:) <BR>
d331 1
a331 1
resolution (sample batch file:)     <BR>
d586 1
a586 1
Updated:  22 August 2000  &nbsp;&nbsp;&nbsp; 
@


1.24
log
@*** empty log message ***
@
text
@a44 3
<LI><A HREF="#get">Howto</A>
get a 24 bit VAX/VMS machine to use an 8 bit visual?

d121 1
a121 2
   (typically the <I>.Xdefaults</I> file in your home directory, or in 
   <I>WEB.DAT</I> on VAX/VMS).
a149 21

<A NAME="get">
<A NAME="GATAN">
<DT><STRONG>QUESTION </STRONG></DT> 
<DD>How to get a 24 bit VAX/VMS machine to use a 8 bit visual?

<DT>ANSWER </DT>
<DD>  The 8-bit, 24-bit 'switching' is described in
DECW$PRIVATE_SERVER_SETUP.COM -- where the default for the pixels is set. 
Apparently it's preferable to set it in the C environmental file X.H ??<BR>

You can test for values of decw$server_default_visual_class, and specify
values for the different heads: (put following in above file) <BR> <I>
if decw$server_default_visual_class="3,4,0", <BR> 
head 1=3=8-bit pseudocolor <BR> 
head 2=4=24-bit truecolor <BR> 
head 3=0=staticgrey <BR> </I>
One user had success by just adding: <BR> 
<I>decw$server_default_visual_class="3,4,0", <BR> </I>
to: <I>SYS$COMMON:[000000.SYSMGR]DECW$PRIVATE_SERVER_SETUP.COM</I>
</DD><P>
@


1.23
log
@added fftw.
@
text
@d15 1
a15 1
<LI><A HREF="#./fftw.html">Howto</A>
d611 1
a611 1
Updated:  14 March 2000  &nbsp;&nbsp;&nbsp; 
@


1.22
log
@added afm question
@
text
@d15 3
d611 1
a611 1
Updated:  18 February 2000  &nbsp;&nbsp;&nbsp; 
@


1.21
log
@do i=  ---> do x10
@
text
@d70 3
d569 14
d608 1
a608 1
Updated:  25 August 1999  &nbsp;&nbsp;&nbsp; 
@


1.20
log
@added visual setting
@
text
@d194 13
a206 13
x10=1         ; (set counter) 
do lb1 i=1,7  ; (DO-LOOP over the number of micrographs) 
cp from raw   ; (Copy command) 
(16)          ; (how many bits) 
mic/micx10    ; (input file name, indexed by counter) 
(1024 1024)   ; (input file dimensions) 
(8)           ; (skip header bytes) 
(1)           ; (most significant byte)                                  
n             ; (do not fold negatives)               
mic/spix10    ; (output file name, indexed by conter) 
x10=x10+1     ; (increment counter) 
lb1           ; (end of DO-LOOP)
en            ; (end of batch) 
d240 1
a240 1
DO LB1 I=1,150    ; (run do-loop up to label LB1 from 1 to 150)
d247 1
a247 1
SEL00I            ; (indexed name of output files)
@


1.19
log
@aded ccp4
@
text
@d70 3
d564 21
@


1.18
log
@added new question on rt sq
@
text
@d67 3
d548 13
d567 1
a567 1
Updated:  7 July 1999  &nbsp;&nbsp;&nbsp; 
@


1.17
log
@added differential contrast question
@
text
@d50 3
d378 1
d392 34
a425 1
same angle around Z axis.
@


1.16
log
@rf sn
@
text
@d61 3
d480 29
d514 1
a514 1
Updated:  27 April 1999  &nbsp;&nbsp;&nbsp; 
@


1.15
log
@y2k update
@
text
@d339 1
a339 1
<A HREF="./man/rosn.html">RO SN</A> <BR>
d482 1
a482 1
Updated:  26 March 1999  &nbsp;&nbsp;&nbsp; 
@


1.14
log
@removed philosophy
@
text
@d66 1
a66 1
<DT><STRONG>QUESTION </STRONG>
d73 1
a73 1
<DT>ANSWER 
d94 1
a94 1
<DT><STRONG>QUESTION </STRONG>
d102 1
a102 1
<DT>ANSWER 
d139 1
a139 1
<DT><STRONG>QUESTION </STRONG> 
d142 1
a142 1
<DT>ANSWER 
d159 1
a159 1
<DT><STRONG>QUESTION </STRONG> 
d162 1
a162 1
<DT>ANSWER 
d174 1
a174 1
<DT><STRONG>QUESTION </STRONG> 
d177 1
a177 1
<DT>ANSWER 
d198 1
a198 1
<DT><STRONG>QUESTION </STRONG> 
d201 1
a201 1
<DT>ANSWER 
d255 1
a255 1
<DT>ANSWER 
d275 1
a275 1
<DT><STRONG>QUESTION </STRONG> 
d278 1
a278 1
<DT>ANSWER 
d299 1
a299 1
<DT><STRONG>QUESTION </STRONG> 
d303 1
a303 1
<DT>ANSWER 
d314 1
a314 1
<DT><STRONG>QUESTION </STRONG> 
d317 1
a317 1
<DT>ANSWER
d349 1
a349 1
<DT><STRONG>QUESTION </STRONG> 
d353 1
a353 1
<DT>ANSWER 
d366 1
a366 1
<DT><STRONG>QUESTION </STRONG> 
d372 1
a372 1
<DT>ANSWER 
d389 2
a390 2
<DT><STRONG>QUESTION </STRONG> 
<DD> Is SPIDER Y2K (year 2000) safe?
d392 3
a394 3
<DT>ANSWER  <DD> SPIDER image files contain a creation date in the
<A HREF="image_doc.html">header</A> 
that has only 2 digits e.g. 23-Jul-98. However this information
d396 3
a398 3
is little confusion from the two digit year.  At some future date we 
may fix this for cosmetic reasons.  There are no other Y2K problems 
intrinsic in SPIDER or WEB.
d402 1
a402 1
<DT><STRONG>QUESTION </STRONG> 
d405 1
a405 1
model into a low res EM map. It appears from your web site that 
d411 4
a414 4
<DT>ANSWER<DD> 
Yes, but the program doesn't allow you to do interactive
fits.  You'd be better off using the package "O", which we use all the time.
What we do is make preliminary displays using WEB, then prepare 
d417 6
a422 6
display the map in "O" along with structures directly imported from "pdb".
We also routinely import "pdb" structures into SPIDER and convert them
to densities, then low-pass filter (and, if applicable, apply "CTF") them,
and go the same route as for the cryo-volume into "O", if we want to
simulate the appearance of the structure as seen in the microscope,
and compare it with what we see as extra density.<BR>
d427 1
a427 1
<DT><STRONG>QUESTION </STRONG> 
d431 1
a431 1
<DT>ANSWER<DD>
d466 1
a466 1
<DD>
d482 1
a482 1
Updated:  30 March 1999  &nbsp;&nbsp;&nbsp; 
@


1.13
log
@particles?.jpg added.
@
text
@a60 3
<LI><A HREF="#single">What is </A>
single-particle reconstruction? 

a477 60
<P>
<A NAME="single">
<DT><STRONG>QUESTION </STRONG> </DT>
<DD>
What is single-particle reconstruction?</P>
</DD>

<DT>ANSWER</DT>
<DD>
<P>Biological macromolecules are highly susceptable to radiation damage
when exposed to the electron beam.  Therefore, imaging macromolecules
using the electron microscope entails some kind of averaging over
molecule images that have been obtained with an extremely low dose
("low-dose imaging").  For such an average to be meaningful, the
molecules must be in precisely the same conformation and binding
state. <P>

<P>Traditionally, to obtain multiple images of an entire ensemble of
molecules, one would use a   
<A HREF="./particles1.jpg">crystal</A>.
In a crystal, all molecules are in
the same conformation and binding state (as a result of high
purification that is normally a prerequisite to crystallization, and of
the highly homogeneous microenvironment of each molecule).  They are
also, convenient for averaging, in the same orientation and ordered
position.  X-ray crystallography makes use of the high order, since the
ordered arrangement enables the collection of diffraction patterns.
In electron microscopy, the strong interaction of electrons with matter
implies that the crystal should be no thicker than a single layer
("two-dimensional crystal"}.  </P>

<P>Advantages of using two-D crystals: (i) high homogeneity; (ii)
well-developed theory of reconstruction; (iii) atomic resolution
demonstrated for a dozen of molecules.</P>

<P>Disadvantages: (i) only a single conformation or binding state, out of
several potentially important ones, is realized as a result of th e
crystal constraints; (ii) computation becomes difficult in the presence
of disorder; (iii) slow progress of many projects because of the
deifficulty of growing crystals that are sufficiently well ordered.</P>

<P><A HREF="./particles2.jpg">Single-particle reconstruction</A>
 is the term used for the
reconstruction of a macromolecule from images of a specimen in which
the molecule exists in many realizations in the form of single,
isolated particles, i.e., without contact with neighboring molecules.
Thus, without the need for crystallization, there is in principle no
restriction on the kinds of macromolecules that can be reconstructed.
</P>

<P>Advantages of using single-particle reconstruction: (i) all solution
states can be captured in principle; (ii ) disorder is no longer an
issue, since each molecule is treated separately; (iii) no need for
crystallization.  Disadvantages: (i) coexistence of several
conformational states poses difficulties; (ii) theory, especially
related to the separation of different states, is far from complete;
(iii) large computational expense.</P>

</DD>

d482 1
a482 1
Updated:  16 March 1999  &nbsp;&nbsp;&nbsp; 
@


1.12
log
@added what is single....
@
text
@d490 1
a490 1
Biological macromolecules are highly susceptable to radiation damage
d498 4
a501 2
Traditionally, to obtain multiple images of an entire ensemble of
molecules, one would use a crystal.  In a crystal, all molecules are in
d507 1
a507 1
ordered arrangement enables th e collection of diffraction patterns.
d511 6
a516 4
Advantages of using two-D crystals: (i)
high homogeneity; (ii) well-developed theory of reconstruction; (iii)
atomic resolution demonstrated for a dozen of molecules.</P>
Disadvantages: (i) only a single conformation or binding state, out of
d522 18
a539 14
Single-particle reconstruction is the term used for the reconstruction
of a macromolecule from images of a specimen in which the molecule
exists in many realizations in the form of single, isolated particles,
i.e., without contact with neighboring molecules.  Thus, without the
need for crystallization, there is in principle no restriction on the
kinds of macromolecules that can be reconstructed.  </P> 
Advantages of
using single-particle reconstruction: (i) all solution states can be
captured in principle; (ii ) disorder is no longer an issue, since each
molecule is treated separately; (iii) no need for crystallization.
Disadvantages: (i) coexistence of several conformational states poses
difficulties; (ii) theory, especially related to the separation of
different states, is far from complete; (iii) large computational
expense.</DD>
d545 1
a545 1
Updated:  10 March 1999  &nbsp;&nbsp;&nbsp; 
@


1.11
log
@added shadow question
@
text
@d61 2
d481 6
d488 45
d534 1
d537 1
a537 1
Updated:  3 March 1999  &nbsp;&nbsp;&nbsp; 
@


1.10
log
@added surfacing
@
text
@d58 2
d61 1
d371 1
a371 1
(phi, theta, psi), why isn't the last Z-slice rotated?
d458 22
d483 1
a483 1
Updated:  16 September 1998  &nbsp;&nbsp;&nbsp; 
@


1.9
log
@added web map question.
@
text
@d52 2
a53 2
<LI>Is WEB capable of 
<A HREF="#x">representing surfaces from crystallographic maps </A>?
d55 2
d58 1
d75 2
a76 1
You can use the "ST" operation to fix the file:<BR>
d162 4
a165 2
MP_SET-NUMTHREADS AND MP-SUGNUMTHD control number.  SPIDER has new
"MD" "SET MP" suboption to allow control of number of processors during the
d255 4
a258 2
Many black and white TIFF files consist of 8 or 16 bit raw data preceeded by a 1024 byte
header.  They can often be converted to SPIDER format using the "CP FROM RAW"
d283 4
a286 1
The commands are called "AP MQ" and "AP MR".  The first one should perform
d304 3
a306 1
on command "AP MD".  The corresponding manual chapter contains an
d314 1
d317 3
a319 1
Using operation "AS R" one can obtain averages corresponding to 
d321 1
a321 1
AS R              <BR>
d336 3
a338 3
resolution (sample batch file:) <BR>
RO SN                           <BR>
data/my_images****              <BR>
d356 1
a356 1
"TF CTF"
d365 4
a368 2
<DD> When the 'RT 3D' operation rotates a volume by 45,0,0 degrees 
    (phi, theta, psi), why isn't the last Z-slice rotated?
d391 2
a392 1
header that has only 2 digits e.g. 23-Jul-98. However this information
d417 1
a417 1
densities, then low-pass filter (and, if applicable, apply "CTF") them,
d423 32
a455 1

d458 1
a458 1
Updated:  21 August 1998  &nbsp;&nbsp;&nbsp; 
@


1.8
log
@added y2k note
@
text
@d52 4
d379 25
d408 1
a408 1
Updated:  23 July 1998  &nbsp;&nbsp;&nbsp; 
@


1.7
log
@*** empty log message ***
@
text
@d50 2
d363 12
d379 1
a379 1
Updated:  10 June 1998  &nbsp;&nbsp;&nbsp; 
@


1.6
log
@added 3D RT note
@
text
@d25 1
a25 1
pick particles in SPIDER/WEB
d37 1
a37 1
determine the resolution of a reconstruction.
d43 1
a43 1
get a 24 bit VAX/VMS machine to use an 8 bit visual
d46 3
a48 1
overcome *** THIS IMAGE FROM STACK NO LONGER IN USE error
@


1.5
log
@order wron on ST op
@
text
@d338 5
d344 15
d363 1
a363 1
Updated:  22 July 1997  &nbsp;&nbsp;&nbsp; 
@


1.4
log
@*** empty log message ***
@
text
@d67 1
a68 1
<TR><TD>ST       </TD><TD>; set header values operation                            </TD></TR>
@


1.3
log
@added batch mode for STACK errror note
@
text
@d52 1
a52 1
<A NAME="color">
d54 4
a57 3
<DD>In one release of SPIDER, I get sometimes the following 
nonsensical error on a regular image file:<BR>
         *** THIS IMAGE FROM STACK NO LONGER IN USE<BR>
d62 13
a74 9
think that it is a stack of images instead of a regular image or volume.
This will only occur with files created with certain releases of 
SPIDER.  You can use the "ST" operation to fix the file:<BR>
BAD000   ; bad input file                          <BR>
ST       ; set header values operation         <BR>
B        ; put new values into spiecified locations in the header <BR> 
24,25    ; header locations to be changed      <BR>
0,1      ; appropriate values for these header locations in images <BR>
For SPIDER releases before 06/01/97 this will only work in interactive
d76 1
d343 1
a343 1
Updated:  21 July 1997  &nbsp;&nbsp;&nbsp; 
@


1.2
log
@added
@
text
@d69 2
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
<H1 ALIGN="CENTER">FAQ : SPIDER</H1> 
d10 40
d52 21
a72 1
<DT>QUESTION 
d115 4
a118 2
<DT>QUESTION 
<DD>How to get a 24 bit VAX/VMS machine to use a 8 bit visual
d136 3
a138 2
<DT>QUESTION 
<DD>How do I set number of processors SPIDER uses on a multiprocessor SGI machine? 
d149 2
a150 1
<DT>QUESTION 
d173 2
a174 1
<DT>QUESTION 
d227 2
a228 1
<DT>QUESTION 
d232 1
d234 1
a234 1
header.  They can usually be converted to SPIDER format using the "CP FROM RAW"
d245 85
a329 1
<DD> 
a332 1

d335 1
a335 1
Updated:  18 Feb 1997  &nbsp;&nbsp;&nbsp; 
@
