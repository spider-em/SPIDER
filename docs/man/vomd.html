<head>
<title>SPIDER: VO MD (Vector Operation - angular Document file from 'AP MD' output)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>VO MD - Vector Operation - angular Document file from 'AP MD' output</h2>
<em>(10/12/12)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Convert output document file from the 'AP MD', 'AP RD', or 'AP RN'
operation to an angular document file containing three <a href="../euler.html">Eulerian angles</a>.
<b>OBSOLETE, not needed if you use 'AP SH' instead of the obsolete
'AP MD' operation</b>
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="voea.html"><strong>VO EA</strong></a></td><td> [Vector Operation - Create Doc File Containing Evenly Spaced Angles]</td></tr>
<tr><td><a href="vora.html"><strong>VO RA</strong></a></td><td> [Vector Operation - Rotate Angular doc file]</td></tr>
<tr><td><a href="apmd.html"><strong>AP MD</strong></a></td><td> [Alignment - Multi reference, rotation ||]</td></tr>
<tr><td><a href="apsh.html"><strong>AP SH</strong></a></td><td> [Alignment - multi-reference, exhaustive rotation & shift ||*]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: VO MD<br />
<p>
<dd>.ANGULAR DOCUMENT FILE NAME: REFANG<br />
[Enter the name of the reference angles document file (created
by 'VO EA') used to calculate reference projections required
for 'AP MD', etc.]
<p>
.OUTPUT FROM AP MD/RD/RN DOCUMENT: APMD101<br />
[Enter the name of the document file produced by the 'AP MD'
command. This document file should contain 6 columns:
<p>
<p>
1.Number of the most similar reference projection. When this number is negative
the most similar is a mirrored projection (see appended SPIDER procedure).
When this number is zero, the line is skipped and the output angular document
file will not contain corresponding key.
</p>
<p>
<p>
2.Distance. Can be used as a similarity measure. Output from 'AP MD' document.
</p>
<p>
<p>
3. "-psi" angle. In-plane rotationangle determined.
</p>
<p>
<p>
4. Always 0.0
</p>
<p>
<p>
5. Always 0.0
</p>
<p>
6. Experimental projection number.
</p>
<p>
.DOCUMENT: OUTANGLES<br />
[Enter the name for the angular document file that will
be produced. This document file will contain three
columns with the three <a href="../euler.html">Eulerian angles</a> psi, theta, and phi.
The key numbers will correspond to experimental projection
numbers from column 6 of the 'AP MD', 'AP RD', 'AP RN'
output document file.
Thus, for image file series with gaps the keys will not be
consecutive. Moreover, for the output files from AP RD/RN
operations the entries for non-matching projections (marked
by 0 in the first column) will be omitted.
The angular document file can be subsequently used in
the 'BP RP' operation to calculate a refined 3D reconstruction.]
<p>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>In 3D space the projection with the direction (psi, theta, phi)
has its mirrored [around X-axis] counterpart in the direction: <br />
(-psi, 180-theta, phi+180). <br />
To save time, the operation 'AP MD' takes this into account, and
each data projection is compared with the reference projection and
its mirrored version at the same time. Thus, only half of the total
number of reference projections are required, namely, only those
with 0&lt;theta&lt;90. <br />
If the best match was with the mirrored reference projection,
then the number stored in the first column of the document file
is equal to the number of the corresponding mirrored reference
projection plus an offset equal to the total number of reference
projections.
<p>
<li>Implemented by P. Penczek
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/vomd.f">VOMD</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/driv1.f">DRIV1</a> 
</dl>
</body>
</html>