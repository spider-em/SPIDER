<head>
<title>SPIDER: CN N (Convolution - Normalized ||)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>CN N - Convolution - Normalized ||</h2>
<em>(09/27/06)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Computes the normalized convolution product of two
images/volumes
by using the Fourier transform relationship.
The dimensions of the pictures must correspond to each
other.
&nbsp; <a href="../exa/cnn.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="cn.html"><strong>CN</strong></a></td><td> [Convolution ||]</td></tr>
<tr><td><a href="cc.html"><strong>CC</strong></a></td><td> [Cross Correlation ||]</td></tr>
<tr><td><a href="ccn.html"><strong>CC N</strong></a></td><td> [Cross Correlation - Normalized ||]</td></tr>
<tr><td><a href="ccc.html"><strong>CC C</strong></a></td><td> [Cross Correlation Coefficient]</td></tr>
<tr><td><a href="rc.html"><strong>RC</strong></a></td><td> [Real Convolution ||]</td></tr>
<tr><td><a href="ft.html"><strong>FT</strong></a></td><td> [Fourier Transform ||]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: CN N<br />
<p>
<dd>.INPUT FILE: PIC001<br />
[Enter the name of the first picture.]
<p>
.REFERENCE FILE: REF001<br />
[Enter the name of the second picture, which is used as the
reference.]
<p>
.OUTPUT FILE: CNF001<br />
[Enter name of the file which will contain the convolution
coefficients. It can be the same as the input file.
In this case
the input file will be replaced by the convolution.]
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>The input data must be real.
<p>
<li>The convolution data are normalized.
<p>
<li>The origin of the CNF is at (NX/2 + 1, NY/2 + 1).
<p>
<li>The convolution product contains artifacts from
wrap-around overlaps implicit in the Fourier computation.
However, the convolution product is artifact-free
within <BR>
-L &lt;= K &lt;= +L <BR>
-M &lt;= I &lt;= +M <BR>
if the pictures are surrounded by frames containing
the average, where the frame width is M/2 and the
frame height is L/2.
The complete artifact-free convolution product is
obtained for the widths M=NY/2, L=NX/2. In this
case, the padded pictures are just twice as large in
each dimension as the original pictures.
<p>
<li>Note that 'RC' (Real Convolution) offers an
alternative to Fourier computation of the convolution
product. 'RC' should be used if the width of the point
spread function is small (.le. 15).
<p>
<li>If the data cannot fit into the memory, use the 'FT' and 'MU'
commands to calculate the CNF:
      <pre> 
       FT 
       input1 
       four1 
       FT 
       input2 
       four2 
       MU 
       four1 
       four2 
       FT 
       four2 
       cnf12 
</pre>
<strong>Warning</strong>: The origin of CNF12 calculated in
this way is in (1,1).
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/norm3.f">NORM3</a>, <a href="../../src/fmrs_2.f">FMRS_2</a>, <a href="../../src/fmrs_2r.f">FMRS_2R</a>, <a href="../../src/fftmcf.f">FFTMCF</a>, <a href="../../src/fmrs_1.f">FMRS_1</a>, <a href="../../src/fmrs_3.f">FMRS_3</a>, <a href="../../src/fmrs_3r.f">FMRS_3R</a>, <a href="../../src/cnrs_2.f">CNRS_2</a>, <a href="../../src/cnrs_3.f">CNRS_3</a>, <a href="../../src/cnrd_2.f">CNRD_2</a>, <a href="../../src/cnrd_3.f">CNRD_3</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/corr1.f">CORR1</a> 
</dl>
</body>
</html>