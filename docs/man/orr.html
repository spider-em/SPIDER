<head>
<title>SPIDER: OR R (ORientation Search - 2D, rotation, uses polar coords. ||)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>OR R - ORientation Search - 2D, rotation, uses polar coords. ||</h2>
<em>(1/09/13)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Determines rotational orientation between two images using
cross correlation following remapping into polar coordinates.
This is eqivalent to: 'AP REF' or 'AP SH' without the translational
search but this operation processes a single pair of images.
Optionally multiple correlation peaks corresponding to different
rotations can be found and stored in a document file.<br />
(See <a href="../align_overview.html">align_overview.html</a>
for comparison of 'AP' and 'OR' operations.)<br />
NOTE: This operation was <b>altered</b> in Jan 2013 to give results using
same conventions as other SPIDER 'AP' and 'OR' operations and to
fix a angular bug.
&nbsp; <a href="../exa/orr.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="orsh.html"><strong>OR SH</strong></a></td><td> [Orientation Search - 2D, rotation & shift, uses polar coords. ||]</td></tr>
<tr><td><a href="ormap.html"><strong>OR MAP</strong></a></td><td> [ORientation MAP - 2D, rotational cross correlation plot ||]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: OR R [ang],[peak]<br />
</dd> <dd>&lt;or&gt; <br />
OR R [peaks]
<p>
[The optional output parameters: [ang],[peak] specify
register variables to receive the rotation angle and the value of the
angles correlation peak. If multiple peaks
are requested the optional output parameter: [peaks] specifies a
register variable to receive the actual number of peaks found and
the angles and peaks are stored in a doc. file.]
<p>
.EXPERIMENTAL IMAGE: UUU001<br />
[Enter name of the image file.]
<p>
.REFERENCE IMAGE: GGG002<br />
[Enter the name of the file containing the reference
image. Dimensions must correspond to those of the experimental
image.]
<p>
.FIRST, LAST RING, &amp; RING STEP: 5, 30, 1<br />
[Only polar coordinate rings with the radii in the range 5-15 (in pixel units)
will be used for the alignment. If skip=0 or 1 then each radial ring
between 5 and 30 will be taken; for skip=2 every second, and so on.]
<p>
.FULL OR HALF CIRCLE (F/H): F<br />
[F - full ring (360 degrees) will be used; H - half ring
(180 degrees) will be used. Option 'H' is appropriate
for rotational search using images which contain autocorrelation
functions.]
<p>
.NUMBER OF PEAKS: 10<br />
[Maximum number of peaks to be found.]
<p>
</dd> <dt>If the number of peaks requested is greater than one then the actual
number of peaks found is returned in the optional register and the
following question appears:
<p>
</dd> <dd><div class="opt_inp">
<p>
.OUTPUT ANGLE DOCUMENT FILE: peaks001<br />
[Enter the name of the document file. First register column
contains rotation angles found, second column contains
corresponding peak values. The entries are sorted according
to the peak value in a descending order.]
</div>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>Implemented by: Paul Penczek
<p>
<li>Previously this operation was called 'OR 2' or 'OR 2M'.
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/ormd.f">ORMD</a>, <a href="../../src/ormd_p.f">ORMD_P</a>, <a href="../../src/setnumrings.f">SETNUMRINGS</a>, <a href="../../src/ringwe.f">RINGWE</a>, <a href="../../src/aprings.f">APRINGS</a>, <a href="../../src/normas.f">NORMAS</a>, <a href="../../src/frngs.f">FRNGS</a>, <a href="../../src/applyws.f">APPLYWS</a>, <a href="../../src/crosrng.f">CROSRNG</a>, <a href="../../src/prb1d.f">PRB1D</a>, <a href="../../src/ang_n.f">ANG_N</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/util3.f">UTIL3</a> 
</dl>
</body>
</html>