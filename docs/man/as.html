<head>
<title>SPIDER: AS (Average images - find variance)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>AS - Average images - find variance</h2>
<em>(09/25/06)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Adds 2 or more files, computing several measures of
variance (per point, total, etc.).
The sum and the variance images are stored in separate
output files. The command works for, 2D, 3D, real or complex data.
<STRONG> WARNING: See Note 3 below if you want a better variance
measure! Use of this command for variances is no longer
recommended!</STRONG>
&nbsp; <a href="../exa/as.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="asf.html"><strong>AS F</strong></a></td><td> [Average images - find statistics & '<i>'Q'</i>' factor map ||]</td></tr>
<tr><td><a href="asr.html"><strong>AS R</strong></a></td><td> [Average image/volume series, optional subset]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: AS [avgoff]<br />
</dd> <dd>[The optional register variable (named [avgooff] in this
example) receives the value of the average offset.]
<p>
.INPUT FILE TEMPLATE (EG. PIC****): PIC***<br />
[Enter prefix of images to be added.]
<p>
.FILE NUMBERS OR SELECTION DOC. FILE NAME: : 1-10,12<br />
[Enter numbers of files within a series to be added.]
<p>
.ALL, ODD-EVEN (A/O): O<br />
['A '- all images will be added,
'O' - two subaverages will be calculated: one for odd-numbered
images and one for even numbered images. For this option the
next two questions will appear twice.]
<p>
.AVERAGE FILE: AVG001<br />
[Enter name of output file receiving average.]
<p>
.VARIANCE FILE: VAR001<br />
[Enter name of output file receiving variance map.]
<p>
[Questions for average and variance files are repeated if
option 'O' was chosen.]
<p>
The following values are then printed out: <br />
<p>
Number of images <br />
Number of elements <br />
Total variance <br />
Total std. deviation <br />
Variance per point <br />
Std. deviation per point <br />
Average offset <br />
Variance of average image <br />
<p>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>The average file will be normalized so that its mean pixel
value is equal to 0. To "restore" MIN and MAX values
comparable to those of the input files, use 'AR'. For
example, if the average offset was 0.00131, you would have
((P1+0.00131)*1.), with P1 as the input average file.
This is important if you intend to contour the average
using 'FC', since negative values in the file will give a
nonsense result.
<p>
<li>If the optional register (e.g. [avgoff]) is used, 'AR' can be
used with the formula ((P1+[var])*1.). If you calculate an
average in more than one step, each average-offset is
independent. To get the correct average-offset of the
complete image, the average of the subaverage average-offsets
has to be used.
<p>
<li>This version of 'AS' subtracts the average from
each image during the calculation of global average
and variance. Thus, this operation gives
a variance estimator which is usually
far 'too optimistic' - the variance obtained is too small
and cannot be used for statistical tests. Use 'AS R'.
instead.
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/adds.f">ADDS</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/util2.f">UTIL2</a> 
</dl>
</body>
</html>