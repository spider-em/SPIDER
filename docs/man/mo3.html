<head>
<title>SPIDER: MO 3 (Create Model volume)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>MO 3 - Create Model volume</h2>
<em>(1/12/12)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Creates a 3-D model density distribution. The following options are
available: <br />
1. Blank volume <br />
2. Cylinders <br />
3. Spheres <br />
4. Gaussian spheres/ellpisoids <br />
5. Helix of spheres <br />
6. Test pattern consisting of sine waves <br />
7. Wedge of density
&nbsp; <a href="../exa/mo3.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="mo.html"><strong>MO</strong></a></td><td> [Create Model image]</td></tr>
<tr><td><a href="bl.html"><strong>BL</strong></a></td><td> [Create Blank image/volume]</td></tr>
<tr><td><a href="ma.html"><strong>MA</strong></a></td><td> [Mask - image/volume with a circular mask]</td></tr>
<tr><td><a href="pt.html"><strong>PT</strong></a></td><td> [Create Pattern or mask image]</td></tr>
<tr><td><a href="lal.html"><strong>LA L</strong></a></td><td> [Put text label inside an image]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: MO 3<br />
<p>
<dd>.OUTPUT FILE: MOD001<br />
[Enter the name for the volume file.]
<p>
.DIMENSIONS (NX, NY, NZ): 100, 100, 100<br />
[Enter volume dimensions.]
<p>
[Following pattern menu appears.] <br />
MENU: <br />
<table border="0" cellpadding="0" >
<tr><td> B </td> <td>&nbsp;&nbsp; BLANK, CONSTANT DENSITY </td> </tr>
<tr><td> C </td> <td>&nbsp;&nbsp; CYLINDERS </td> </tr>
<tr><td> G </td> <td>&nbsp;&nbsp; GAUSSIAN SPHERE/ELLIPSOID </td> </tr>
<tr><td> G1 </td> <td>&nbsp;&nbsp; 1ST ORDER GAUSSIAN SPHERE/ELLIPSOID (0...1) </td> </tr>
<tr><td> G2 </td> <td>&nbsp;&nbsp; 2ND ORDER GAUSSIAN SPHERE/ELLIPSOID (0...1) </td> </tr>
<tr><td> G3 </td> <td>&nbsp;&nbsp; 3RD ORDER GAUSSIAN SPHERE/ELLIPSOID (0...1) </td> </tr>
<tr><td> H </td> <td>&nbsp;&nbsp; HELIX OF SPHERES </td> </tr>
<tr><td> HA </td> <td>&nbsp;&nbsp; HELIX OF SPHERES, ADD DENSITITY </td> </tr>
<tr><td> NUM</td> <td>&nbsp;&nbsp; LINE NUMBERS </td> </tr>
<tr><td> R </td> <td>&nbsp;&nbsp; RANDOM DENSITY PATTERN </td> </tr>
<tr><td> S </td> <td>&nbsp;&nbsp; SINE WAVES </td> </tr>
<tr><td> T </td> <td>&nbsp;&nbsp; SINE WAVE </td> </tr>
<tr><td> SP </td> <td>&nbsp;&nbsp; SPHERES </td> </tr>
<tr><td> SPA</td> <td>&nbsp;&nbsp; SPHERES, ADD DENSITIES </td> </tr>
<tr><td> SPV</td> <td>&nbsp;&nbsp; SPHERES, VARIABLE DENSITIES </td> </tr>
<tr><td> W </td> <td>&nbsp;&nbsp; DENSITY WEDGE </td> </tr>
</table>
<p>
.OPTION (B/C/H/HA/G/G1/G2/G3/NUM/R/S/SP/SPA/SPV/T/W): SPA<br />
[Enter the desired pattern option.]
<p>
</dd> <dt>For option <b>"B" - Blank</b>.
</dd> <dd><div class="opt_inp">
Creates a blank volume of constant density.
<p>
.DENSITY: 7.0<br />
[Enter density value for the volume.]
</div>
<p>
</dd> <dt>For Option <b>"C" - Cylinder</b>
</dd> <dd><div class="opt_inp">
Creates cylinder(s) having uniform density.
<p>
.BACKGROUND DENSITY: 1<br />
[Enter density for the volume outside of the cylinder(s).]
<p>
.CHOOSE X, Y, Z (or Q TO END CYLINDER ENTRY): Y<br />
[Give axis direction of cylinder]
<p>
.RADIUS, HEIGHT: 4.5, 6.2<br />
[Give radius and height of cylinder in pixels.]
<p>
.X &amp; Y COORDINATES OF CENTER: 12., 4.3<br />
[Enter X, Y coordinates of center.]
<p>
.Z COORDINATE, DENSITY: 7.8,2<br />
[Enter Z coordinate of center, and density value
inside cylinder.]
<p>
.CHOOSE X, Y, Z (or Q TO END CYLINDER ENTRY) Y<br />
[You may specify another cylinder now or enter 'Q' to
terminate.]
</div>
<p>
</dd> <dt>For Options <b>"H/HA" - Helix</b>
</dd> <dd><div class="opt_inp">
Creates a helical arrangement of spheres running in the
Y-direction.
<p>
.DENSITY INSIDE SPHERES (or &lt;CR&gt; = 2.0):<br />
<p>
.SPHERE RADIUS, HELIX RADIUS: 4.2, 8.5<br />
[Enter the radii for spheres and helix.]
<p>
.NO. OF SPHERES, NO. OF TURNS: 12,2<br />
[Enter the total number of spheres and the total number
of turns in NY.]
</div>
<p>
</dd> <dt>For Option <b>"G" - Gaussian distribution</b>
</dd> <dd><div class="opt_inp">
Creates a 3D spherical/ellipsoidal Gaussian density distribution normalized
such that the <b>sum</b> of all the voxel densities equals 1.0.
<p>
.COORDINATES OF THE CENTER X,Y,Z (or &lt;CR&gt; FOR IMAGE CENTER): 12, 23.12, 33<br />
<p>
.RADII IN X,Y,Z ( = STD. DEV.) : 4, 2, 2<br />
[Enter the radii / standard deviations for Gaussian function.
Controls radius of mask.]
</div>
<p>
</dd> <dt>For Options <b>"G1,G2,G3" - Gaussian distribution</b>
</dd> <dd><div class="opt_inp">
Creates a spherical/elipsoidal Gaussian density distribution normalized
such that the <b>maximum</b> voxel density equals 1.0. <br />
'G2' and 'G3' are super-Gaussian masks of order 2 and 3 with
squared or cubed Gaussian falloffs and are
generally better than 'G1' for most uses.
Their densities are described in the form <br />
<img class="img_out" src="../exa/images/mo-4.jpg"> <br />
<!-- G(r) = exp(-[((x-x0)/a)2+((y-y0)/b)2+((z-z0)/c)2]n ) <br /> -->
where n is the order of Super-Gaussian, and a, b, and c are the
semi-principal axes of the ellipsoid.
<p>
.CENTER COORDINATES X,Y,Z (or &lt;CR&gt; FOR IMAGE CENTER): 12, 23.12, 33<br />
[Enter center.]
<p>
.RADII IN X,Y,Z ( = STD. DEV.) : 4, 2, 2<br />
[Enter the radii / standard deviations for Gaussian function.
Controls radius of mask.]
</div>
<p>
</dd> <dt>For Option <b>"NUM"- NUMBERS</b>
</dd> <dd><div class="opt_inp">
Creates a test volume containing numbers.
The line number in the 3D file is put into each line at a
specified position.
<p>
.POSITION IN LINE: 5<br />
[Enter the position where the line number should be
put in each line.]
<p>
.SCALING FACTOR: 3<br />
[Enter scaling factor.]
<p>
.NUMBER PIXELS IN LINE? (Y/N): Y<br />
[If answer is "Y" following two questions appear.]
<p>
.SLICE NUMBER, LINE NUMBER: 3, 4<br />
[Enter slice number and line number.]
<p>
.SCALING FACTOR: 2<br />
[Enter scaling number.]
</div>
<p>
</dd> <dt>For Option <b>"R" - Random</b>
</dd> <dd><div class="opt_inp">
Creates a volume containing random densities.
<p>
.GAUSSIAN DISTRIBUTED? (Y/N): N<br />
[For 'N' a random image with the values uniformly distributed
between 0 and 1 is generated.
If 'Y' was specified, SPIDER will ask:]
<p>
.MEAN AND STANDARD DEVIATION OF GAUSSIAN DIST.: 0.0, 0.35<br />
[Enter the mean value and standard deviation of the gaussian
distribution for random numbers to be generated.]
</div>
<p>
</dd> <dt>For Option <b>"S" - Sine.</b>
</dd> <dd><div class="opt_inp">
Creates a volume containing a 3-D distribution from an arbitrary
number of 3-D sine waves with arbitrary spatial frequency vectors.
<p>
.NUMBER OF SINE WAVES: 3<br />
[Enter number of sine waves, with a maximum of 50.]
<p>
.I=1 AMPLITUDE, SPATIAL FREQ. IN (X,Y,Z): 0.5, 1,2,4<br />
<br />.I=2 AMPLITUDE, SPATIAL FREQ. IN (X,Y,Z): 1.0, 2,2,2<br />
<br />.I=3 AMPLITUDE, SPATIAL FREQ. IN (X,Y,Z): 1.0., 1,2,1<br />
[Enter relative amplitude and spatial frequency for
each sine wave.]
<p>
[The actual amplitudes used (AMPL) are calculated from
the input amplitudes (AMPLIN) according to the formula: <br />
&nbsp;&nbsp; AMPL = 2. * AMPLIN / AMPSUM <br />
where "AMPSUM" is the sum of all input amplitudes. A
list of the actual amplitudes is printed out.]
</div>
<p>
</dd> <dt>For Options <b>"SP/SPA/SPV"</b>
</dd> <dd><div class="opt_inp">
Creates a volume with spheres of given outer and inner radius
and a given density, with centers located at specified points.
The default inner radius is zero and the default density value is 2.0.
After modelling a sphere of a given radius the program should ask for
the radii (but does not) and location of the next sphere. If the
any spheres outer radius exceeds the
boundary of the 3-D file, the program warns that part of the
sphere will be truncated.
<p>
.GET COORDINATES FROM DOCUMENT FILE (Y/N): N<br />
[Otherwise the user will input sphere coordinates from the
command line.]
</div>
<p>
</dd> <dt>If the answer is 'Y' SPIDER asks:
</dd> <dd><div class="opt_inp">
<br />.DOCUMENT FILE: DOC001<br />
[Enter name of document file containing center coordinates of
spheres, in order: X,Y,Z ( ,Radius2, Radius1 - optional)
(,Mass value - optional) starting in any column]
<p>
.NUMBER OF SPHERES, STARTING COL. FOR X,Y,Z: 50, 1<br />
[Enter number of spheres and column of X-coordinates
in the document file]
<p>
.X, Y, &amp; Z OFFSET: 20.0, -10.0, 510.<br />
[Enter offset for X,Y,Z]
</div>
<p>
</dd> <dt>For Option <b>"SP/SPA"</b>:
</dd> <dd><div class="opt_inp">
<br />.DENSITY INSIDE SPHERES (or &lt;CR&gt; = 2.0): 1.0<br />
[Enter the density value to placed inside sphere.]
</div>
<p>
</dd> <dt>For Options <b>"SP/SPA/SPV"</b> with input from a doc file:
</dd> <dd><div class="opt_inp">
<br />.OUTER AND INNER RADII OF SPHERES: 4.5, 1.7<br />
[Enter radius of sphere as a floating point number.
If a negative value is entered for one or both of the
radii, they are taken from the document file. If
the inner radius is taken from the document file, the
outer radius also must be in this file. But, the outer
radius can be taken from the document file while the inner
one can be fixed for all spheres and entered explicitly.]
</div>
<p>
</dd> <dt>For Options <b>"SP/SPA/SPV"</b> without input from a doc file:
</dd> <dd><div class="opt_inp">
<br />.OUTER AND INNER RADII OF SPHERES: 4.5, 1.7<br />
[Enter radius of sphere as a floating point number.]
<p>
.CENTER COORDINATES X,Y (or &lt;CR&gt; FOR IMAGE CENTER): 10, 10, 15<br />
[Enter the coordinates for center the sphere.
To exit: enter '0, 0, 0' as coordinates.]
</div>
<p>
</dd> <dt>For Option <b>"T" - Test</b>
</dd> <dd><div class="opt_inp">
Creates a three-dimensional (circularly continuous) sine wave with
spatial frequency: (1,1,1).
</div>
<p>
</dd> <dt>For Option <b>"W" - Wedge</b>
</dd> <dd><div class="opt_inp">
Creates a three-dimensional, linearly increasing density distribution.
The voxel values increase linearly with increasing X, Y, and Z.
</div>
<p>
</dl>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/model3.f">MODEL3</a>, <a href="../../src/rann.f">RANN</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/util1.f">UTIL1</a> 
</dl>
</body>
</html>