<head>
<title>SPIDER: AP SCC (Alignment - multi-reference, translation alignment ||)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="../tips/index.html"             id="tips">      </a></td>
  <td><a href="../../web/docs/web.html"               id="web">       </a></td>
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>AP SCC - Alignment - multi-reference, translation alignment ||</h2>
<em>(8/27/19)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Calculates translational differences between experimental
image/volume(s) and a series of reference image/volumes(s).
Determines translational parameters to align the
experimental image/volume with the given reference
images/volumes. <br />
(See <a href="../align_overview.html">align_overview.html</a>
for comparison of 'AP' operations.)
&nbsp; <a href="../exa/apscc.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="apc.html"><strong>AP C</strong></a></td><td> [Rotation Alignment - classification, unknown references ||]</td></tr>
<tr><td><a href="apra.html"><strong>AP RA</strong></a></td><td> [Alignment - Reference free, Rotation ||]</td></tr>
<tr><td><a href="apsa.html"><strong>AP SA</strong></a></td><td> [Alignment - reference free, Shift ||]</td></tr>
<tr><td><a href="apsr.html"><strong>AP SR</strong></a></td><td> [Alignment - reference free, Shift & Rotation ||]</td></tr>
<tr><td><a href="pj3q.html"><strong>PJ 3Q</strong></a></td><td> [Project - 3D volume using Eulerian angles, trilinear interpolation ||]</td></tr>
<tr><td><a href="shf.html"><strong>SH F</strong></a></td><td> [Shift - using Fourier interpolation ||]</td></tr>
<tr><td><a href="cc.html"><strong>CC</strong></a></td><td> [Cross Correlation ||]</td></tr>
<tr><td><a href="pkm.html"><strong>PK M</strong></a></td><td> [Peak search - Maximum]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: AP SCC [exp],[ref],[xsh],[ysh],[zsh],[pk]<br />
<p>
<p>
</dd> <dd>[This operation can return up to six optional register variables
for the last experimental image/ reference image pair analyzed:
<table class="regvar">
<tr><td class="first" align="left"> Variable </td>
<td align="left"> Example </td>
<td align='left'> Receives </td> </tr>
<tr><td class="first"> First </td>
<td> [exp] </td>
<td> Experimental image number</td> </tr>
<tr><td class="first"> Second </td>
<td> [ref] </td>
<td> Reference image number </td> </tr>
<tr><td class="first"> Third </td>
<td> [xsh] </td>
<td> Xshift </td> </tr>
<tr><td class="first"> Fourth </td>
<td> [ysh] </td>
<td> Y shift </td> </tr>
<tr><td class="first"> Fifth </td>
<td> [zsh] </td>
<td> Z shift </td> </tr>
<tr><td class="first"> Sixth </td>
<td> [pk] </td>
<td> Peak height </td> </tr>
</table>
<p>
.REFERENCE IMAGE FILE NAME OR TEMPLATE (E.G. STK@**): REF***<br />
[Give the template name of the existing file or series of
reference image/volume(s). Each of the experimental
image/volume(s) will be checked for alignment versus all of
these reference image/volume(s).]
<p>
</dd> <dt>If the reference file name contains a template for a set of images SPIDER asks:
<p>
</dd> <dd><div class="opt_inp">
<br />.FILE NUMBERS OR SELECTION DOC. FILE NAME: select_ref<br />
[Enter the file numbers to be substituted into the file name
template or name of a selection document file that contains
the file numbers in the first register column.]
</div>
<p>
.TRANSLATION SEARCH RANGE IN X, Y, &amp; Z (ZERO FOR ALL): 0 ,0<br />
[The search for translation parameters will be restricted to
+/- search range.' If the input is zero the whole image/volume
is searched. If an input is &lt;0, then that dimension is
not searched. This allows for a one dimensional search of
image shift. Note: Increasing range does NOT slow this
operation.]
<p>
.NORMALIZE PEAK HEIGHT, PAD IMAGE (Y/N): N<br />
[Normalize peak height output to range: 0...1.
Normalization does not slow the calculation nor improve of
accuracy. Unless specified all images/volumes will be padded to
twice their original dimesions with average of the image. Padding
is said to improve the alignment values depending on the structure
present in the image and any periodicity within the structure. It
may not help your specific image.]
<p>
.EXPERIMENTAL IMAGE FILE NAME OR TEMPLATE (E.G. STK@****): EXP***<br />
[Give the template name of the existing file or series of
experiment image/volume(s). Each of the experimental
image/volume(s) will be checked for alignment versus all of
the reference image/volume(s).]
<p>
</dd> <dt>If the experimental image file name contains a template for a set of images SPIDER asks:
<p>
</dd> <dd><div class="opt_inp">
<br />.FILE NUMBERS OR SELECTION DOC. FILE NAME: select_exp<br />
[Enter the file numbers to be substituted into the file name
template or name of a selection document file that contains
the file numbers in the first register column.]
</div>
<p>
.OUTPUT ALIGNMENT DOCUMENT FILE: align_param<br />
[This is the only output produced by this operation.
It contains 5 register columns for each aligned image pair: <br />
<p>
&nbsp;&nbsp; 1. Number of the experimental image/volume. <br />
&nbsp;&nbsp; 2. Number of the reference image/volume. <br />
&nbsp;&nbsp; 3. X-shift. (X translation determined.) <br />
&nbsp;&nbsp; 4. Y-shift. (Y translation determined.) <br />
&nbsp;&nbsp; 5. Z-shift. (If a volume.) <br />
&nbsp;&nbsp; 6. Peak height. <br />
&nbsp;&nbsp;&nbsp;&nbsp; Can be used as a
similarity measure. <br />
&nbsp;&nbsp;&nbsp;&nbsp; If normalized, a self
correlation should
give a peak height of: 1.0 <br />
<p>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>Translation alignment parameters in columns 3-5 of the
output document file) can be used with operation 'SH' or 'SH F' to
align images.
<p>
<li>This operation is equivalent to 'CC' followed by 'PK M'.
<p>
<li>Implemented by: ArDean Leith.
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/apscc.f">APSCC</a>, <a href="../../src/apcc.f">APCC</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/util4.f">UTIL4</a> 
</dl>
<!-- Begin Trailer -->
<hr> <small>&copy; <a href="../copyright.html"> 
   Copyright Notice</a> /           &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
   Enquiries: <a href="mailto:spiderem.software@gmail.com">spiderem.software@gmail.com</a> </small></a>
<!-- End Trailer -->
</body>
</html>