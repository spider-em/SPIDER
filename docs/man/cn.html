<head>
<title>SPIDER: CN (Convolution ||)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>CN - Convolution ||</h2>
<em>(09/10/96)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Computes the convolution product of two images/volumes
by using the Fourier transform relationship.
The dimensions of the image/volumes must correspond to each
other.
&nbsp; <a href="../exa/cn.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="cnn.html"><strong>CN N</strong></a></td><td> [Convolution - Normalized ||]</td></tr>
<tr><td><a href="cc.html"><strong>CC</strong></a></td><td> [Cross Correlation ||]</td></tr>
<tr><td><a href="ccn.html"><strong>CC N</strong></a></td><td> [Cross Correlation - Normalized ||]</td></tr>
<tr><td><a href="ac.html"><strong>AC</strong></a></td><td> [Auto Correlation ||]</td></tr>
<tr><td><a href="acn.html"><strong>AC N</strong></a></td><td> [Auto Correlation - Normalized ||]</td></tr>
<tr><td><a href="ccc.html"><strong>CC C</strong></a></td><td> [Cross Correlation Coefficient]</td></tr>
<tr><td><a href="rc.html"><strong>rc</strong></a></td><td> [Real Convolution ||]</td></tr>
<tr><td><a href="ft.html"><strong>FT</strong></a></td><td> [Fourier Transform ||]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: CN<br />
<p>
<dd>.INPUT FILE: PIC001<br />
[Enter the name of the first image/volume.]
<p>
.REFER FILE: REF001<br />
[Enter the name of the second image/volume, which is used as the
reference.]
<p>
.OUTPUT FILE: CNF001<br />
[Enter name of the file which will contain the convolution
coefficients. It can be the same as the input file. In
this case INPUT FILE will be replaced by the convolution.]
<p>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>The type of the input data can be real or Fourier in any
mixed form.
<p>
<li>The convolution data are not scaled.
<p>
<li>The origin of the CNF is at (NX/2 + 1, NY/2 + 1, NZ/2 + 1).
<p>
<li>The convolution product contains artifacts from
wrap-around overlaps implicit in the Fourier computation.
However, the convolution product is artifact-free
within <br />
&'nbsp;&nbsp; -L &lt;= K &lt;= +L <br />
&'nbsp;&nbsp; -M &lt;= I &lt;= +M <br />
if the image/volumes are surrounded by frames containing
the average, where the frame width is M/2 and the
frame height is L/2. This can be achieved by use of
the 'PD' operation. <br />
The complete artifact-free CCF is obtained for the
widths M=NY/2, L=NX/2. In this case, the padded
image/volumes are just twice as large in each dimension as
<p>
<li>The convolution product contains artifacts from
wrap-around overlaps implicit in the Fourier computation.
However, the convolution product is artifact-free
within <br />
&nbsp;&nbsp; -L &lt;= K &lt;= +L <br />
&nbsp;&nbsp; -M &lt;= I &lt;= +M <br />
if the image/volumes are surrounded by frames containing
the average, where the frame width is M/2 and the
frame height is L/2. <br />
The complete artifact-free convolution product is
obtained for the widths M=NY/2, L=NX/2. In this
case, the padded image/volumes are just twice as large in
each dimension as the original image/volumes.
<p>
<li>Note that 'RC' (Real Convolution) operation offers an
alternative to Fourier computation of the convolution
product. 'RC' should be used if the width of the point
spread function is small (&lt;= 15).
<p>
<li>If the data cannot fit into the memory use the 'FT' and 'MU'
commands to calculate the CNF: <br />
&nbsp;&nbsp; FT <br />
&nbsp;&nbsp; input1 <br />
&nbsp;&nbsp; four1 <br /> <br />
&nbsp;&nbsp; FT <br />
&nbsp;&nbsp; input2 <br />
&nbsp;&nbsp; four2 <br /> <br />
&nbsp;&nbsp; MU <br />
&nbsp;&nbsp; four1 <br />
&nbsp;&nbsp; four2 <br /> <br />
&nbsp;&nbsp; FT <br />
&nbsp;&nbsp; four2 <br />
&nbsp;&nbsp; cnf12 <br />
<strong>Warning</strong>: The origin of cnf12 calculated
in this way is in (1,1,1).
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/fmrs_2.f">FMRS_2</a>, <a href="../../src/fmrs_2r.f">FMRS_2R</a>, <a href="../../src/fftmcf.f">FFTMCF</a>, <a href="../../src/fmrs_1.f">FMRS_1</a>, <a href="../../src/fmrs_3.f">FMRS_3</a>, <a href="../../src/fmrs_3r.f">FMRS_3R</a>, <a href="../../src/cnrs_2.f">CNRS_2</a>, <a href="../../src/cnrs_3.f">CNRS_3</a>, <a href="../../src/cnrd_2.f">CNRD_2</a>, <a href="../../src/cnrd_3.f">CNRD_3</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/corr1.f">CORR1</a> 
</dl>
</body>
</html>