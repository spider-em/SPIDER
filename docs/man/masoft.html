<head>
<title>SPIDER: MA SOFT (Mask - image/volume with a soft adaptive mask ||)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>MA SOFT - Mask - image/volume with a soft adaptive mask ||</h2>
<em>(2/22/18)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Masks an image/volume with a mask at a specified threshold.
Pixels greater than the threshold retain their value and
pixels lower than threshold have a soft Gaussian or cosine
based falloff. This is mainly useful with a threshold of 0.5
to soften binary (0/1) masks. If used on grey scale images
its operation may not be intuitive.
&nbsp; <a href="../exa/masoft.html">Example</a>.
</dl>
<p>
<dl><dt><strong>SEE ALSO</strong>
<p>
<dd><table><tr><td><a href="ma.html"><strong>MA</strong></a></td><td> [Mask - image/volume with a circular mask]</td></tr>
<tr><td><a href="mo.html"><strong>MO</strong></a></td><td> [Create Model image]</td></tr>
<tr><td><a href="mo3.html"><strong>MO 3</strong></a></td><td> [Create Model volume]</td></tr>
<tr><td><a href="mm.html"><strong>MM</strong></a></td><td> [Mask Multiplication]</td></tr>
<tr><td><a href="mmc.html"><strong>MM C</strong></a></td><td> [Mask Multiplication - Continuous]</td></tr>
<tr><td><a href="thf.html"><strong>TH F</strong></a></td><td> [Threshold - Set pixels above/below Threshold to Fixed value]</td></tr>
</table></dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: MA SOFT [inside],[surface]<br />
</dd> <dd>[The first optional register variables will contain the number
of pixels within the 100% area and the second will contain the
number of pixels/voxels on the 100% surface.]
<p>
.INPUT FILE NAME OR TEMPLATE: PIC001<br />
[Enter the name of the file to be masked.]
<p>
</dd> <dt>If the input file name contains astericks for set of images,
SPIDER asks:
<p>
</dd> <dd><div class="opt_inp">
<br />.FILE NUMBERS OR SELECTION DOC. FILE NAME: 1-[num]<br />
</div>
<p>
.OUTPUT FILE: PIC002<br />
[Enter the name of the output file.]
<p>
</dd> <dt>If the input file name contains astericks for set of images,
SPIDER asks:
<p>
</dd> <dd><div class="opt_inp">
<br />.FILE NUMBERS OR SELECTION DOC. FILE NAME: 1-[num]<br />
</div>
<p>
.GAUSSIAN or COSINE SOFTMASK (G/C): G<br />
[ Enter 'G' for a mask with no modification inside
the mask range, and Gaussian-shaped falloff
outside this range. <br />
Enter 'C' for a mask with no modification inside
the mask range, and cosine-shaped falloff outside
this range.]
<p>
.THRESHOLD LEVEL: 0.5<br />
[Enter the desired threshold at which masking occurs.]
<p>
<p>
</dd> <dt>If 'G' was entered for Gaussian softmask, SPIDER asks:
</dd> <dd><div class="opt_inp">
<br />.WIDTH: 3.0<br />
[Enter the falloff width.]
</div>
<p>
</dd> <dt>If 'C' was entered for Cosine softmask, SPIDER asks:
</dd> <dd><div class="opt_inp">
<br />.HALFWIDTH: 3.0<br />
[Enter the falloff half-width.]
</div>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>Fairly slow speed with volumes.
<p>
<li>Can be used on grey-scale images with an appropriate
threshold or with binary masks.
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/softmask.f">SOFTMASK</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/util2.f">UTIL2</a> 
</dl>
</body>
</html>