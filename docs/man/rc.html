<head>
<title>SPIDER: RC (Real Convolution ||)</title>
   <link rel='stylesheet' href='niceman.css' type='text/css' />
   <link rel='stylesheet' type='text/css' href='../buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="../spider.html"                 id="spider">    </a></td>
  <td><a href="../user_doc.html"               id="work">      </a></td>
  <td><a href="../operations_doc.html"         id="index">     </a></td>
  <td><a href="../documents.html"              id="help">      </a></td>
  <td><a href="../faq.html"                    id="faq">       </a></td>
  <td><a href="../documents.html#2D"           id="techs">     </a></td>
  <td><a href="../techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="../formats.html"                id="menu">      </a></td>
  <td><a href="../installation.html"           id="install">   </a></td>
  <td><a href="../release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>RC - Real Convolution ||</h2>
<em>(1/6/14)</em><br />
<p>
<dl><dt><strong>PURPOSE</strong>
<p>
<dd>Computes convolution product between picture and specified
matrix (point spread function (PSF)) in real space. PSF is
assumed square/cubic.
&nbsp; <a href="../exa/rc.html">Example</a>.
</dl>
<p>
<dl><dt><strong>USAGE</strong></dt>
<p>
<dd>.OPERATION: RC<br />
<p>
<dd>.INPUT FILE: PIC001<br />
[Enter name of image/volume to be convoluted.]
<p>
.OUTPUT FILE: PIC002<br />
[Enter name of image/volume where convoluted values are placed.]
<p>
.PSF INPUT FILE: PSF001 / * / #<br />
[Enter (1) Name of file where PSF matrix is found, <br />
(2) '*' to indicate that PSF matrix is typed in and not saved, <br />
(3) '#' to indicate that PSF is typed in and is saved.]
<p>
</dd> <dt>If 'PSF INPUT FILE' is an existing PSF file, SPIDER will read in the
SPIDER image format PSF file and print out its values:
<p>
</dd> <dd><div class="opt_inp">
<br />.PSF IN USE <br /><br />
-0.1 -0.1 -0.2 -0.1 -0.1 <br />
-0.1 -0.1 -0.3 -0.1 -0.1 <br />
-0.1 -0.1 3.0 -0.1 -0.1 <br />
-0.1 -0.1 -0.3 -0.1 -0.1 <br />
-0.1 -0.1 -0.2 -0.1 -0.1 <br />
<p>
[The convolution product between PIC001 and PSF001 is
then computed and written into PIC002.]
</div>
<p>
</dd> <dt>If 'PSF INPUT FILE' is '*', SPIDER will read in the PSF values:
<p>
</dd> <dd><div class="opt_inp">
<br />.PSF WIDTH: 5<br />
[Enter linear size of PSF matrix. Number must be odd.
See notes regarding range.<br /><br />
<p>
Enter matrix, with &lt;PSF WIDTH&gt; numbers per line]
<p>
.ROW(1): -0.1 -0.1 -0.2 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 -0.3 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 3.0 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 -0.3 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 -0.2 -0.1 -0.1 <br /><br />
<p>
[SPIDER will then normalize the PSF and print out the PSF IN EFFECT.
Then the convolution product between PIC001 and PSF001 is
then computed and written into PIC002.]
</div>
<p>
</dd> <dt>If 'PSF INPUT FILE' is '#', SPIDER will read in the name of the
</dd> <dd>PSF output file and the PSF values:
<p>
<div class="opt_inp">
<p>
.PSF OUTPUT FILE: PSF002<br />
[Enter name of file where PSF matrix is to be saved.]
<p>
.PSF WIDTH: 5<br />
[Enter linear size of PSF matrix. Number must be odd.
See notes regarding range.<br /><br />
<p>
Enter matrix, with &lt;PSF WIDTH&gt; numbers per line]
<p>
.ROW(1): -0.1 -0.1 -0.2 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 -0.3 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 3.0 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 -0.3 -0.1 -0.1 <br /><br />
<br />.ROW(1): -0.1 -0.1 -0.2 -0.1 -0.1 <br /><br />
<p>
[SPIDER will then normalize the PSF and print out the PSF IN EFFECT.
Then the convolution product between PIC001 and PSF001 is
then computed and written into PIC002.]
</div>
<p>
</dl>
<p>
<strong>NOTES</strong>
<ol>
<p>
<li>If PSF has "box" form (i.e., all coefficients of matrix
have equal value), use box convolution ('BC') instead.
<p>
<li>Fourier convolution, 'CN', is the method of choice
for large PSFs (with PSFs as large as the image!).
<p>
<li>'RC' has been rarely used since it was first written.
It is possible that bugs have developed over the years.
</ol>
<p>
<dl><dt><strong>SUBROUTINES</strong>
<p>
<dd><a href="../../src/rconv.f">RCONV</a>, <a href="../../src/rcnv3_p.f">RCNV3_P</a>, <a href="../../src/rcnv2_p.f">RCNV2_P</a></dl>
<p>
<dl><dt><strong>CALLER</strong>
<p>
<dd><a href="../../src/util3.f">UTIL3</a> 
</dl>
</body>
</html>