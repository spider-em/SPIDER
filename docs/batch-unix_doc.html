<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>SPIDER: Batch use of SPIDER on UNIX</title>
   <link rel='stylesheet' type='text/css' href='./buttons.css' />

</head>
<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="./spider.html"                 id="spider">    </a></td>
  <td><a href="./user_doc.html"               id="work">      </a></td>
  <td><a href="./operations_doc.html"         id="index">     </a></td>
  <td><a href="./documents.html"              id="help">      </a></td>
  <td><a href="./faq.html"                    id="faq">       </a></td>
  <td><a href="./documents.html#2D"           id="techs">     </a></td>
  <td><a href="./techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="./formats.html"                id="menu">      </a></td>
  <td><a href="./installation.html"           id="install">   </a></td>
  <td><a href="./release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web" id="web"> </a></td> 
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2>Batch use of SPIDER on UNIX</h2>

<ul>
<li>Running process in Background. 

<p>Any UNIX command can be run in the background by simply placing
'&amp;' character at end of the command line.</p>

<p>If you want to run a SPIDER procedure called <i>b01.prj</i> in
the background, then place the <i>PROJECT CODE/DATA CODE</i> and
starting procedure file name (without <i>PROJECT CODE</i>) on the
command line for SPIDER. E.g. If your procedure file is in
<i>b01.prj</i>, the procedure can be executed in the background and
the output placed in a file called <i>"outfile"</i> as follows:</p>

<blockquote><kbd>$ spider prj/tom @b01 &gt; outfile
&amp;</kbd></blockquote>

The system will respond giving PID number for your background
process. Should you want to terminate the process give the
following UNIX command: 

<blockquote><kbd>$ kill &lt;PID number&gt;</kbd></blockquote>

Should you want to suspend and restart the program give the give
the following UNIX commands: 

<blockquote><kbd>$ kill -STOP &lt;PID number&gt;<br>
 $ kill -CONT &lt;PID number&gt;<br>
</kbd></blockquote>

If you forget to start SPIDER in the background and want to place
the SPIDER process in the background while it is running, you can
halt the process with &lt;CTRL-Z&gt; then issue the "bg" command to
restart the process in the background. In the Bourne shell,
processes run in the background are terminated when you logout! To
prevent this use the "nohup" command: 

<blockquote><kbd>$ nohup spider prj/tom @b01 &gt;outfile
&amp;</kbd></blockquote>

If you run a program in the background and want to retain any error
output you can redirect the error output to a file "errfile" as
follows: 

<blockquote><kbd>$ nohup spider prj/tom @b01 &gt;outfile
2&gt;errfile &amp;</kbd></blockquote>

<p></p>
</li>

<li>Scheduling a process. 

<p>On Unix, to start SPIDER (or any given string of commands, for
that matter) at given date &amp; hour one can use the UNIX
<i>'at'</i> command (for exact format type <i>man at'</i> on your
UNIX machine):</p>

<blockquote><kbd>$ at 7:12pm Jan 22<br>
 $ SPIDER_LOC/spider prj/tom @b01 &lt; start_up &gt; outfile<br>
 date &gt; done_at_this_time<br>
 ^D<br>
</kbd></blockquote>

<p></p>
</li>

<li>Queues. 

<p>Queues can be set up for different scheduling regimes if needed.
Until then you can ensure that your programs are run in desired
order by putting them in the desired order in the <i>"at"</i>
string of commands)</p>
</li>
</ul>

<p></p>

<hr>
<p><small>Source: user_doc.html &nbsp;&nbsp;&nbsp; Last update: 27
March 2001 &nbsp;&nbsp;&nbsp; ArDean Leith</small></p>
</body>
</html>
