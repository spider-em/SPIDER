<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
   <title>SPIDER: Using FFTW</title>
   <link rel='stylesheet' type='text/css' href='./buttons.css' />

</head>

<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="./spider.html"                 id="spider">    </a></td>
  <td><a href="./user_doc.html"               id="work">      </a></td>
  <td><a href="./operations_doc.html"         id="index">     </a></td>
  <td><a href="./documents.html"              id="help">      </a></td>
  <td><a href="./faq.html"                    id="faq">       </a></td>
  <td><a href="./documents.html#2D"           id="techs">     </a></td>
  <td><a href="./techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="./formats.html"                id="menu">      </a></td>
  <td><a href="./installation.html"           id="install">   </a></td>
  <td><a href="./release.html"                id="new">       </a></td>
  <td><a href="https://spider-em.github.io/Web/docs/web.html" id="web">  </a></td>
</tr>
</table>
<br><hr>
<!-- End Buttons -->


<p />
<h1 align="center">Using FFTW With SPIDER</h1>

<p>
The <a href="http://www.fftw.org/">FFTW</a> (The Fastest Fourier
Transform in the West) is a 'C' subroutine library for computing
the Discrete Fourier Transform in one or more dimensions, of
both real and complex data, and of arbitrary input size. The FFTW
package was developed at MIT by Matteo Frigo and Steven G. Johnson.
They believe that <cite>" FFTW's performance is typically superior
to that of other publicly available FFT software. Moreover, FFTW's
performance is portable: the program will perform well on most
architectures without modification."</cite> 
</p>

<p> FFTW is <a href="http://www.gnu.org/philosophy/categories.html">
'free open source software'</a> distributed under the 
<a href= "http://www.gnu.org/copyleft/gpl.html">GNU General Public
License</a>.</p>
 
<p>FFTW version 3.3.7 is now used within default versions of SPIDER 
on Linux for calculating Fourier transforms.</p>
   
<p>Since SPIDER is now distributed under the
GPL license we can now include statically linked FFTW libraries 
within our SPIDER distribution. </p>

</p> <b>Unless you wish to recompile/relink SPIDER you do not have to
install FFTW and can ignore the rest of the information on this page.</b>  </p>

<hr />

<p><h4>If you wish to recompile/link FFTW for use with SPIDER On Linux</h4></p>

<ul>
<li>

   <p>FFTW3 code is
   accessed by defining the preprocessor variable: <i>SP_LIBFFTW3</i>
   when compiling and linking SPIDER. See: 
   <a href="../src/Makefile_linux_mp_opt64">Makefile_linux_mp_opt64</a> for
   example of how this is done. </p>

   <p>The SPIDER distribution contains three sets of FFTW
   object code libraries for use with different
   platforms: 
   fftw321-intel,  fftw337-intel64-icc, fftw321-opt64.</p>

 
   <p>The spider executables included with your distribution have been
   statically linked with the respective libraries for these 
   platforms: 
   fftw3-intel/lib, fftw3-intel64-icc/lib, fftw3-opt64/lib.
 
   <p>If you wish to recompile FFTW-3.3.7: <br />
   </p>

   <ol>

   <p><li>Create new directory in: <i>spider/fftw</i> <br />
   <i>mkdir spider/fttw/fftw3-new</i>                 <br />
   <i>cd    spider/fttw/fftw3-new</i>  </li>
   <p/>
 
   <p><li>
   <a href="http://www.fftw.org/download.html">Download FFTW3.3.7 
   </a> from <i>www.fftw.org</i></li></p>

   <p><li>Extract the software:              <br />
   e.g. <i>tar xvzf fftw-3.3.7.tar.gz</i>    <br />
   e.g. <i>mv fftw-3.3.7/* .         </i>    </p>

   <p><li>Set compiler location                          <br />
   e.g. <i>setenv F77  /opt/intel_fc_80/bin/ifort</i>    <br />
   e.g. <i>setenv CC   /opt/intel_cc_80/bin/icc</i></li> </p>

   <p><li>Configure FFTW installation                    <br />
   <small>Note: configure options for 3.3.7 are <b>NOT</b> same as for
   some earlier FFTW releases.</small>                         <br />  
    e.g. <i>./configure --enable-float  --with-openmp</i></li> </p>

   <p><li>Build FFTW     <br />
   e.g. <i>make</i></li> </p>

   <p><li>Make library directory and put FFTW3 libraries there:  <br />
   e.g. <i>mkdir &nbsp;&nbsp;  lib</i>                            <br />
   e.g. <i>cp ./.libs/libfftw3f.a ./threads/.libs/libfftw3f_threads.a &nbsp;&nbsp; lib </i></li> </p>

   <p><li>Link your SPIDER with the libraries in:  
   <i>spider/fttw/fftw3-new/lib</i> </p>
   </ol>
</ul>

<hr>
<small>Source file: fftw.html &nbsp;&nbsp;&nbsp; 
      Updated: 20 Feb 2025    &nbsp;&nbsp;&nbsp; 
      ArDean Leith
</small>

</body>
</html>

