<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>SPIDER Compilation and Linking</title>
   <link rel='stylesheet' type='text/css' href='./buttons.css' />

</head>
<body>
<!-- Begin Buttons -->
<table>
<tr>
  <td><a href="./spider.html"                 id="spider">    </a></td>
  <td><a href="./user_doc.html"               id="work">      </a></td>
  <td><a href="./operations_doc.html"         id="index">     </a></td>
  <td><a href="./documents.html"              id="help">      </a></td>
  <td><a href="./faq.html"                    id="faq">       </a></td>
  <td><a href="./documents.html#2D"           id="techs">     </a></td>
  <td><a href="./techs/recon1a/Docs/mr1.html" id="recon">     </a></td>
  <td><a href="./formats.html"                id="menu">      </a></td>
  <td><a href="./installation.html"           id="install">   </a></td>
  <td><a href="./release.html"                id="new">       </a></td>
  <td><a href="./tips/index.html"             id="tips">      </a></td>
  <td><a href="../../web/docs/web.html"               id="web">       </a></td>
</tr>
</table>
<br><hr>
<!-- End Buttons -->

<h2 align="CENTER">SPIDER Compilation and Linking</h2>

This document contains a lot of information on the current SPIDER
distribution. Some of it may not be relevant to your site. 

<hr>
<h3>CONTENTS</h3>

<blockquote>
<ul>
  <li><a href="#EXECUTABLES">EXECUTABLES</a></li>
  <li><a href="#LINKING">LINKING</a></li>
  <li><a href="#COMPILING">COMPILING</a></li>
  <li><a href="#LIBRARIES">LIBRARIES</a></li>
  <li><a href="#DEBUG">DEBUG SPIDER</a></li>
</ul>
</blockquote>

<hr>
<ul>
<li><a name="EXECUTABLES">EXECUTABLES</a>  

<p></p>

<table border="0" cellpadding="0" cellspacing="15">
<tr>
<th halign="LEFT">SPIDER</th>
<th halign="LEFT">Irix</th>
<th halign="LEFT">processors</th>
<th halign="LEFT">fft library</th>
</tr>

<tr>
<td>spider3</td>
<td>6.*</td>
<td>R4***</td>
<td>sgi complib</td>
</tr>

<tr>
<td>spider4</td>
<td>6.*</td>
<td>R5000,R8000,R10000</td>
<td>sgi complib</td>
</tr>

<tr>
<td>spider4ns</td>
<td>6.*</td>
<td>R5000,R8000,R10000</td>
<td>native SPIDER</td>
</tr>

<tr>
<td valign="TOP">spider4mp</td>
<td valign="TOP">6.*</td>
<td valign="TOP">R5000,R8000,R10000<br>
 with multiple proc.</td>
<td>sgi complib</td>
</tr>
</table>

<p></p>
</li>

<li><a name="LINKING">LINKING SPIDER</a>  You should only have to
relink the SPIDER software if you wish to make your own
modifications to SPIDER's linking parameters (e.g. changing
libraries from dynamic to static). In the documention that follows
<i>SPIDER_DIR</i> refers to the location of SPIDER on your system
and a <i>'?'</i> inside a filenames refers to the suffix of one of
the specific SPIDER distributions available e.g. <i>3, 4, 4ns,
4mp</i>. The directory: <i>SPIDER_DIR/src</i> contains makefiles
named <i>Makefile?</i> These makefiles can be used to compile the
source code, place the object code in an object library, link the
object code with SGI object libraries, and create an executable
binary file. Use the following commands to save the original SPIDER
executable as: <i>spider?_orig</i> and to relink SPIDER on your
machine: 

<blockquote><kbd>cd SPIDER_DIR/src<br>
 mv ../bin/spider? ../bin/spider?_orig<br>
 make -f Makefile?<br>
</kbd></blockquote>
</li>

<li><a name="COMPILING">Compiling and Linking the Executable</a> 
If you wish to modify SPIDER source code or to compile SPIDER with
different compilation options (e.g. use native SPIDER fft code
instead of SGI's fft code or change optimization levels) you will
have to compile the source code on your computer.<br>
 Use the following commands to save the original object library
under another name and compile and link all of SPIDER: 

<blockquote><kbd>cd SPIDER_DIR/src<br>
 mv spider?.a spider?_orig.a<br>
 make -f Makefile?<br>
</kbd></blockquote>

If the <i>make</i> operation fails or the new executable does not
run contact us at the address below.

<p>Notes: The archive <i>ar</i> command in the Makefile will use a
lot of space in your TMPDIR. If you get a message about no space
being left on your device I suggest you redefine TMPDIR to a
directory that has space (e.g.):<br>
 <i>setenv TMPDIR /usr/tmp</i></p>

<p></p>
</li>

<li><a name="MAKEFILES">MAKEFILES</a>  

<table border="0" cellpadding="0" cellspacing="15">
<tr>
<th halign="LEFT">SPIDER</th>
<th halign="LEFT">Irix</th>
<th halign="LEFT">processors</th>
<th halign="LEFT">make</th>
<th halign="LEFT">foc</th>
<th halign="LEFT">focl</th>
</tr>

<tr>
<td>spider3</td>
<td>6.*</td>
<td>R4***</td>
<td>make 3</td>
<td>foc -3</td>
<td>focl -3</td>
</tr>

<tr>
<td>spider4</td>
<td>6.*</td>
<td>R5000,R8000,R10000</td>
<td>make 4</td>
<td>foc -4</td>
<td>focl -4</td>
</tr>

<tr>
<td>spider4ns</td>
<td>6.*</td>
<td>R5000,R8000,R10000</td>
<td>make 4ns</td>
<td>foc -4ns</td>
<td>focl -4ns</td>
</tr>

<tr>
<td valign="TOP">spider4mp</td>
<td valign="TOP">6.*</td>
<td valign="TOP">R5000,R8000,R10000<br>
 with multiple proc.</td>
<td valign="TOP">make 4mp</td>
<td valign="TOP">foc -4mp</td>
<td valign="TOP">focl -4mp</td>
</tr>
</table>
</li>

<li><a name="DEBUG">debug SPIDER</a>  

<table border="0" cellpadding="0" cellspacing="15">
<tr>
<th halign="LEFT">SPIDER</th>
<th halign="LEFT">Irix</th>
<th halign="LEFT">processors</th>
<th halign="LEFT">make</th>
<th halign="LEFT">focd</th>
<th halign="LEFT">focld</th>
</tr>

<tr>
<td>spider3d</td>
<td>6.*</td>
<td>R4***</td>
<td>maked 3</td>
<td>focd -3</td>
<td>focld -3</td>
</tr>

<tr>
<td>spider4d</td>
<td>6.*</td>
<td>R5000,R8000,R10000</td>
<td>maked 4</td>
<td>focd -4</td>
<td>focld -4</td>
</tr>

<tr>
<td valign="TOP">spider4mpd</td>
<td valign="TOP">6.*</td>
<td valign="TOP">R5000,R8000,R10000<br>
 with multiple proc.</td>
<td valign="TOP">maked 4mp</td>
<td valign="TOP">focd -4mp</td>
<td valign="TOP">focld -4mp</td>
</tr>
</table>
</li>

<li><a name="FLAGS">Summary of Compilation and Linking Flags</a>  

<table border="0" cellpadding="0" cellspacing="8">
<tr>
<td>-DSP_UNIX</td>
<td>&nbsp;&nbsp;cpp flag for selective compilation on Unix</td>
</tr>

<tr>
<td>-DSP_SUN4</td>
<td>&nbsp;&nbsp;cpp flag for selective compilation on Sun 4.*
Unix</td>
</tr>

<tr>
<td>-DSP_NT</td>
<td>&nbsp;&nbsp;cpp flag for selective compilation on NT</td>
</tr>

<tr>
<td>-D__osf__</td>
<td>&nbsp;&nbsp;cpp flag for use on "OSF" Unix</td>
</tr>

<tr>
<td>-DSP_R8000</td>
<td>&nbsp;&nbsp;cpp flag to set large memory availability</td>
</tr>

<tr>
<td>-DSP_MP</td>
<td>&nbsp;&nbsp;cpp flag for selective compilation on
multiprocessor SGI</td>
</tr>

<tr>
<td>-DSP_DISTRIB</td>
<td>&nbsp;&nbsp;cpp flag for distributed code selection</td>
</tr>

<tr>
<td>-DSP_LIBFFT</td>
<td>&nbsp;&nbsp;cpp flag for sgi. libfft use</td>
</tr>

<tr>
<td>-O3</td>
<td>&nbsp;&nbsp;optimization level</td>
</tr>

<tr>
<td>-mp</td>
<td>&nbsp;&nbsp;for parallel compilation &amp; linking</td>
</tr>

<tr>
<td>-mips2</td>
<td>&nbsp;&nbsp;target SGI architecture</td>
</tr>

<tr>
<td>-mips3</td>
<td>&nbsp;&nbsp;target SGI architecture</td>
</tr>

<tr>
<td>-mips4</td>
<td>&nbsp;&nbsp;target SGI architecture</td>
</tr>

<tr>
<td>-32</td>
<td>&nbsp;&nbsp;32 bit code</td>
</tr>

<tr>
<td>-n32</td>
<td>&nbsp;&nbsp;64 bit code with 32 bit addresses</td>
</tr>

<tr>
<td>-bytereclen</td>
<td>&nbsp;&nbsp;record length in OPEN is in bytes</td>
</tr>

<tr>
<td>-old_rl</td>
<td>&nbsp;&nbsp;record length in OPEN is in bytes</td>
</tr>

<tr>
<td>-multigot</td>
<td>&nbsp;&nbsp;obscure segmentation stuff (faster than -xgot)</td>
</tr>

<tr>
<td>xgot</td>
<td>&nbsp;&nbsp;obscure segmentation stuff</td>
</tr>

<tr>
<td>-g</td>
<td>&nbsp;&nbsp;for debug use</td>
</tr>
</table>

<p></p>
</li>

<li><a name="LIBRARIES">Auxiliary System DSO Libraries</a>  

<table border="0" cellpadding="0" cellspacing="8">
<tr>
<td>-lcomplib.sgimath</td>
<td>&nbsp;&nbsp;sgi libfft library</td>
</tr>

<tr>
<td>-lcomplib.sgimath_mp</td>
<td>&nbsp;&nbsp;sgi parallel libfft library</td>
</tr>
</table>

<p></p>

<h4><a name="FLAGS">Static and dynamic library
dependencies</a></h4>

<p>To see static dependencies (the names of libraries specified at
compile time), use 'odump -Dl' or 'elfdump -Dl' for ELF format
executables. Both are in the: dev.cmplrs_sw.util subsystem.<br>
example: elfdump -Dl spider4mp.1</p>

<p>To see dynamic dependencies (the full paths to libraries
determined at runtime, after environment variables are taken into
account, which is what SunOS' 'ldd' tells you), use rld.debug and
turn on rld tracing with _RLD_ARGS. See the rld(1) manpage.<br>
 setenv _RLD_ARGS "-trace"<br>
setenv _RLD_PATH "/usr/lib/rld.debug"<br>
Then run the spider executable.</p>

<p></p>
</li>

<li><a name="BUGS">BUGS, SUGGESTIONS</a>  In the event that you
have questions about an operation or wish to report bugs please
send us <b>complete info</b> on what you are trying to do,
including relevant results files, procedure files, and error messages. 

<p>Send such info to:</p>

<p>ArDean Leith<br>
 Wadsworth Labs, P.O. Box 509, Albany, New York 12201<br>
 phone: 518-486-5604<br>
 fax: 518-486-2191<br>
 email: <a href=
"mailto:spider@health.ny.gov">spider@health.ny.gov</a></p>

<hr>
<p><small>Source file: compiles.html &nbsp;&nbsp;&nbsp; Updated: 1
December 1999 &nbsp;&nbsp;&nbsp; ArDean Leith</small></p>
</li>
</ul>
<!-- Begin Trailer -->
<hr> <small>&copy; <a href="./copyright.html"> 
  Copyright Notice</a> /           &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
  Enquiries: <a     href="mailto:spiderem.software@gmail.com">spiderem.software@gmail.com</a>  </small></a>
<!-- End Trailer -->
</body>

</html>
