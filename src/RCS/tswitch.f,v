head	1.89;
access;
symbols
	pre_getangas:1.70
	GPL2010:1.69
	pre_GPL2010:1.68
	pre_var_equation:1.66
	pre_fftwrings:1.64
	pre_opfiles:1.63
	src:1.63
	best-code:1.61
	named-reg:1.61
	x-named-regs:1.60
	x:1.60
	v13-00:1.59
	pre_GPL:1.57
	prec_CA:1.52
	noindx:1.48
	Bproc:1.36
	oct21:1.29
	last77:1.25;
locks; strict;
comment	@c @;


1.89
date	2016.04.19.13.55.13;	author leith;	state Exp;
branches;
next	1.88;

1.88
date	2015.02.05.18.33.49;	author leith;	state Exp;
branches;
next	1.87;

1.87
date	2015.01.05.19.23.29;	author leith;	state Exp;
branches;
next	1.86;

1.86
date	2013.08.12.14.09.18;	author leith;	state Exp;
branches;
next	1.85;

1.85
date	2013.02.19.15.20.21;	author leith;	state Exp;
branches;
next	1.84;

1.84
date	2012.10.10.14.45.56;	author leith;	state Exp;
branches;
next	1.83;

1.83
date	2012.06.25.18.15.26;	author leith;	state Exp;
branches;
next	1.82;

1.82
date	2012.05.21.13.39.17;	author leith;	state Exp;
branches;
next	1.81;

1.81
date	2012.05.11.18.11.53;	author leith;	state Exp;
branches;
next	1.80;

1.80
date	2012.03.27.14.45.38;	author leith;	state Exp;
branches;
next	1.79;

1.79
date	2012.03.22.15.53.29;	author leith;	state Exp;
branches;
next	1.78;

1.78
date	2012.02.22.14.35.07;	author leith;	state Exp;
branches;
next	1.77;

1.77
date	2012.02.15.16.17.15;	author leith;	state Exp;
branches;
next	1.76;

1.76
date	2012.01.30.19.57.51;	author leith;	state Exp;
branches;
next	1.75;

1.75
date	2012.01.25.18.46.28;	author leith;	state Exp;
branches;
next	1.74;

1.74
date	2011.10.03.16.19.02;	author leith;	state Exp;
branches;
next	1.73;

1.73
date	2011.06.02.16.18.30;	author leith;	state Exp;
branches;
next	1.72;

1.72
date	2011.05.24.12.57.26;	author leith;	state Exp;
branches;
next	1.71;

1.71
date	2011.03.03.13.13.44;	author leith;	state Exp;
branches;
next	1.70;

1.70
date	2011.01.03.14.17.09;	author leith;	state Exp;
branches;
next	1.69;

1.69
date	2010.06.24.13.27.09;	author leith;	state Exp;
branches;
next	1.68;

1.68
date	2009.11.23.20.23.21;	author leith;	state Exp;
branches;
next	1.67;

1.67
date	2009.11.19.18.45.53;	author leith;	state Exp;
branches;
next	1.66;

1.66
date	2008.08.05.13.17.26;	author leith;	state Exp;
branches;
next	1.65;

1.65
date	2008.06.09.12.31.20;	author leith;	state Exp;
branches;
next	1.64;

1.64
date	2007.01.25.16.34.40;	author leith;	state Exp;
branches;
next	1.63;

1.63
date	2007.01.11.19.46.11;	author leith;	state Exp;
branches;
next	1.62;

1.62
date	2006.09.26.14.28.33;	author leith;	state Exp;
branches;
next	1.61;

1.61
date	2005.12.12.15.30.54;	author leith;	state Exp;
branches;
next	1.60;

1.60
date	2005.11.15.21.51.28;	author leith;	state Exp;
branches;
next	1.59;

1.59
date	2005.10.17.20.13.53;	author leith;	state Exp;
branches;
next	1.58;

1.58
date	2005.10.17.18.07.41;	author leith;	state Exp;
branches;
next	1.57;

1.57
date	2005.09.12.19.10.58;	author leith;	state Exp;
branches;
next	1.56;

1.56
date	2005.04.06.16.22.16;	author leith;	state Exp;
branches;
next	1.55;

1.55
date	2004.04.26.13.42.57;	author leith;	state Exp;
branches;
next	1.54;

1.54
date	2004.01.21.22.29.29;	author pawel;	state Exp;
branches;
next	1.53;

1.53
date	2003.12.03.16.31.27;	author leith;	state Exp;
branches;
next	1.52;

1.52
date	2003.06.02.14.23.17;	author leith;	state Exp;
branches;
next	1.51;

1.51
date	2003.05.30.19.19.40;	author leith;	state Exp;
branches;
next	1.50;

1.50
date	2003.05.30.18.25.13;	author leith;	state Exp;
branches;
next	1.49;

1.49
date	2003.03.17.18.28.48;	author bimal;	state Exp;
branches;
next	1.48;

1.48
date	2002.10.31.19.23.24;	author leith;	state Exp;
branches;
next	1.47;

1.47
date	2002.05.10.19.04.22;	author pawel;	state Exp;
branches;
next	1.46;

1.46
date	2002.05.02.22.31.18;	author pawel;	state Exp;
branches;
next	1.45;

1.45
date	2001.07.27.17.24.33;	author leith;	state Exp;
branches;
next	1.44;

1.44
date	2001.04.18.18.15.19;	author leith;	state Exp;
branches;
next	1.43;

1.43
date	2001.04.17.20.22.34;	author leith;	state Exp;
branches;
next	1.42;

1.42
date	2001.02.22.14.27.38;	author leith;	state Exp;
branches;
next	1.41;

1.41
date	2001.02.16.17.21.59;	author leith;	state Exp;
branches;
next	1.40;

1.40
date	2000.10.12.18.29.14;	author leith;	state Exp;
branches;
next	1.39;

1.39
date	2000.09.26.18.29.14;	author leith;	state Exp;
branches;
next	1.38;

1.38
date	2000.09.19.19.58.54;	author leith;	state Exp;
branches;
next	1.37;

1.37
date	2000.09.18.18.38.49;	author leith;	state Exp;
branches;
next	1.36;

1.36
date	2000.08.08.18.13.44;	author leith;	state Exp;
branches;
next	1.35;

1.35
date	2000.04.14.13.38.22;	author bimal;	state Exp;
branches;
next	1.34;

1.34
date	2000.03.22.14.27.36;	author leith;	state Exp;
branches;
next	1.33;

1.33
date	2000.03.06.19.53.27;	author leith;	state Exp;
branches;
next	1.32;

1.32
date	99.12.27.18.55.42;	author pawel;	state Exp;
branches;
next	1.31;

1.31
date	99.12.14.17.54.42;	author pawel;	state Exp;
branches;
next	1.30;

1.30
date	99.11.10.13.25.15;	author leith;	state Exp;
branches;
next	1.29;

1.29
date	99.06.22.19.51.59;	author leith;	state Exp;
branches;
next	1.28;

1.28
date	99.03.30.18.53.32;	author leith;	state Exp;
branches;
next	1.27;

1.27
date	99.03.30.18.37.27;	author leith;	state Exp;
branches;
next	1.26;

1.26
date	99.03.30.17.39.41;	author leith;	state Exp;
branches;
next	1.25;

1.25
date	98.12.23.16.17.02;	author pawel;	state Exp;
branches;
next	1.24;

1.24
date	98.09.11.15.44.05;	author leith;	state Exp;
branches;
next	1.23;

1.23
date	98.08.24.15.57.28;	author leith;	state Exp;
branches;
next	1.22;

1.22
date	98.08.20.12.28.17;	author leith;	state Exp;
branches;
next	1.21;

1.21
date	98.03.09.14.25.35;	author pawel;	state Exp;
branches;
next	1.20;

1.20
date	98.02.06.19.49.37;	author pawel;	state Exp;
branches;
next	1.19;

1.19
date	97.11.06.16.52.02;	author pawel;	state Exp;
branches;
next	1.18;

1.18
date	97.11.06.16.27.51;	author pawel;	state Exp;
branches;
next	1.17;

1.17
date	97.09.11.15.02.49;	author leith;	state Exp;
branches;
next	1.16;

1.16
date	97.05.29.20.02.51;	author leith;	state Exp;
branches;
next	1.15;

1.15
date	97.03.17.16.06.36;	author leith;	state Exp;
branches;
next	1.14;

1.14
date	97.02.14.17.13.30;	author leith;	state Exp;
branches;
next	1.13;

1.13
date	96.11.25.19.30.00;	author leith;	state Exp;
branches;
next	1.12;

1.12
date	96.10.22.15.18.09;	author pawel;	state Exp;
branches;
next	1.11;

1.11
date	96.09.25.16.23.15;	author leith;	state Exp;
branches;
next	1.10;

1.10
date	96.09.19.18.28.04;	author leith;	state Exp;
branches;
next	1.9;

1.9
date	96.04.24.13.49.49;	author mladjadj;	state Exp;
branches;
next	1.8;

1.8
date	96.04.23.14.45.04;	author mladjadj;	state Exp;
branches;
next	1.7;

1.7
date	95.09.12.20.29.38;	author mladjadj;	state Exp;
branches;
next	1.6;

1.6
date	95.03.06.13.57.36;	author leith;	state Exp;
branches;
next	1.5;

1.5
date	94.11.28.12.06.46;	author mladjadj;	state Exp;
branches;
next	1.4;

1.4
date	94.11.17.19.26.47;	author mladjadj;	state Exp;
branches;
next	1.3;

1.3
date	94.11.17.13.53.40;	author michael;	state Exp;
branches;
next	1.2;

1.2
date	94.05.13.14.12.05;	author leith;	state Exp;
branches;
next	1.1;

1.1
date	94.05.13.12.53.30;	author leith;	state Exp;
branches;
next	;


desc
@unix specific source code with preprocessor lines
@


1.89
log
@added 'ri'
@
text
@C++*********************************************************************
C
C TSWITCH.F               FILENAMES LENGTHENED           JAN 89 al
C                         REWRITTEN                      MAR 90 al
C                         REWRITTEN                      MAR 93 al
C                         ADDED   'IQ'                   SEP 97 al
C                         ADDED   'AF'                   FEB 98 pap
C                         REMOVED 'PR'                   AUG 98 al
C                         ADDED   'IA'                   SEP 98 al
C                         ADDED   'NE'                   JUN 99 al
C                         ADDED   'FV'                   DEC 99 pap
C                         ADDED   'SO'                   MAR 00 al
C                         ADDED   'ER'                   FEB 01 al
C                         ADDED   'EV'                   APR 01 al
C                         ADDED   'PI'                   JUL 01 al
C                         ADDED   'VA'                   MAY 02 pap
C                         ADDED   'SN'                   MAY 02 pap
C                         ADDED   'LA'                   OCT 02 al
C                         ADDED   'MX'                   MAR 03 br
C                         ADDED   'DIV'  FOR 'MU D   '   MAY 03 al
C                         ADDED   'SQRT' FOR 'WU'        MAY 03 al
C                         MOVED   'MD' TO SPIDER         DEC 03 al
C                         ADDED   'PB'                   JAN 04 pap
C                         ADDED   'WA'                   APR 04 al
C                         ADDED   'SY'                   APR 05 al
C                         ADDED   'TS'                   SEP 05 al
C                         ADDED   'DV'                   NOV 05 al
C                         REMOVED REG_READPQ             NOV 05 al
C                         RENAMED 'PB ..'                SEP 06 al
C                         ADDED   'RB ..'                DEC 06 al
C                         ADDED   'BPD ..'               JAN 07 al
C                         ADDED   'RTD ..'               JAN 07 al
C                         'BPD --> BP, BP --> OLD'       JUN 08 al
C                         'LO'                           JUL 08 al
C                         'XM'                           DEC 10 al
C                         'DN'                           FEB 11 al
C                         'ROT'                          SEP 11 al
C                         'IQ VER'                       JAN 12 al
C                         ADDED 'CENT' UTIL_1011         FEB 12 al
C                         ADDED 'FSC','FRC'              FEB 12 al
C                         'VM'='SYS'                     MAR 12 al
C                         ADDED UTIL8 'SH' 23            MAR 12 al
C                         REMOVED 'CTF'                  MAY 12 al
C                         REPLACED 'CTF'                 JUN 12 al
C                         'SPH'                          FEB 13 al
C                         'HIS'                          AUG 13 al
C                         'DIS'                          JAN 15 al
C                         'ML'                           JAN 15 al
C                         'RI'                           APR 16 al
C **********************************************************************
C=*                                                                    *
C=* This file is part of:   SPIDER - Modular Image Processing System.  *
C=* SPIDER System Authors:  Joachim Frank & ArDean Leith               *
C=* Copyright 1985-2016  Health Research Inc.,                         *
C=* Riverview Center, 150 Broadway, Suite 560, Menands, NY 12204.      *
C=* Email: spider@@wadsworth.org                                        *
C=*                                                                    *
C=* SPIDER is free software; you can redistribute it and/or            *
C=* modify it under the terms of the GNU General Public License as     *
C=* published by the Free Software Foundation; either version 2 of the *
C=* License, or (at your option) any later version.                    *
C=*                                                                    *
C=* SPIDER is distributed in the hope that it will be useful,          *
C=* but WITHOUT ANY WARRANTY; without even the implied warranty of     *
C=* merchantability or fitness for a particular purpose.  See the GNU  *
C=* General Public License for more details.                           *
C=* You should have received a copy of the GNU General Public License  *
C=* along with this program. If not, see <http://www.gnu.org/licenses> *
C=*                                                                    *
C **********************************************************************
C
C     TSWITCH(IWHICH,ICOM,MAXDIM,IRTFLG)
C
C     PURPOSE:     SELECTS CORRECT TASK LEVEL CALLING ROUTINE
C
C     PARAMETERS:  IWHICH     TASK LEVEL SELECTION NUMBER    (RETURNED)
C                  ICOM       COMMAND NUMBER                 (RETURNED)
C                  MAXDIM     MAX. SIZE OF COMMON BUFFER     (SENT)
C                  IRTFLG     ERROR FLAG                     (RETURNED)
C
c    NOTE:         TO ADD A NEW COMMAND:
C                  1) INCREMENT NMENU PARAMETER
C                  2) NEW OPERATIONS WHICH DO NOT HAVE ANY SHORT 
C                     OPERATION, SHOULD USE A NUMBER FOR THE SHORT 
C                     OPERATION (TO SAVE REMAINING 2 LETTER SHORT
C                     OPERATIONS FOR THE FUTURE). 
C                  3) PLACE LONG OPERATION IN MENUL(NMENU), SHORT 
C                     OPERATION IN MENU AND THE CORRESPONDING 
C                     SUBROUTINE NUMBER IN IW(NMENU).  
C                  4) UPDATE THE OPERATIONS HANDLED TABLE DIRECTLY BELOW.
C                  5) ADD NEW NUMBER TO GOTO IF YOU HAVE ADDED A NEW
C                     MAIN SUBROUTINE
C                  6) EDIT CORRESPONDING SUBROUTINE TO ADD THE NECESSARY
C                     LISTING TO ITS MENU AND THE NECESSARY CALLS. THE 
C                     OPERATION SENT TO THE SUBROUTINE WILL BE THE 2
C                     CHAR. SHORT OPERATION AT ALL TIMES!  THE LONG
C                     OPERATION IS AVAILABLE IN COMMON /SP_OPER/
C
C     CODE      CALLER          OPERATIONS HANDLED
C	1	UTIL1		DE DU FI HI HD LI MO PK RA RN
C				TT ST TF FS CA GR CG CV CL CTF HIS
C	2	UTIL2		AD BL CP IN IP MU PA PD SQ SU DIV
C				WI CE AR MR DF MA WV PP SZ WU MM CM 
C				PV NK AS MN TH GP RP MX SQRT 14
C	3	UTIL3		AF ED RC RT BC CT OR FC SL RO OD MK OP
C                               RTD
C                               DI ER
C	4	CORR1		AC CC CN
C	5	UTIL7		XM DN
C	6	FOUR1		FT PW FF FL FP EF RF GF RD CF FQ FD LO
C	7	PLOT1		CO PF PL CS
C	8	TVWN1          	WT (REMOVED JAN 2012)
C	9	UTIL4		AP HF AT MS IQ NEG VA SN
C	10	UTIL5		RM
C	11	PLOT2		TP
C	12	VTIL2		PS SK PJ BP DC DR MF RB 
C	13	VTIL3		SF SC PH TA SI CR SP ML
C	14	CONF1		CI EP RS PT
C       15      DRIV1           NC VM ME CK TM SR RR PO SA VO AA FR DV
C                               EV PDB   RI
C       16      DRIV2           TV SE WA TS
C       17      DRIV3           UD LD SD SY      
C       18      SPIDER          EN DO LB EX RE IF GO MD OF
C       19      UTIL6		EC IA SO FV TS XM
C       20      MOD1            MY 
C       21      DOCS1           DOC
C       22      MOTIF1          LO
C       23      UTIL_1011       CEN
C       24      UTIL_1110       SH
C       25      UTIL_1010       NORM
C
C  156 DV unused nov 2005
C23456789012345678901234567890123456789012345678901234567890123456789012
C--*********************************************************************

      SUBROUTINE TSWITCH(IWHICH,ICOM,MAXDIM,IRTFLG)

      INCLUDE 'CMBLOCK.INC'

      CHARACTER (LEN=20) :: FCHARS
      COMMON /SP_OPER/      FCHARS

C     NUMBER OF OPERATIONS IN MENU 
      INTEGER, PARAMETER :: NMENU = 172 ! HIGHEST 2 CHAR NUMBER=30

      CHARACTER(LEN=2)   :: MENU(NMENU)
      CHARACTER(LEN=12)  :: MENUL(NMENU)
      INTEGER            :: IW(NMENU)
    
      DATA MENU(124), MENUL(124), IW(124) /'AA','  ',15/
      DATA MENU(1),   MENUL(1),   IW(1)   /'AC','  ',4/
      DATA MENU(2),   MENUL(2),   IW(2)   /'AD','ADD',2/
      DATA MENU(136), MENUL(136), IW(136) /'AF','  ',3/
      DATA MENU(3),   MENUL(3),   IW(3)   /'AP','  ',9/
      DATA MENU(4),   MENUL(4),   IW(4)   /'AR','  ',2/
      DATA MENU(5),   MENUL(5),   IW(5)   /'AS','  ',2/
      DATA MENU(129), MENUL(129), IW(129) /'AT','  ',9/
      DATA MENU(6),   MENUL(6),   IW(6)   /'BC','  ',3/
      DATA MENU(7),   MENUL(7),   IW(7)   /'BL','BLANK',2/
      DATA MENU(8),   MENUL(8),   IW(8)   /'BP','  ',12/
      DATA MENU(9),   MENUL(9),   IW(9)   /'CA','  ',1/
      DATA MENU(10),  MENUL(10),  IW(10)  /'CC','  ',4/
      DATA MENU(11),  MENUL(11),  IW(11)  /'CE','  ',2/
      DATA MENU(163), MENUL(163), IW(163) /'15','CENTER',23/
      DATA MENU(12),  MENUL(12),  IW(12)  /'CF','  ',6/
      DATA MENU(13),  MENUL(13),  IW(13)  /'CG','  ',1/
      DATA MENU(14),  MENUL(14),  IW(14)  /'CI','  ',14/
      DATA MENU(15),  MENUL(15),  IW(15)  /'CK','  ',15/
      DATA MENU(125), MENUL(125), IW(125) /'CL','  ',1/
      DATA MENU(16),  MENUL(16),  IW(16)  /'CM','  ',2/
      DATA MENU(17),  MENUL(17),  IW(17)  /'CN','  ',4/
      DATA MENU(18),  MENUL(18),  IW(18)  /'CO','  ',7/
      DATA MENU(19),  MENUL(19),  IW(19)  /'CP','COPY',2/
      DATA MENU(20),  MENUL(20),  IW(20)  /'CR','  ',13/
      DATA MENU(21),  MENUL(21),  IW(21)  /'CS','  ',7/
      DATA MENU(22),  MENUL(22),  IW(22)  /'CT','  ',3/
      DATA MENU(166), MENUL(166), IW(166) /'18','CTF',1/
      DATA MENU(23),  MENUL(23),  IW(23)  /'CV','  ',1/
      DATA MENU(24),  MENUL(24),  IW(24)  /'DC','  ',12/
      DATA MENU(25),  MENUL(25),  IW(25)  /'DE','  ',1/
      DATA MENU(26),  MENUL(26),  IW(26)  /'DF','  ',2/
      DATA MENU(142), MENUL(142), IW(142) /'DI','  ',3/
      DATA MENU(152), MENUL(152), IW(152) /'12','DIV',2/
      DATA MENU(170), MENUL(170), IW(170) /'30','DIS',2/
      DATA MENU(161), MENUL(161), IW(161) /'DN','  ',5/
      DATA MENU(118), MENUL(118), IW(118) /'DO','  ',18/
      DATA MENU(139), MENUL(139), IW(139) /'11','DOC',21/
      DATA MENU(27),  MENUL(27),  IW(27)  /'DR','  ',12/
      DATA MENU(28),  MENUL(28),  IW(28)  /'DU','  ',1/
      DATA MENU(156), MENUL(156), IW(156) /'DV','  ',15/
      DATA MENU(128), MENUL(128), IW(128) /'EC','  ',19/
      DATA MENU(29),  MENUL(29),  IW(29)  /'ED','  ',3/
      DATA MENU(30),  MENUL(30),  IW(30)  /'EF','  ',6/
      DATA MENU(117), MENUL(117), IW(117) /'EN','END',18/
      DATA MENU(31),  MENUL(31),  IW(31)  /'EP','  ',14/
      DATA MENU(145), MENUL(145), IW(145) /'ER','  ',3/
      DATA MENU(146), MENUL(146), IW(146) /'EV','  ',15/
      DATA MENU(119), MENUL(119), IW(119) /'EX','  ',18/
      DATA MENU(32),  MENUL(32),  IW(32)  /'FC','  ',3/
      DATA MENU(131), MENUL(131), IW(131) /'FD','  ',6/
      DATA MENU(33),  MENUL(33),  IW(33)  /'FF','  ',6/
      DATA MENU(34),  MENUL(34),  IW(34)  /'FI','  ',1/
      DATA MENU(35),  MENUL(35),  IW(35)  /'FL','  ',6/
      DATA MENU(36),  MENUL(36),  IW(36)  /'FP','  ',6/
      DATA MENU(37),  MENUL(37),  IW(37)  /'FQ','  ',6/
      DATA MENU(38),  MENUL(38),  IW(38)  /'FR','  ',15/
      DATA MENU(165), MENUL(165), IW(165) /'17','FRC',6/
      DATA MENU(39),  MENUL(39),  IW(39)  /'FS','  ',1/
      DATA MENU(164), MENUL(164), IW(164) /'16','FSC',6/
      DATA MENU(40),  MENUL(40),  IW(40)  /'FT','  ',6/
      DATA MENU(141), MENUL(141), IW(141) /'FV','  ',19/
      DATA MENU(41),  MENUL(41),  IW(41)  /'GF','  ',6/
      DATA MENU(130), MENUL(130), IW(130) /'GO','  ',18/
      DATA MENU(42),  MENUL(42),  IW(42)  /'GP','  ',2/
      DATA MENU(43),  MENUL(43),  IW(43)  /'GR','  ',1/
      DATA MENU(137), MENUL(137), IW(137) /'HD','  ',1/
      DATA MENU(44),  MENUL(44),  IW(44)  /'HI','  ',1/
      DATA MENU(169), MENUL(169), IW(169) /'20','HIS',1/
      DATA MENU(126), MENUL(126), IW(126) /'HF','  ',9/
      DATA MENU(121), MENUL(121), IW(121) /'IF','  ',18/
      DATA MENU(71),  MENUL(71),  IW(71)  /'IA','  ',19/
      DATA MENU(45),  MENUL(45),  IW(45)  /'IN','  ',2/
      DATA MENU(46),  MENUL(46),  IW(46)  /'IP','INTERP',2/
      DATA MENU(134), MENUL(134), IW(134) /'IQ','  ',9/
      DATA MENU(150), MENUL(150), IW(150) /'LA','  ',19/
      DATA MENU(122), MENUL(122), IW(122) /'LB','  ',18/
      DATA MENU(47),  MENUL(47),  IW(47)  /'LD','  ',17/
      DATA MENU(48),  MENUL(48),  IW(48)  /'LI','LIST',1/
      DATA MENU(159), MENUL(159), IW(159) /'LO','LOC',22/
      DATA MENU(49),  MENUL(49),  IW(49)  /'MA','  ',2/
      DATA MENU(50),  MENUL(50),  IW(50)  /'WA','WARP',16/
      DATA MENU(51),  MENUL(51),  IW(51)  /'ME','MENU',15/
      DATA MENU(52),  MENUL(52),  IW(52)  /'MF','  ',12/
      DATA MENU(123), MENUL(123), IW(123) /'MK','  ',3/
      DATA MENU(171), MENUL(171), IW(171) /'ML','  ',13/
      DATA MENU(53),  MENUL(53),  IW(53)  /'MM','  ',2/
      DATA MENU(54),  MENUL(54),  IW(54)  /'MN','  ',2/
      DATA MENU(55),  MENUL(55),  IW(55)  /'MO','MODEL',1/
      DATA MENU(56),  MENUL(56),  IW(56)  /'MR','  ',2/
      DATA MENU(132), MENUL(132), IW(132) /'MS','  ',9/
      DATA MENU(57),  MENUL(57),  IW(57)  /'MU','MULT',2/
      DATA MENU(151), MENUL(151), IW(151) /'MX','  ',2/
      DATA MENU(133), MENUL(133), IW(133) /'MY','  ',20/
      DATA MENU(58),  MENUL(58),  IW(58)  /'NC','  ',15/
      DATA MENU(140), MENUL(140), IW(140) /'NE','NEG',9/
      DATA MENU(59),  MENUL(59),  IW(59)  /'NK','  ',2/
      DATA MENU(167), MENUL(167), IW(167) /'NO','NORM',25/
      DATA MENU(60),  MENUL(60),  IW(60)  /'OD','  ',3/
      DATA MENU(138), MENUL(138), IW(138) /'OP','  ',3/
      DATA MENU(61),  MENUL(61),  IW(61)  /'OR','  ',3/
      DATA MENU(62),  MENUL(62),  IW(62)  /'PA','PATCH',2/
      DATA MENU(153), MENUL(153), IW(153) /'PB','PDB',15/
      DATA MENU(63),  MENUL(63),  IW(63)  /'PD','PAD',2/
      DATA MENU(64),  MENUL(64),  IW(64)  /'PF','  ',7/
      DATA MENU(65),  MENUL(65),  IW(65)  /'PH','  ',13/
      DATA MENU(147), MENUL(147), IW(147) /'PI','  ',15/
      DATA MENU(66),  MENUL(66),  IW(66)  /'PJ','PROJ',12/
      DATA MENU(67),  MENUL(67),  IW(67)  /'PK','  ',1/
      DATA MENU(68),  MENUL(68),  IW(68)  /'PL','  ',7/
      DATA MENU(69),  MENUL(69),  IW(69)  /'PO','  ',15/
      DATA MENU(70),  MENUL(70),  IW(70)  /'PP','  ',2/
      DATA MENU(72),  MENUL(72),  IW(72)  /'PS','  ',12/
      DATA MENU(73),  MENUL(73),  IW(73)  /'PT','  ',14/
      DATA MENU(74),  MENUL(74),  IW(74)  /'PV','  ',2/
      DATA MENU(75),  MENUL(75),  IW(75)  /'PW','  ',6/
      DATA MENU(76),  MENUL(76),  IW(76)  /'RA','  ',1/
      DATA MENU(157), MENUL(157), IW(157) /'RB','  ',12/
      DATA MENU(77),  MENUL(77),  IW(77)  /'RC','  ',3/
      DATA MENU(78),  MENUL(78),  IW(78)  /'RD','  ',6/
      DATA MENU(120), MENUL(120), IW(120) /'RE','RETURN',18/
      DATA MENU(79),  MENUL(79),  IW(79)  /'RF','  ',6/
      DATA MENU(80),  MENUL(80),  IW(80)  /'RM','  ',10/
      DATA MENU(81),  MENUL(81),  IW(81)  /'RN','  ',1/
      DATA MENU(162), MENUL(162), IW(162) /'14','ROT',3/
      DATA MENU(82),  MENUL(82),  IW(82)  /'RO','  ',3/
      DATA MENU(135), MENUL(135), IW(135) /'RP','  ',2/
      DATA MENU(172), MENUL(172), IW(172) /'RI','  ',15/
      DATA MENU(83),  MENUL(83),  IW(83)  /'RR','  ',15/
      DATA MENU(84),  MENUL(84),  IW(84)  /'RS','  ',14/
      DATA MENU(85),  MENUL(85),  IW(85)  /'RT','  ',3/
      DATA MENU(158), MENUL(158), IW(158) /'13','RTD',3/
      DATA MENU(86),  MENUL(86),  IW(86)  /'SA','  ',15/
      DATA MENU(87),  MENUL(87),  IW(87)  /'SC','  ',13/
      DATA MENU(88),  MENUL(88),  IW(88)  /'SD','SAVE',17/
      DATA MENU(127), MENUL(127), IW(127) /'SE','  ',16/
      DATA MENU(89),  MENUL(89),  IW(89)  /'SF','  ',13/
      DATA MENU(90),  MENUL(90),  IW(90)  /'SH','SHIFT',24/
      DATA MENU(91),  MENUL(91),  IW(91)  /'SI','  ',13/
      DATA MENU(92),  MENUL(92),  IW(92)  /'SK','  ',12/
      DATA MENU(93),  MENUL(93),  IW(93)  /'SL','  ',3/
      DATA MENU(149), MENUL(149), IW(149) /'SN','  ',9/
      DATA MENU(144), MENUL(144), IW(144) /'SO','  ',19/
      DATA MENU(168), MENUL(168), IW(168) /'19','SPH',13/
      DATA MENU(94),  MENUL(94),  IW(94)  /'SP','  ',13/
      DATA MENU(95),  MENUL(95),  IW(95)  /'SQ','  ',2/
      DATA MENU(96),  MENUL(96),  IW(96)  /'SR','  ',15/
      DATA MENU(97),  MENUL(97),  IW(97)  /'ST','SET',1/
      DATA MENU(98),  MENUL(98),  IW(98)  /'SU','SUB',2/
      DATA MENU(154), MENUL(154), IW(154) /'SY','  ',17/
      DATA MENU(99),  MENUL(99),  IW(99)  /'SZ','  ',2/
      DATA MENU(100), MENUL(100), IW(100) /'TA','  ',13/
      DATA MENU(101), MENUL(101), IW(101) /'TF','  ',1/
      DATA MENU(102), MENUL(102), IW(102) /'TH','  ',2/
      DATA MENU(103), MENUL(103), IW(103) /'TM','  ',15/
      DATA MENU(105), MENUL(105), IW(105) /'TP','  ',11/
      DATA MENU(106), MENUL(106), IW(106) /'TR','  ',5/
      DATA MENU(155), MENUL(155), IW(155) /'TS','  ',16/
      DATA MENU(107), MENUL(107), IW(107) /'TT','  ',1/
      DATA MENU(108), MENUL(108), IW(108) /'TV','  ',16/
      DATA MENU(109), MENUL(109), IW(109) /'TW','  ',5/
      DATA MENU(110), MENUL(110), IW(110) /'UD','UNSAVE',17/
      DATA MENU(148), MENUL(148), IW(148) /'VA','  ',9/
      DATA MENU(111), MENUL(111), IW(111) /'VM','SYS',15/
      DATA MENU(112), MENUL(112), IW(112) /'VO','  ',15/
      DATA MENU(113), MENUL(113), IW(113) /'WI','WINDOW',2/
      DATA MENU(114), MENUL(114), IW(114) /'WT','  ',8/
      DATA MENU(115), MENUL(115), IW(115) /'WU','SQRT',2/
      DATA MENU(116), MENUL(116), IW(116) /'WV','  ',2/
      DATA MENU(160), MENUL(160), IW(160) /'XM','  ',5/

      IRTFLG   = 0
      ICOM     = 0
      NLETOP1  = LNBLNKN(FCHAR)
      IF (NLETOP1 <= 0) THEN
         IRTFLG = 1
         RETURN
      ENDIF
      IGO      = INDEX(FCHAR(1:NLETOP1),' ')
      IF (IGO > 1) NLETOP1 = IGO - 1
 
      IF (NLETOP1 == 2) THEN
C        TWO LETTER OPERATION
         DO I = 1,NMENU
            IF (FCHAR(1:2) == MENU(I)(1:2)) THEN
               ICOM   = I
               IWHICH = IW(I)
               FCHARS(1:3) = FCHAR(1:2) // CHAR(0)
            ENDIF
         ENDDO
      ENDIF

      IF (ICOM == 0) THEN
C       OPERATION NOT FOUND IN THE SHORT OPERATION MENU

        LENOP = INDEX(FCHAR,' ') - 1
        IF (LENOP == 0) LENOP = INDEX(FCHAR,CHAR(0)) - 1
        IF (LENOP == 0) LENOP = LEN(FCHAR) - 1
        
        DO I = 1,NMENU
           IF (FCHAR(1:LENOP) == MENUL(I)(1:LENOP)) THEN
              IF (ICOM > 0) THEN
                 ICOM   = 0
                 IWHICH = 0
                 CALL ERRT(101, 
     &            '*** AMBIGUOUS OPERATION - SUPPLY MORE CHARACTERS.',N)
                 IRTFLG = 1
                 RETURN
              ENDIF
              ICOM   = I
              IWHICH = IW(I)
            ENDIF
        ENDDO

        IF (ICOM > 0) THEN
C          SAVE OPERATION IN FCHARS
           FCHARS = FCHAR(1:LENOP) // CHAR(0)

C          SET FCHAR TO SHORT MENU OPERATION
           FCHAR(1:3) = MENU(ICOM)(1:2) // ' '

C          MOVE SUBOPTIONS TO POSITION 4 IN FCHAR
           FCHAR(4:) = FCHAR(LENOP+2:)
        ENDIF
      ENDIF

      IF (ICOM == 0) THEN
         IRTFLG = 1
         RETURN
      ENDIF

      
C     SOME OPERATIONS SHOULD BE SILENT IN BATCH MODE IF .NOT. VERBOSE
      IF ((ICOM == 88 .OR. ICOM == 110) .AND. .NOT. VERBOSE) THEN
         SILENT = .TRUE.
      ELSE
         SILENT = .FALSE.
      ENDIF
    
      SELECT CASE(IWHICH)

      CASE(1)
         IF (FCHAR(1:2) == 'PR') THEN
            CALL ERRT(101,'OBSOLETE OPERATION REMOVED',NE)
         ELSE
            CALL UTIL1(MAXDIM,IRTFLG)
            IF (IRTFLG == 1) THEN
C              used "FI" instead of "FR"
               FCHAR = 'FR'
               RETURN 
            ENDIF
         ENDIF

      CASE(2)
         CALL UTIL2(MAXDIM) 

      CASE(3)
         CALL UTIL3(MAXDIM) 

      CASE(4)
         CALL CORR1

      CASE(5)
         CALL UTIL7()

      CASE(6)
         CALL FOUR1(MAXDIM) 

      CASE(7)
         CALL PLOT1(MAXDIM) 

      CASE(8)
         IF (FCHAR(4:4) == 'T') THEN
            CALL DRIV2(MAXDIM)
         ENDIF

      CASE(9)
         IF (FCHAR(1:6) == 'IQ VER') THEN
            IRTFLG = 2 
         ELSE
            CALL UTIL4(MAXDIM)  
         ENDIF

      CASE(10)
         CALL UTIL5(MAXDIM) 

      CASE(11)
         CALL PLOT2(MAXDIM) 

      CASE(12)
         CALL VTIL2(MAXDIM) 

      CASE(13)
         CALL VTIL3(MAXDIM) 

      CASE(14)
         CALL CONF1(MAXDIM) 

      CASE(15)
         CALL DRIV1(MAXDIM)

      CASE(16)
         CALL DRIV2(MAXDIM)

      CASE(17)
         CALL DRIV3(MAXDIM)

      CASE(18)
C        SPECIAL CASE FOR OPERATIONS IN SPIDER
         IRTFLG = 2

      CASE(19)      
         CALL UTIL6(MAXDIM)

      CASE(20)
         CALL MOD1(MAXDIM)

      CASE(21)
         CALL DOCS1(MAXDIM)

      CASE(22)
         CALL MOTIF1()

      CASE(23)
         CALL UTIL_1011()

      CASE(24)
          CALL UTIL_1110()

      CASE(25)
          CALL UTIL_1010()

      END SELECT

      END
@


1.88
log
@added "ML"
@
text
@d49 1
d54 1
a54 1
C=* Copyright 1985-2015  Health Research Inc.,                         *
d99 1
a99 1
C     CODE      CALLER               OPERATIONS HANDLED
d120 1
a120 1
C                               EV PDB
d144 1
a144 1
      INTEGER, PARAMETER :: NMENU = 171 ! HIGHEST 2 CHAR NUMBER=30
d277 1
@


1.87
log
@'DIS' for (30) added
@
text
@d48 1
d116 1
a116 1
C	13	VTIL3		SF SC PH TA SI CR SP
d143 1
a143 1
      INTEGER, PARAMETER :: NMENU = 170 ! HIGHEST 2 CHAR NUMBER=30
d234 1
@


1.86
log
@for 'HIS'
@
text
@d47 1
d52 1
a52 1
C=* Copyright 1985-2013  Health Research Inc.,                         *
d142 1
a142 1
      INTEGER, PARAMETER :: NMENU = 169 ! HIGHEST 2 CHAR NUMBER=29
d182 1
d388 1
a388 1
         IF (FCHAR(1:2) .EQ. 'PR') THEN
d392 1
a392 1
            IF (IRTFLG .EQ. 1) THEN
d418 1
a418 1
         IF (FCHAR(4:4) .EQ. 'T') THEN
@


1.85
log
@sph == 19 added
@
text
@d46 1
d98 1
a98 1
C				TT ST TF FS CA GR CG CV CL CTF
d141 1
a141 1
      INTEGER, PARAMETER :: NMENU = 168 ! HIGHEST 2 CHAR NUMBER=19
d214 1
d345 1
a345 1
              IF (ICOM .GT. 0) THEN
d358 1
a358 1
        IF (ICOM .GT. 0) THEN
a476 2

      RETURN
@


1.84
log
@added 'NO'
@
text
@d3 43
a45 42
C TSWITCH.F                  FILENAMES LENGTHENED        JAN 89 al
C                            REWRITTEN                   MAR 90 al
C                            REWRITTEN                   MAR 93 al
C                            ADDED   'IQ'                SEP 97 al
C                            ADDED   'AF'                FEB 98 pap
C                            REMOVED 'PR'                AUG 98 al
C                            ADDED   'IA'                SEP 98 al
C                            ADDED   'NE'                JUN 99 al
C                            ADDED   'FV'                DEC 99 pap
C                            ADDED   'SO'                MAR 00 al
C                            ADDED   'ER'                FEB 01 al
C                            ADDED   'EV'                APR 01 al
C                            ADDED   'PI'                JUL 01 al
C                            ADDED   'VA'                MAY 02 pap
C                            ADDED   'SN'                MAY 02 pap
C                            ADDED   'LA'                OCT 02 al
C                            ADDED   'MX'                MAR 03 br
C                            ADDED   'DIV'  FOR 'MU D'   MAY 03 al
C                            ADDED   'SQRT' FOR 'WU'     MAY 03 al
C                            MOVED   'MD' TO SPIDER      DEC 03 al
C                            ADDED   'PB'                JAN 04 pap
C                            ADDED   'WA'                APR 04 al
C                            ADDED   'SY'                APR 05 al
C                            ADDED   'TS'                SEP 05 al
C                            ADDED   'DV'                NOV 05 al
C                            REMOVED REG_READPQ          NOV 05 al
C                            RENAMED 'PB ..'             SEP 06 al
C                            ADDED   'RB ..'             DEC 06 al
C                            ADDED   'BPD ..'            JAN 07 al
C                            ADDED   'RTD ..'            JAN 07 al
C                            'BPD --> BP, BP --> OLD'    JUN 08 al
C                            'LO'                        JUL 08 al
C                            'XM'                        DEC 10 al
C                            'DN'                        FEB 11 al
C                            'ROT'                       SEP 11 al
C                            'IQ VER'                    JAN 12 al
C                            ADDED 'CENT' UTIL_1011      FEB 12 al
C                            ADDED 'FSC','FRC'           FEB 12 al
C                            'VM'='SYS'                  MAR 12 al
C                            ADDED UTIL8 'SH' 23         MAR 12 al
C                            REMOVED 'CTF'               MAY 12 al
C                            REPLACED 'CTF'              JUN 12 al
d50 1
a50 1
C=* Copyright 1985-2012  Health Research Inc.,                         *
d140 1
a140 1
      INTEGER, PARAMETER :: NMENU = 167 ! HIGHEST 2 CHAR NUMBER=18
d285 1
@


1.83
log
@spi ; make -f Makefile_linux_mp_opt64
added ctf op
@
text
@d125 1
d139 1
a139 1
      INTEGER, PARAMETER :: NMENU = 166 ! HIGHEST 2 CHAR NUMBER=18
d239 1
d468 3
@


1.82
log
@removed 'CTF'
@
text
@d44 1
d96 1
a96 1
C				TT ST TF FS CA GR CG CV CL
d138 1
a138 1
      INTEGER, PARAMETER :: NMENU = 165 ! HIGHEST 2 CHAR NUMBER=17
d171 1
@


1.81
log
@/'CT','CTF',3/
@
text
@d43 1
a43 1
C                            ADDED 'CTF'                 MAY 12 al
d169 1
a169 1
      DATA MENU(22),  MENUL(22),  IW(22)  /'CT','CTF',3/
@


1.80
log
@added util_1110.f for 'SH'
@
text
@d43 1
d169 1
a169 1
      DATA MENU(22),  MENUL(22),  IW(22)  /'CT','  ',3/
@


1.79
log
@'VM'='SYS'
@
text
@d42 1
d78 1
a78 1
C                     OPERATION (SO AS TO SAVE REMAINING 2 LETTER SHORT
d95 1
a95 1
C	2	UTIL2		AD BL CP IN IP MU PA PD SH SQ SU DIV
d121 2
a122 1
C       23      UTIL8           CEN
d273 1
a273 1
      DATA MENU(90),  MENUL(90),  IW(90)  /'SH','  ',2/
d460 3
@


1.78
log
@added fsc, frc
@
text
@d41 1
d296 1
a296 1
      DATA MENU(111), MENUL(111), IW(111) /'VM','  ',15/
@


1.77
log
@added 'CENT' UTIL_1011
@
text
@d39 2
a40 1
C                            ADDED 'CENT' UTIL_1011      JAN 12 al
d133 1
a133 1
      INTEGER, PARAMETER :: NMENU = 163 
d138 1
a138 1

d194 1
d196 1
d306 1
a306 1
      IF (NLETOP1 .LE. 0) THEN
d311 1
a311 1
      IF (IGO .GT. 1) NLETOP1 = IGO - 1
d313 1
a313 1
      IF (NLETOP1 .EQ. 2) THEN
d316 1
a316 1
            IF (FCHAR(1:2) .EQ. MENU(I)(1:2)) THEN
d324 1
a324 1
      IF (ICOM .EQ. 0) THEN
d328 2
a329 2
        IF (LENOP .EQ. 0) LENOP = INDEX(FCHAR,CHAR(0)) - 1
        IF (LENOP .EQ. 0) LENOP = LEN(FCHAR) - 1
d332 1
a332 1
           IF (FCHAR(1:LENOP) .EQ. MENUL(I)(1:LENOP)) THEN
d358 1
a358 1
      IF (ICOM .EQ. 0) THEN
d365 1
a365 1
      IF ((ICOM .EQ. 88 .OR. ICOM .EQ. 110) .AND. .NOT. VERBOSE) THEN
d381 1
a381 1
               RETURN
@


1.76
log
@removed tvwn1.f
@
text
@d39 1
d118 1
d132 1
a132 1
      INTEGER, PARAMETER :: NMENU = 162 
d152 1
d451 3
@


1.75
log
@ 'IQ VER' special code
@
text
@d101 1
a101 1
C	8	TVWN1          	WT
a399 2
         ELSE
            CALL TVWN1(MAXDIM) 
@


1.74
log
@'ROT' added nmunu 162 as '14'
@
text
@d38 1
d43 1
a43 1
C=* Copyright 1985-2011  Health Research Inc.,                         *
d405 5
a409 1
         CALL UTIL4(MAXDIM)  
@


1.73
log
@removed 'rtk sq'  now 'rt sf'
@
text
@d37 1
d92 1
a92 1
C				PV NK AS MN TH GP RP MX SQRT
d129 1
a129 1
      INTEGER, PARAMETER :: NMENU = 161 
d251 1
@


1.72
log
@rtk added
@
text
@a36 1
C                            'RTK'                       MAY 11 al
d128 1
a128 1
      INTEGER, PARAMETER :: NMENU = 162 
a255 1
      DATA MENU(162), MENUL(162), IW(162) /'14','RTK',3/
@


1.71
log
@added 'DN'
@
text
@d37 1
d129 1
a129 1
      INTEGER, PARAMETER :: NMENU = 161 
d257 1
@


1.70
log
@'XM' in util7
@
text
@d36 1
d41 1
a41 1
C=* Copyright 1985-2010  Health Research Inc.,                         *
d96 1
a96 1
C	5	UTIL7		XM
d128 1
a128 1
      PARAMETER (NMENU = 160) 
d130 3
a132 3
      CHARACTER(LEN=2),  DIMENSION(NMENU) :: MENU
      CHARACTER(LEN=12), DIMENSION(NMENU) :: MENUL
      INTEGER, DIMENSION(NMENU) ::           IW
d166 1
a292 1

@


1.69
log
@GPL_2010
@
text
@d35 1
d95 1
a95 1
C	5	TAPE1		(OBSOLETE)
d110 1
a110 1
C       19      UTIL6		EC IA SO FV TS
d123 2
a124 2
      CHARACTER (LEN=20) ::  FCHARS
      COMMON /SP_OPER/       FCHARS
d127 1
a127 1
      PARAMETER (NMENU = 159) 
d290 1
d385 1
a385 1
         CALL ERRT(100,'OBSOLETE OPERATION',NE)
@


1.68
log
@removed 'VAR'
@
text
@d36 4
a39 2
C=* This file is part of:                                              * C=* SPIDER - Modular Image Processing System.   Author: J. FRANK       *
C=* Copyright 1985-2009  Health Research Inc.,                         *
d50 1
a50 1
C=* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU  *
a51 1
C=*                                                                    *
@


1.67
log
@148) /'OF','OPERFI'
@
text
@a34 1
C                            'VAR'                       NOV 09 al
d125 1
a125 1
      PARAMETER (NMENU = 160) 
a220 1
      DATA MENU(148), MENUL(148), IW(148) /'OF','OPERFI',18/
d281 1
a281 1
      DATA MENU(160), MENUL(160), IW(160) /'VA','  ',9/
@


1.66
log
@added lo calls to motif1
@
text
@d35 1
d37 4
a40 2
C=* FROM: SPIDER - MODULAR IMAGE PROCESSING SYSTEM.   AUTHOR: J.FRANK  *
C=* Copyright (C) 1985-2008  Health Research Inc.                      *
d42 1
a42 6
C=* HEALTH RESEARCH INCORPORATED (HRI),                                *   
C=* ONE UNIVERSITY PLACE, RENSSELAER, NY 12144-3455.                   *
C=*                                                                    *
C=* Email:  spider@@wadsworth.org                                       *
C=*                                                                    *
C=* This program is free software; you can redistribute it and/or      *
d47 1
a47 1
C=* This program is distributed in the hope that it will be useful,    *
d53 1
a53 3
C=* along with this program; if not, write to the                      *
C=* Free Software Foundation, Inc.,                                    *
C=* 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.      *
d108 1
a108 1
C       18      SPIDER          EN DO LB EX RE IF GO MD
d126 1
a126 1
      PARAMETER (NMENU = 159) 
d222 1
d283 1
a283 1
      DATA MENU(148), MENUL(148), IW(148) /'VA','  ',9/
d400 1
a400 1
         CALL UTIL4(MAXDIM) 
@


1.65
log
@'BPD --> BP, BP --> OLD'
@
text
@d34 1
d99 1
a99 1
C	6	FOUR1		FT PW FF FL FP EF RF GF RD CF FQ FD
d116 2
d130 1
a130 1
      PARAMETER (NMENU = 158) 
d208 1
d442 3
@


1.64
log
@BPD & RTD
@
text
@d33 1
a33 1
C
d36 1
a36 1
C=* Copyright (C) 1985-2007  Health Research Inc.                      *
d104 1
a104 1
C	12	VTIL2		PS SK PJ BP DC DR MF RB BPD
d127 1
a127 1
      PARAMETER (NMENU = 159) 
a143 1
      DATA MENU(159), MENUL(159), IW(159) /'14','BPD',12/
@


1.63
log
@RB added
@
text
@d31 2
d94 1
d104 1
a104 1
C	12	VTIL2		PS SK PJ BP DC DR MF RB
d127 1
a127 1
      PARAMETER (NMENU = 157) 
d144 1
d253 1
@


1.62
log
@pdb
@
text
@d30 1
d34 1
a34 1
C=* Copyright (C) 1985-2005  Health Research Inc.                      *
d101 1
a101 1
C	12	VTIL2		PS SK PJ BP DC DR MF
d124 1
a124 1
      PARAMETER (NMENU = 156) 
d237 1
@


1.61
log
@native named registers
@
text
@d29 1
d104 1
a104 1
C                               EV PB
d221 1
a221 1
      DATA MENU(153), MENUL(153), IW(153) /'PB','  ',15/
@


1.60
log
@named register support
@
text
@d28 1
a351 5
      IF (IWHICH .NE. 18) THEN
C        EVALUATE REGISTER FROM OPERATION LINE, EXCEPT FOR DRIVER STUFF
         CALL REG_READPQ(FCHAR)
      ENDIF

@


1.59
log
@GPL License fixed
@
text
@d27 1
d101 1
a101 1
C       15      DRIV1           NC VM ME CK TM SR RR PO SA VO AA FR
d109 1
a109 1
C
d121 1
a121 1
      PARAMETER (NMENU = 155) 
d163 1
@


1.58
log
@HRI GPL License used
@
text
@a1 1
C++*************************************************************************
a28 1
C * SPIDER - MODULAR IMAGE PROCESSING SYSTEM.    AUTHOR: J.FRANK       *
d32 1
a32 1
C=* HEALTH RESEARCH INCORPORATED (HRI),                                *  
a51 6

C * COPYRIGHT (C)1985, 2005. HEALTH RESEARCH INCORPORATED (HRI),       *
C * ONE UNIVERSITY PLACE, RENSSELAER, NY 12144-3455.                   *
C * THE CONTENTS OF THIS DOCUMENT ARE PROPRIETARY TO HRI AND ARE NOT   *
C * TO BE DISCLOSED TO OTHERS OR USED FOR PURPOSES OTHER THAN INTENDED *
C * WITHOUT WRITTEN APPROVAL OF HRI.                                   *
@


1.57
log
@TS for 'to spire'
@
text
@d1 1
d31 24
@


1.56
log
@added sy
@
text
@d6 2
a7 2
C                            ADDED 'IQ'                  SEP 97 al
C                            ADDED 'AF'                  FEB 98 pap
d26 1
d30 1
a30 1
C * COPYRIGHT (C)1985, 2001. HEALTH RESEARCH INCORPORATED (HRI),       *
d85 1
a85 1
C       16      DRIV2           TV SE WA
d88 1
a88 1
C       19      UTIL6		EC IA SO FV
d103 1
a103 1
      PARAMETER (NMENU = 154) 
d217 1
a217 1
      DATA MENU(120),MENUL(120),  IW(120) /'RE','RETURN',18/
d250 1
@


1.55
log
@driv2 has 'WA' , used case
@
text
@a9 1
C                            ADDED                       APR 99 al
d25 1
d85 1
a85 1
C       17      DRIV3           UD LD SD       
d102 1
a102 1
      PARAMETER (NMENU = 153) 
d241 1
@


1.54
log
@PB added to driv1
@
text
@d3 18
a20 18
C TSWITCH.F                  FILENAMES LENGTHENED JAN 89 al
C                            REWRITTEN MAR 90 al
C                            REWRITTEN MAR 93 al
C                            ADDED 'IQ' SEPT 97 al
C                            ADDED 'AF' FEBR 98 pap
C                            REMOVED 'PR' AUG 98 al
C                            ADDED   'IA' SEPT 98 al
C                            ADDED   'DOC' APRIL 99 al
C                            ADDED   'NE'  JUNE 99 al
C                            ADDED   'FV'  DEC 99 pap
C                            ADDED   'SO'  MAR 00 al
C                            ADDED   'ER'  FEB 01 al
C                            ADDED   'EV'  APR 01 al
C                            ADDED   'PI'  JUL 01 al
C                            ADDED   'VA'  MAY 02 pap
C                            ADDED   'SN'  MAY 02 pap
C                            ADDED   'LA'  OCT 02 al
C                            ADDED   'MX'  MAR 03 br
d24 2
a25 1
C                            ADDED   'PB' TO SPIDER      JAN 04 pap
a62 2
C       #50 '99' unused in dec 03 al
C
d72 1
a72 1
C	5	TAPE1		(NO LONGER USED)
d84 1
a84 1
C       16      DRIV2           TV SE
d180 1
a180 1
      DATA MENU(50),  MENUL(50),  IW(50)  /'99','  ',15/
d334 1
a334 2
      GOTO (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
     &      IWHICH
d336 10
a345 9
1     IF (FCHAR(1:2) .EQ. 'PR') THEN
         WRITE(NOUT,*) '*** OBSOLETE OPERATION REMOVED '
         CALL ERRT(100,'TSWITCH',NE)
      ELSE
         CALL UTIL1(MAXDIM,IRTFLG)
         IF (IRTFLG .EQ. 1) THEN
C           used "FI" instead of "FR"
            FCHAR = 'FR'
            RETURN
d347 12
a358 2
      ENDIF
      RETURN 
d360 2
a361 2
2     CALL UTIL2(MAXDIM) 
      RETURN 
d363 2
a364 2
3     CALL UTIL3(MAXDIM) 
      RETURN 
d366 6
a371 14
4     CALL CORR1
      RETURN 

5     IF (FCHAR(4:8) .EQ. 'TDISK') THEN
         WRITE(NOUT,*) '*** RENAMED: CP FROM TR'
         CALL ERRT(100,'TSWITCH',NE)
      ELSEIF (FCHAR(4:7) .EQ. 'DISK') THEN
         WRITE(NOUT,*) '*** RENAMED: CP FROM PE'
         CALL ERRT(100,'TSWITCH',NE)
      ELSE
         WRITE(NOUT,*) '*** TAPE READ / WRITE NO LONGER SUPPORTED'
         CALL ERRT(100,'TSWITCH',NE)
      ENDIF
      RETURN 
d373 2
a374 2
6     CALL FOUR1(MAXDIM) 
      RETURN 
d376 2
a377 2
7     CALL PLOT1(MAXDIM) 
      RETURN 
d379 2
a380 6
8     IF (FCHAR(4:4) .EQ. 'T') THEN
         CALL DRIV2(MAXDIM)
      ELSE
         CALL TVWN1(MAXDIM) 
      ENDIF
      RETURN 
d382 2
a383 2
9     CALL UTIL4(MAXDIM) 
      RETURN 
d385 2
a386 2
10    CALL UTIL5(MAXDIM) 
      RETURN 
d388 2
a389 2
11    CALL PLOT2(MAXDIM) 
      RETURN 
d391 2
a392 2
12    CALL VTIL2(MAXDIM) 
      RETURN 
d394 2
a395 2
13    CALL VTIL3(MAXDIM) 
      RETURN 
d397 2
a398 2
14    CALL CONF1(MAXDIM) 
      RETURN 
d400 3
a402 2
15    CALL DRIV1(MAXDIM)
      RETURN
d404 2
a405 2
16    CALL DRIV2(MAXDIM)
      RETURN
d407 2
a408 2
17    CALL DRIV3(MAXDIM)
      RETURN
d410 2
a411 6
C     SPECIAL CASE FOR OPERATIONS IN SPIDER
18    IRTFLG = 2
      RETURN
      
19    CALL UTIL6(MAXDIM)
      RETURN
d413 1
a413 2
20    CALL MOD1(MAXDIM)
      RETURN
a414 1
21    CALL DOCS1(MAXDIM)
@


1.53
log
@'MD' moved to spider.f
@
text
@d24 1
d84 1
a84 1
C                               EV 
d103 1
a103 1
      PARAMETER (NMENU = 152) 
d200 1
@


1.52
log
@added new operation synonyms (longer)
@
text
@d21 3
a23 2
C                            ADDED   'DIV'  FOR 'MU D'  MAY 03 al
C                            ADDED   'SQRT' FOR 'WU'    MAY 03 al
d61 1
d82 1
a82 1
C       15      DRIV1           NC VM ME CK TM SR RR PO SA VO MD AA FR
d86 1
a86 1
C       18      SPIDER          EN DO LB EX RE IF GO
d180 1
a180 1
      DATA MENU(50),  MENUL(50),  IW(50)  /'MD','  ',15/
@


1.51
log
@div
@
text
@d21 2
a22 2
C                            ADDED   'DIV'  FOR 'MU D'  MAR 03 al
C                            ADDED   'SQRT' FOR 'WU'    MAR 03 al
d108 1
a108 1
      DATA MENU(2),   MENUL(2),   IW(2)   /'AD','  ',2/
d115 1
a115 1
      DATA MENU(7),   MENUL(7),   IW(7)   /'BL','  ',2/
d128 1
a128 1
      DATA MENU(19),  MENUL(19),  IW(19)  /'CP','  ',2/
d145 1
a145 1
      DATA MENU(117), MENUL(117), IW(117) /'EN','  ',18/
d171 1
a171 1
      DATA MENU(46),  MENUL(46),  IW(46)  /'IP','  ',2/
d176 1
a176 1
      DATA MENU(48),  MENUL(48),  IW(48)  /'LI','  ',1/
d179 1
a179 1
      DATA MENU(51),  MENUL(51),  IW(51)  /'ME','  ',15/
d184 1
a184 1
      DATA MENU(55),  MENUL(55),  IW(55)  /'MO','  ',1/
d187 1
a187 1
      DATA MENU(57),  MENUL(57),  IW(57)  /'MU','  ',2/
d196 2
a197 2
      DATA MENU(62),  MENUL(62),  IW(62)  /'PA','  ',2/
      DATA MENU(63),  MENUL(63),  IW(63)  /'PD','  ',2/
d201 1
a201 1
      DATA MENU(66),  MENUL(66),  IW(66)  /'PJ','  ',12/
d213 1
a213 1
      DATA MENU(120),MENUL(120),  IW(120) /'RE','  ',18/
d224 1
a224 1
      DATA MENU(88),  MENUL(88),  IW(88)  /'SD','  ',17/
d236 2
a237 2
      DATA MENU(97),  MENUL(97),  IW(97)  /'ST','  ',1/
      DATA MENU(98),  MENUL(98),  IW(98)  /'SU','  ',2/
d248 1
a248 1
      DATA MENU(110), MENUL(110), IW(110) /'UD','  ',17/
d252 1
a252 1
      DATA MENU(113), MENUL(113), IW(113) /'WI','  ',2/
@


1.50
log
@wu--> sqrt, div --> mu d
@
text
@d65 2
a66 2
C				WI CE AR MR DF MA WV PP SZ WU MM CM
C				PV NK AS MN TH GP RP MX
d100 1
a100 1
      PARAMETER (NMENU = 151) 
d137 1
d187 1
a187 1
      DATA MENU(57),  MENUL(57),  IW(57)  /'MU','DIV',2/
@


1.49
log
@added mx
@
text
@d21 2
d64 1
a64 1
C	2	UTIL2		AD BL CP IN IP MU PA PD SH SQ SU
d100 1
a100 1
      PARAMETER (NMENU = 159) 
d186 2
a187 1
      DATA MENU(57),  MENUL(57),  IW(57)  /'MU','  ',2/
d217 1
a217 1
      DATA MENU(135),MENUL(135), IW(135)  /'RP','  ',2/
d224 1
a224 1
      DATA MENU(127),MENUL(127),  IW(127) /'SE','  ',16/
d253 1
a253 1
      DATA MENU(115), MENUL(115), IW(115) /'WU','  ',2/
a254 1
      DATA MENU(151), MENUL(151), IW(151) /'MX','  ',2/
@


1.48
log
@added la
@
text
@d20 1
d64 1
a64 1
C				PV NK AS MN TH GP RP
d252 2
@


1.47
log
@added sn
@
text
@d19 1
d97 1
a97 1
      PARAMETER (NMENU = 149) 
d169 1
@


1.46
log
@VA added
@
text
@d18 1
d70 1
a70 1
C	9	UTIL4		AP HF AT MS IQ NEG VA
d96 1
a96 1
      PARAMETER (NMENU = 148) 
d224 1
@


1.45
log
@reg_pipe added
@
text
@a0 1

a12 1
C                            ADDED   'FV'  DEC 99 pap
d17 1
d69 1
a69 1
C	9	UTIL4		AP HF AT MS IQ NEG
d95 1
a95 1
      PARAMETER (NMENU = 147) 
d240 1
a411 1
                     
@


1.44
log
@N_VERBOSE --> VERBOSE
@
text
@d17 2
a18 1
C                            ADDED   'Ev'  APR 01 al
d96 1
a96 1
      PARAMETER (NMENU = 146) 
d193 1
@


1.43
log
@added ev
@
text
@d307 2
a308 2
C     SOME OPERATIONS SHOULD BE SILENT IN BATCH MODE IF N_VERBOSE == 0
      IF ((ICOM .EQ. 88 .OR. ICOM .EQ. 110) .AND. N_VERBOSE .EQ. 0) THEN
@


1.42
log
@?xxxx?<1> anywhere now
@
text
@d17 2
d21 1
a21 1
C * COPYRIGHT (C)1985, 1999. HEALTH RESEARCH INCORPORATED (HRI),       *
d75 2
a76 1
C       15      DRIV1           NC VM ME CK TM SR RR PO SA VO MD AA FR 
d95 1
a95 1
      PARAMETER (NMENU = 145) 
d142 1
@


1.41
log
@added er
@
text
@a15 1
C                            'FR' MOVED TO SPIDER.F SEP 00 al
d61 1
a61 1
C                               DI
d73 1
a73 1
C       15      DRIV1           NC VM ME CK TM SR RR PO SA VO MD AA 
d88 2
a89 2
      CHARACTER *20    FCHARS
      COMMON /SP_OPER/ FCHARS
d94 3
a96 3
      CHARACTER * 2         MENU(NMENU)
      CHARACTER *12         MENUL(NMENU)
      INTEGER               IW(NMENU)
d147 1
a147 1
      DATA MENU(38),  MENUL(38),  IW(38)  /'--','  ',15/
d383 1
a383 2
15    CALL DRIV1(MAXDIM,IRTFLG)
C     "FR" & "RR" with '?' RESPONSE, HANDLED IN SPIDER.F NOW
@


1.40
log
@no procX file changes
@
text
@d17 1
d93 1
a93 1
      PARAMETER (NMENU = 144) 
d139 1
@


1.39
log
@"PO' is for to_polar
@
text
@d16 1
a16 2
C                            ADDED   'PO'  Sept 00 al
C
d73 1
a73 1
C       15      DRIV1           NC VM ME CK TM SR RR FR PO SA VO MD AA
d146 1
a146 1
      DATA MENU(38),  MENUL(38),  IW(38)  /'FR','  ',15/
d321 6
a326 1
         CALL UTIL1(MAXDIM) 
d382 2
a383 1
15    CALL DRIV1(MAXDIM)
@


1.38
log
@reverted to pre procX version
@
text
@d16 1
@


1.37
log
@Bproc RR & FR changes
@
text
@d16 1
a16 1
C                            'FR' MOVED TO SPIDER.F SEP 00 al
d73 1
a73 1
C       15      DRIV1           NC VM ME CK TM SR RR PO SA VO MD AA 
d146 1
a146 1
      DATA MENU(38),  MENUL(38),  IW(38)  /'--','  ',15/
d321 1
a321 6
         CALL UTIL1(MAXDIM,IRTFLG)
         IF (IRTFLG .EQ. 1) THEN
C           used "FI" instead of "FR"
            FCHAR = 'FR'
            RETURN
         ENDIF
d377 1
a377 2
15    CALL DRIV1(MAXDIM,IRTFLG)
C     "FR" & "RR" with '?' RESPONSE, HANDLED IN SPIDER.F NOW
@


1.36
log
@added set regs
@
text
@d16 1
a16 1
C
d73 1
a73 1
C       15      DRIV1           NC VM ME CK TM SR RR FR PO SA VO MD AA
d146 1
a146 1
      DATA MENU(38),  MENUL(38),  IW(38)  /'FR','  ',15/
d321 6
a326 1
         CALL UTIL1(MAXDIM) 
d382 2
a383 1
15    CALL DRIV1(MAXDIM)
@


1.35
log
@*** empty log message ***
@
text
@d311 1
a311 1
         CALL READPQ(FCHAR)
@


1.34
log
@3 letter commands bug fixed
@
text
@d331 1
a331 1
4     CALL CORR1(MAXDIM) 
@


1.33
log
@added "so"
@
text
@d31 1
a31 1
C                  ICOM                                      (RETURNED)
d265 3
a267 3
        LENMEN = INDEX(FCHAR,' ')
        IF (LENMEN .EQ. 0) LENMEN = INDEX(FCHAR,CHAR(0))
        IF (LENMEN .EQ. 0) LENMEN = LEN(FCHAR)
d269 2
a270 3
        DO IEND = 3,LENMEN
          DO I = 1,NMENU
           IF (FCHAR(1:IEND) .EQ. MENUL(I)(1:IEND)) THEN
d274 2
a275 2
                 WRITE(NOUT,*) 
     &           '*** AMBIGUOUS OPERATION - SUPPLY MORE CHARACTERS.'
a280 9

C             SAVE OPERATION IN FCHARS
              FCHARS = FCHAR(1:LENMEN-1) // CHAR(0)

C             SET FCHAR TO SHORT MENU OPERATION
              FCHAR(1:2) = MENU(I)(1:2)

C             MOVE SUBOPTIONS TO POSITION 4 IN FCHAR
              FCHAR(4:) = FCHAR(LENMEN+1:)
a281 1
          ENDDO
d283 11
@


1.32
log
@DI
@
text
@d14 2
d77 1
a77 1
C       19      UTIL6		EC IA
d92 1
a92 1
      PARAMETER (NMENU = 142) 
d217 1
@


1.31
log
@FV added
@
text
@d59 1
d90 1
a90 1
      PARAMETER (NMENU = 141) 
d126 1
@


1.30
log
@NEG
@
text
@d8 1
a8 1
C                            ADDED 'AF' FEBR 98 pp
d13 1
d89 1
a89 1
      PARAMETER (NMENU = 140) 
d145 1
@


1.29
log
@added neg
@
text
@d172 1
a172 1
      DATA MENU(140), MENUL(140), IW(140) /'NE','  ',9/
@


1.28
log
@trap for nletop1 == 0
@
text
@d12 1
d14 8
a21 9
C **************************************************************************
C *  SPIDER - MODULAR IMAGE PROCESSING SYSTEM.  AUTHOR: J.FRANK            *
C *  COPYRIGHT (C)1981,1987, WADSWORTH CENTER FOR LABORATORIES AND         *
C *  RESEARCH, NEW YORK STATE DEPARTMENT OF HEALTH, ALBANY, NY 12201.      *
C *    THE CONTENTS OF THIS DOCUMENT ARE PROPRIETARY TO THE CENTER FOR     *
C *    LABORATORIES AND RESEARCH AND ARE NOT TO BE DISCLOSED TO OTHERS OR  *
C *    USED FOR PURPOSES OTHER THAN INTENDED WITHOUT WRITTEN APPROVAL OF   *
C *    THE CENTER FOR LABORATORIES AND RESEARCH 			   *
C **************************************************************************
d63 1
a63 1
C	9	UTIL4		AP HF AT MS IQ
d88 1
a88 1
      PARAMETER (NMENU = 139) 
d172 1
@


1.27
log
@fixed 2 letter op bug (new)
@
text
@d236 5
a240 1
      IGO      = INDEX(FCHAR(1:NLETOP),' ')
@


1.26
log
@added doc opeation
@
text
@d233 5
a237 4
      IRTFLG = 0
      ICOM   = 0
      NLETOP = LNBLNKN(FCHAR)
      NLETOP = INDEX(FCHAR(1:NLETOP),' ')
d239 1
a239 1
      IF (NLETOP .GT. 0 .AND. NLETOP .EQ. 3) THEN
@


1.25
log
@OD added
@
text
@d11 1
d23 1
a23 1
C     TSWITCH(ICOM,IWHICH,MAXDIM)
d27 4
a30 2
C     PARAMETERS:  IWHICH     TASK LEVEL SELECTION NUMBER  
C                  MAXDIM     MAX. SIZE OF COMMON BUFFER
d75 1
a82 1
CNO_SAVE
d88 1
a88 1
      PARAMETER (NMENU = 138) 
d125 1
d235 13
a247 7
      DO I = 1,NMENU
         IF (FCHAR(1:2) .EQ. MENU(I)(1:2)) THEN
            ICOM   = I
            IWHICH = IW(I)
            FCHARS(1:3) = FCHAR(1:2) // CHAR(0)
         ENDIF
      ENDDO
d301 2
a302 1
      GOTO (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20),IWHICH
d381 3
@


1.24
log
@added ia
@
text
@d54 1
a54 1
C	3	UTIL3		AF ED RC RT BC CT OR FC SL RO OD MK 
d85 1
a85 1
      PARAMETER (NMENU = 137) 
d144 1
a144 1
      DATA MENU(137),MENUL(137), IW(137)  /'HD','  ',1/
d170 1
@


1.23
log
@removed "pr"
@
text
@d10 1
d30 1
a30 1
C                  1) INCREMENT NMENU PRAMETER
d70 1
a70 1
C       19      UTIL6		EC
a72 2
C NOTE: AUG 98 OPERATION 'PR' IS AVAILABLE (NO LONGER USED IN UTIL1)
C
d148 1
a179 1
      DATA MENU(71),  MENUL(71),  IW(71)  /'PR','  ',1/
@


1.22
log
@bad My shud be MY
@
text
@d9 1
d48 1
a48 1
C	1	UTIL1		DE DU FI HI HD LI MO PK PR RA RN
d72 2
d291 1
a291 1
      GOTO (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20), IWHICH
d293 6
a298 1
1     CALL UTIL1(MAXDIM) 
@


1.21
log
@*** empty log message ***
@
text
@d163 1
a163 1
      DATA MENU(133), MENUL(133), IW(133) /'My','  ',20/
@


1.20
log
@AF added
@
text
@d47 1
a47 1
C	1	UTIL1		DE DU FI HI LI MO PK PR RA RN
d52 1
a52 1
C	3	UTIL3		ED RC RT BC CT OR FC SL RO OD MK AF
d83 1
a83 1
      PARAMETER (NMENU = 136) 
d142 1
@


1.19
log
@*** empty log message ***
@
text
@d8 1
d52 1
a52 1
C	3	UTIL3		ED RC RT BC CT OR FC SL RO OD MK
d83 1
a83 1
      PARAMETER (NMENU = 135) 
d92 1
@


1.18
log
@GP and RP added
@
text
@d187 1
a187 1
      DATA MENU(135),MENUL(135),  IW(42)  /'RP','  ',2/
@


1.17
log
@add iq operation
@
text
@d50 1
a50 1
C				PV NK AS MN TH
d60 1
a60 1
C	12	VTIL2		PS SK PJ BP DC GP DR MF
d82 1
a82 1
      PARAMETER (NMENU = 134) 
d138 1
a138 1
      DATA MENU(42),  MENUL(42),  IW(42)  /'GP','  ',12/
d187 1
@


1.16
log
@added mod1 with operation "my"
@
text
@d7 2
d21 1
a21 1
C     PURPOSE:   SELECTS CORRECT TASK LEVEL CALLING ROUTINE
d57 1
a57 1
C	9	UTIL4		AP HF AT MS
d82 1
a82 1
      PARAMETER (NMENU = 133) 
d145 1
@


1.15
log
@removed tape1 call
@
text
@d21 1
a21 1
C     PARAMETERS:  IWHICH     TASK LEVEL SELECTION NUMBER  (FORM INQ.FOR)
d33 1
a33 1
C                  4) UPDATE THE OPERATION TABLE DIRECTLY BELOW.
d65 2
a66 1
C       19      UTIL6		EC 
d80 1
a80 1
      PARAMETER (NMENU = 132) 
d157 1
d281 1
a281 1
      GOTO (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19), IWHICH
d352 3
@


1.14
log
@menu(5) duplicated
@
text
@d51 1
a51 1
C	5	TAPE1		TI TR TW
d293 10
a302 1
5     CALL TAPE1(MAXDIM) 
@


1.13
log
@added ms operation to util4
@
text
@a90 1
      DATA MENU(5),   MENUL(5),   IW(5)   /'AS','  ',2/
@


1.12
log
@FD in four1 added
@
text
@d55 1
a55 1
C	9	UTIL4		AP HF AT
d79 1
a79 1
      PARAMETER (NMENU = 131) 
a85 1

d125 1
a125 1
      DATA MENU(131),  MENUL(131),  IW(131)  /'FD','  ',6/
d151 66
a216 66
      DATA MENU(53),MENUL(53),IW(53)/'MM','  ',2/
      DATA MENU(54),MENUL(54),IW(54)/'MN','  ',2/
      DATA MENU(55),MENUL(55),IW(55)/'MO','  ',1/
      DATA MENU(56),MENUL(56),IW(56)/'MR','  ',2/
      DATA MENU(57),MENUL(57),IW(57)/'MU','  ',2/
      DATA MENU(58),MENUL(58),IW(58)/'NC','  ',15/
      DATA MENU(59),MENUL(59),IW(59)/'NK','  ',2/
      DATA MENU(60),MENUL(60),IW(60)/'OD','  ',3/
      DATA MENU(61),MENUL(61),IW(61)/'OR','  ',3/
      DATA MENU(62),MENUL(62),IW(62)/'PA','  ',2/
      DATA MENU(63),MENUL(63),IW(63)/'PD','  ',2/
      DATA MENU(64),MENUL(64),IW(64)/'PF','  ',7/
      DATA MENU(65),MENUL(65),IW(65)/'PH','  ',13/
      DATA MENU(66),MENUL(66),IW(66)/'PJ','  ',12/
      DATA MENU(67),MENUL(67),IW(67)/'PK','  ',1/
      DATA MENU(68),MENUL(68),IW(68)/'PL','  ',7/
      DATA MENU(69),MENUL(69),IW(69)/'PO','  ',15/
      DATA MENU(70),MENUL(70),IW(70)/'PP','  ',2/
      DATA MENU(71),MENUL(71),IW(71)/'PR','  ',1/
      DATA MENU(72),MENUL(72),IW(72)/'PS','  ',12/
      DATA MENU(73),MENUL(73),IW(73)/'PT','  ',14/
      DATA MENU(74),MENUL(74),IW(74)/'PV','  ',2/
      DATA MENU(75),MENUL(75),IW(75)/'PW','  ',6/
      DATA MENU(76),MENUL(76),IW(76)/'RA','  ',1/
      DATA MENU(77),MENUL(77),IW(77)/'RC','  ',3/
      DATA MENU(78),MENUL(78),IW(78)/'RD','  ',6/
      DATA MENU(120),MENUL(120),IW(120)/'RE','  ',18/
      DATA MENU(79),MENUL(79),IW(79)/'RF','  ',6/
      DATA MENU(80),MENUL(80),IW(80)/'RM','  ',10/
      DATA MENU(81),MENUL(81),IW(81)/'RN','  ',1/
      DATA MENU(82),MENUL(82),IW(82)/'RO','  ',3/
      DATA MENU(83),MENUL(83),IW(83)/'RR','  ',15/
      DATA MENU(84),MENUL(84),IW(84)/'RS','  ',14/
      DATA MENU(85),MENUL(85),IW(85)/'RT','  ',3/
      DATA MENU(86),MENUL(86),IW(86)/'SA','  ',15/
      DATA MENU(87),MENUL(87),IW(87)/'SC','  ',13/
      DATA MENU(88),MENUL(88),IW(88)/'SD','  ',17/
      DATA MENU(127),MENUL(127),IW(127)/'SE','  ',16/
      DATA MENU(89),MENUL(89),IW(89)/'SF','  ',13/
      DATA MENU(90),MENUL(90),IW(90)/'SH','  ',2/
      DATA MENU(91),MENUL(91),IW(91)/'SI','  ',13/
      DATA MENU(92),MENUL(92),IW(92)/'SK','  ',12/
      DATA MENU(93),MENUL(93),IW(93)/'SL','  ',3/
      DATA MENU(94),MENUL(94),IW(94)/'SP','  ',13/
      DATA MENU(95),MENUL(95),IW(95)/'SQ','  ',2/
      DATA MENU(96),MENUL(96),IW(96)/'SR','  ',15/
      DATA MENU(97),MENUL(97),IW(97)/'ST','  ',1/
      DATA MENU(98),MENUL(98),IW(98)/'SU','  ',2/
      DATA MENU(99),MENUL(99),IW(99)/'SZ','  ',2/
      DATA MENU(100),MENUL(100),IW(100)/'TA','  ',13/
      DATA MENU(101),MENUL(101),IW(101)/'TF','  ',1/
      DATA MENU(102),MENUL(102),IW(102)/'TH','  ',2/
      DATA MENU(103),MENUL(103),IW(103)/'TI','  ',5/
      DATA MENU(104),MENUL(104),IW(104)/'TM','  ',15/
      DATA MENU(105),MENUL(105),IW(105)/'TP','  ',11/
      DATA MENU(106),MENUL(106),IW(106)/'TR','  ',5/
      DATA MENU(107),MENUL(107),IW(107)/'TT','  ',1/
      DATA MENU(108),MENUL(108),IW(108)/'TV','  ',16/
      DATA MENU(109),MENUL(109),IW(109)/'TW','  ',5/
      DATA MENU(110),MENUL(110),IW(110)/'UD','  ',17/
      DATA MENU(111),MENUL(111),IW(111)/'VM','  ',15/
      DATA MENU(112),MENUL(112),IW(112)/'VO','  ',15/
      DATA MENU(113),MENUL(113),IW(113)/'WI','  ',2/
      DATA MENU(114),MENUL(114),IW(114)/'WT','  ',8/
      DATA MENU(115),MENUL(115),IW(115)/'WU','  ',2/
      DATA MENU(116),MENUL(116),IW(116)/'WV','  ',2/
@


1.11
log
@added goto operation
@
text
@d52 1
a52 1
C	6	FOUR1		FT PW FF FL FP EF RF GF RD CF FQ
d79 1
a79 1
      PARAMETER (NMENU = 130) 
d126 1
@


1.10
log
@silent flag setter added
@
text
@d4 1
a4 2
C TSWITCH.FOR                         
C                            FILENAMES LENGTHENED JAN 89 al
d64 1
a64 1
C       18      DRIVER          EN DO LB EX RE IF
d73 1
d75 1
a75 1
      CHARACTER *20 FCHARS
d79 1
a79 1
      PARAMETER (NMENU = 129) 
d87 6
a92 6
      DATA MENU(1), MENUL(1), IW(1) /'AC','  ',4/
      DATA MENU(2), MENUL(2), IW(2) /'AD','  ',2/
      DATA MENU(3), MENUL(3), IW(3) /'AP','  ',9/
      DATA MENU(4), MENUL(4), IW(4) /'AR','  ',2/
      DATA MENU(5), MENUL(5), IW(5) /'AS','  ',2/
      DATA MENU(5), MENUL(5), IW(5) /'AS','  ',2/
d94 57
a150 56
      DATA MENU(6), MENUL(6), IW(6) /'BC','  ',3/
      DATA MENU(7), MENUL(7), IW(7) /'BL','  ',2/
      DATA MENU(8), MENUL(8), IW(8) /'BP','  ',12/
      DATA MENU(9), MENUL(9), IW(9) /'CA','  ',1/
      DATA MENU(10),MENUL(10),IW(10)/'CC','  ',4/
      DATA MENU(11),MENUL(11),IW(11)/'CE','  ',2/
      DATA MENU(12),MENUL(12),IW(12)/'CF','  ',6/
      DATA MENU(13),MENUL(13),IW(13)/'CG','  ',1/
      DATA MENU(14),MENUL(14),IW(14)/'CI','  ',14/
      DATA MENU(15),MENUL(15),IW(15)/'CK','  ',15/
      DATA MENU(125),MENUL(125),IW(125)/'CL','  ',1/
      DATA MENU(16),MENUL(16),IW(16)/'CM','  ',2/
      DATA MENU(17),MENUL(17),IW(17)/'CN','  ',4/
      DATA MENU(18),MENUL(18),IW(18)/'CO','  ',7/
      DATA MENU(19),MENUL(19),IW(19)/'CP','  ',2/
      DATA MENU(20),MENUL(20),IW(20)/'CR','  ',13/
      DATA MENU(21),MENUL(21),IW(21)/'CS','  ',7/
      DATA MENU(22),MENUL(22),IW(22)/'CT','  ',3/
      DATA MENU(23),MENUL(23),IW(23)/'CV','  ',1/
      DATA MENU(24),MENUL(24),IW(24)/'DC','  ',12/
      DATA MENU(25),MENUL(25),IW(25)/'DE','  ',1/
      DATA MENU(26),MENUL(26),IW(26)/'DF','  ',2/
      DATA MENU(118),MENUL(118),IW(118)/'DO','  ',18/
      DATA MENU(27),MENUL(27),IW(27)/'DR','  ',12/
      DATA MENU(28),MENUL(28),IW(28)/'DU','  ',1/
      DATA MENU(128),MENUL(128),IW(128)/'EC','  ',19/
      DATA MENU(29),MENUL(29),IW(29)/'ED','  ',3/
      DATA MENU(30),MENUL(30),IW(30)/'EF','  ',6/
      DATA MENU(117),MENUL(117),IW(117)/'EN','  ',18/
      DATA MENU(31),MENUL(31),IW(31)/'EP','  ',14/
      DATA MENU(119),MENUL(119),IW(119)/'EX','  ',18/
      DATA MENU(32),MENUL(32),IW(32)/'FC','  ',3/
      DATA MENU(33),MENUL(33),IW(33)/'FF','  ',6/
      DATA MENU(34),MENUL(34),IW(34)/'FI','  ',1/
      DATA MENU(35),MENUL(35),IW(35)/'FL','  ',6/
      DATA MENU(36),MENUL(36),IW(36)/'FP','  ',6/
      DATA MENU(37),MENUL(37),IW(37)/'FQ','  ',6/
      DATA MENU(38),MENUL(38),IW(38)/'FR','  ',15/
      DATA MENU(39),MENUL(39),IW(39)/'FS','  ',1/
      DATA MENU(40),MENUL(40),IW(40)/'FT','  ',6/
      DATA MENU(41),MENUL(41),IW(41)/'GF','  ',6/
      DATA MENU(42),MENUL(42),IW(42)/'GP','  ',12/
      DATA MENU(43),MENUL(43),IW(43)/'GR','  ',1/
      DATA MENU(44),MENUL(44),IW(44)/'HI','  ',1/
      DATA MENU(126),MENUL(126),IW(126)/'HF','  ',9/
      DATA MENU(121),MENUL(121),IW(121)/'IF','  ',18/
      DATA MENU(45),MENUL(45),IW(45)/'IN','  ',2/
      DATA MENU(46),MENUL(46),IW(46)/'IP','  ',2/
      DATA MENU(122),MENUL(122),IW(122)/'LB','  ',18/
      DATA MENU(47),MENUL(47),IW(47)/'LD','  ',17/
      DATA MENU(48),MENUL(48),IW(48)/'LI','  ',1/
      DATA MENU(49),MENUL(49),IW(49)/'MA','  ',2/
      DATA MENU(50),MENUL(50),IW(50)/'MD','  ',15/
      DATA MENU(51),MENUL(51),IW(51)/'ME','  ',15/
      DATA MENU(52),MENUL(52),IW(52)/'MF','  ',12/
      DATA MENU(123),MENUL(123),IW(123)/'MK','  ',3/
d337 1
a337 1
C     SPECIAL CASE FOR OPERATIONS IN DRIVER
@


1.9
log
@put back BC
@
text
@d266 8
@


1.8
log
@added automatic particle picking AT
@
text
@d94 1
@


1.7
log
@adding util6 for Extract CLusters
@
text
@d56 1
a56 1
C	9	UTIL4		AP HF
d73 1
a73 5
#ifdef SP_UNIX
      INCLUDE 'CMBLOCK.INC' 
#else
      INCLUDE 'COMMON1:CMBLOCK.INC' 
#endif
d79 1
a79 1
      PARAMETER (NMENU = 128) 
d92 2
a93 1
      DATA MENU(6), MENUL(6), IW(6) /'BC','  ',3/
@


1.6
log
@added se
@
text
@d66 1
d83 1
a83 1
      PARAMETER (NMENU = 127) 
d121 1
d273 1
a273 1
      GOTO (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18), IWHICH
d332 3
@


1.5
log
@correct menu for hf command
@
text
@d63 2
a64 2
C       16      DRIV2           UD LD SD
C       17      DRIV3           TV         
d82 1
a82 1
      PARAMETER (NMENU = 126) 
d138 1
d187 1
a215 1
      DATA MENU(126),MENUL(126),IW(126)/'HF','  ',9/
@


1.4
log
@added hf command to util4.f
@
text
@d82 1
a82 1
      PARAMETER (NMENU = 125) 
d214 1
a214 1
      DATA MENU(117),MENUL(117),IW(117)/'HF','  ',9/
@


1.3
log
@no change
@
text
@d56 1
a56 1
C	9	UTIL4		AP
d214 1
@


1.2
log
@cpp_lines_added
@
text
@@


1.1
log
@Initial revision
@
text
@d72 3
d76 1
@
